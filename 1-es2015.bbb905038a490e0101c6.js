(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"+V0K":function(t,e,i){"use strict";i.d(e,"a",function(){return n});const n=2},"+bG2":function(t,e,i){"use strict";i.d(e,"a",function(){return o});var n=i("wd/R"),s=(i("zgrA"),i("XNiG")),r=i("DnKK");class o{constructor(t){this._momentHelperS=t,this.calendar=[],this.touches$=new s.a,this.changes$=new s.a,this.options=[]}ngOnInit(){n.locale("RU")}registerOnChange(t){this.changes$.pipe(Object(r.a)(this)).subscribe(t)}registerOnTouched(t){this.touches$.pipe(Object(r.a)(this)).subscribe(t)}writeValue(t){this.state!==t&&(this.state=Object.assign({},t,{dayString:n(t.value).format("YYYY-MM-DD")}),this.changes$.next(this.state))}updateValue(t){this.state=Object.assign({},t,{dayString:n(t.value).format("YYYY-MM-DD")}),this.changes$.next(t)}ngOnDestroy(){}ngOnChanges(t){t.options&&(this.calendar=this._momentHelperS.generateCalendarArray(t.options.currentValue.map(t=>Object.assign({},t,{dayString:n(t.value).format("YYYY-MM-DD")}))))}}},"+jxB":function(t,e,i){"use strict";i.d(e,"a",function(){return r});var n=i("XNiG"),s=i("DnKK");class r{constructor(){this.options=[],this.titleField="title",this.changes$=new n.a,this.touches$=new n.a}ngOnInit(){}writeValue(t){this.state=t,this.changes$.next(t)}updateValue(t){t===this.state||t.disabled||this.writeValue(t)}registerOnChange(t){this.changes$.pipe(Object(s.a)(this)).subscribe(t)}registerOnTouched(t){this.touches$.pipe(Object(s.a)(this)).subscribe(t)}ngOnDestroy(){}}},"/HVE":function(t,e,i){"use strict";i.d(e,"a",function(){return a}),i.d(e,"b",function(){return l}),i.d(e,"e",function(){return c}),i.d(e,"f",function(){return d}),i.d(e,"g",function(){return g}),i.d(e,"d",function(){return _}),i.d(e,"c",function(){return p});var n=i("8Y7J"),s=i("SVse");let r;try{r="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(m){r=!1}let o,a=(()=>{class t{constructor(t){this._platformId=t,this.isBrowser=this._platformId?Object(s.t)(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!r)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return t.ngInjectableDef=Object(n.Ub)({factory:function(){return new t(Object(n.Vb)(n.A,8))},token:t,providedIn:"root"}),t})();class l{}const h=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function c(){if(o)return o;if("object"!=typeof document||!document)return o=new Set(h);let t=document.createElement("input");return o=new Set(h.filter(e=>(t.setAttribute("type",e),t.type===e)))}let u;function d(t){return function(){if(null==u&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>u=!0}))}finally{u=u||!1}return u}()?t:!!t.capture}const p=function(){var t={NORMAL:0,NEGATED:1,INVERTED:2};return t[t.NORMAL]="NORMAL",t[t.NEGATED]="NEGATED",t[t.INVERTED]="INVERTED",t}();let f;function g(){return!!("object"==typeof document&&"scrollBehavior"in document.documentElement.style)}function _(){if("object"!=typeof document||!document)return p.NORMAL;if(!f){const t=document.createElement("div"),e=t.style;t.dir="rtl",e.height="1px",e.width="1px",e.overflow="auto",e.visibility="hidden",e.pointerEvents="none",e.position="absolute";const i=document.createElement("div"),n=i.style;n.width="2px",n.height="1px",t.appendChild(i),document.body.appendChild(t),f=p.NORMAL,0===t.scrollLeft&&(t.scrollLeft=1,f=0===t.scrollLeft?p.NEGATED:p.INVERTED),t.parentNode.removeChild(t)}return f}},"/OYL":function(t,e,i){var n=i("mrSG").__extends;Object.defineProperty(e,"__esModule",{value:!0});var s,r=i("nLhi"),o=i("8LQ0"),a=i("SXH2"),l=i("RUZL"),h=i("13ei"),c=i("fSr5"),u="hasShadow",d="shadowRGBA",p="patternImage",f="linearGradient",g="radialGradient";function _(){return s||(s=r.Util.createCanvasElement().getContext("2d"))}function m(){this._clearCache(u)}function b(){this._clearCache(d)}function v(){this._clearCache(p)}function y(){this._clearCache(f)}function w(){this._clearCache(g)}e.shapes={};var S=function(t){function i(i){for(var n,s=t.call(this,i)||this;!(n=r.Util.getRandomColor())||n in e.shapes;);return s.colorKey=n,e.shapes[n]=s,s.on("shadowColorChange.konva shadowBlurChange.konva shadowOffsetChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",m),s.on("shadowColorChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",b),s.on("fillPriorityChange.konva fillPatternImageChange.konva fillPatternRepeatChange.konva",v),s.on("fillPriorityChange.konva fillLinearGradientColorStopsChange.konva fillLinearGradientStartPointXChange.konva fillLinearGradientStartPointYChange.konva fillLinearGradientEndPointXChange.konva fillLinearGradientEndPointYChange.konva",y),s.on("fillPriorityChange.konva fillRadialGradientColorStopsChange.konva fillRadialGradientStartPointXChange.konva fillRadialGradientStartPointYChange.konva fillRadialGradientEndPointXChange.konva fillRadialGradientEndPointYChange.konva fillRadialGradientStartRadiusChange.konva fillRadialGradientEndRadiusChange.konva",w),s}return n(i,t),i.prototype.getContext=function(){return this.getLayer().getContext()},i.prototype.getCanvas=function(){return this.getLayer().getCanvas()},i.prototype.getSceneFunc=function(){return this.attrs.sceneFunc||this._sceneFunc},i.prototype.getHitFunc=function(){return this.attrs.hitFunc||this._hitFunc},i.prototype.hasShadow=function(){return this._getCache(u,this._hasShadow)},i.prototype._hasShadow=function(){return this.shadowEnabled()&&0!==this.shadowOpacity()&&!!(this.shadowColor()||this.shadowBlur()||this.shadowOffsetX()||this.shadowOffsetY())},i.prototype._getFillPattern=function(){return this._getCache(p,this.__getFillPattern)},i.prototype.__getFillPattern=function(){if(this.fillPatternImage())return _().createPattern(this.fillPatternImage(),this.fillPatternRepeat()||"repeat")},i.prototype._getLinearGradient=function(){return this._getCache(f,this.__getLinearGradient)},i.prototype.__getLinearGradient=function(){var t=this.fillLinearGradientColorStops();if(t){for(var e=_(),i=this.fillLinearGradientStartPoint(),n=this.fillLinearGradientEndPoint(),s=e.createLinearGradient(i.x,i.y,n.x,n.y),r=0;r<t.length;r+=2)s.addColorStop(t[r],t[r+1]);return s}},i.prototype._getRadialGradient=function(){return this._getCache(g,this.__getRadialGradient)},i.prototype.__getRadialGradient=function(){var t=this.fillRadialGradientColorStops();if(t){for(var e=_(),i=this.fillRadialGradientStartPoint(),n=this.fillRadialGradientEndPoint(),s=e.createRadialGradient(i.x,i.y,this.fillRadialGradientStartRadius(),n.x,n.y,this.fillRadialGradientEndRadius()),r=0;r<t.length;r+=2)s.addColorStop(t[r],t[r+1]);return s}},i.prototype.getShadowRGBA=function(){return this._getCache(d,this._getShadowRGBA)},i.prototype._getShadowRGBA=function(){if(this.hasShadow()){var t=r.Util.colorToRGBA(this.shadowColor());return"rgba("+t.r+","+t.g+","+t.b+","+t.a*(this.shadowOpacity()||1)+")"}},i.prototype.hasFill=function(){return!!(this.fill()||this.fillPatternImage()||this.fillLinearGradientColorStops()||this.fillRadialGradientColorStops())},i.prototype.hasStroke=function(){return this.strokeEnabled()&&this.strokeWidth()&&!(!this.stroke()&&!this.strokeLinearGradientColorStops())},i.prototype.intersects=function(t){var e=this.getStage().bufferHitCanvas;return e.getContext().clear(),this.drawHit(e),e.context.getImageData(Math.round(t.x),Math.round(t.y),1,1).data[3]>0},i.prototype.destroy=function(){return a.Node.prototype.destroy.call(this),delete e.shapes[this.colorKey],delete this.colorKey,this},i.prototype._useBufferCanvas=function(t){return!(t&&!this.hasShadow()||!this.perfectDrawEnabled()||1===this.getAbsoluteOpacity()||!this.hasFill()||!this.hasStroke()||!this.getStage())},i.prototype.setStrokeHitEnabled=function(t){this.hitStrokeWidth(t?"auto":0)},i.prototype.getStrokeHitEnabled=function(){return 0!==this.hitStrokeWidth()},i.prototype.getSelfRect=function(){var t=this.size();return{x:this._centroid?Math.round(-t.width/2):0,y:this._centroid?Math.round(-t.height/2):0,width:t.width,height:t.height}},i.prototype.getClientRect=function(t){var e=(t=t||{}).skipTransform,i=t.relativeTo,n=this.getSelfRect(),s=!t.skipStroke&&this.hasStroke()&&this.strokeWidth()||0,r=n.width+s,o=n.height+s,a=!t.skipShadow&&this.hasShadow(),l=a?this.shadowOffsetX():0,h=a?this.shadowOffsetY():0,c=r+Math.abs(l),u=o+Math.abs(h),d=a&&this.shadowBlur()||0,p=c+2*d,f=u+2*d,g=0;Math.round(s/2)!==s/2&&(g=1);var _={width:p+g,height:f+g,x:-Math.round(s/2+d)+Math.min(l,0)+n.x,y:-Math.round(s/2+d)+Math.min(h,0)+n.y};return e?_:this._transformedRect(_,i)},i.prototype.drawScene=function(t,e,i,n){var s,r,o=this.getLayer(),a=t||o.getCanvas(),l=a.getContext(),h=this._getCanvasCache(),c=this.sceneFunc(),u=this.hasShadow(),d=this.hasStroke();if(!this.isVisible()&&!i)return this;if(h)return l.save(),o._applyTransform(this,l,e),this._drawCachedSceneCanvas(l),l.restore(),this;if(!c)return this;if(l.save(),this._useBufferCanvas(i)&&!n){if((r=(s=this.getStage().bufferCanvas).getContext()).clear(),r.save(),r._applyLineJoin(this),!i)if(o)o._applyTransform(this,r,e);else{var p=this.getAbsoluteTransform(e).getMatrix();l.transform(p[0],p[1],p[2],p[3],p[4],p[5])}c.call(this,r,this),r.restore();var f=s.pixelRatio;u&&!a.hitCanvas?(l.save(),l._applyShadow(this),l._applyOpacity(this),l._applyGlobalCompositeOperation(this),l.drawImage(s._canvas,0,0,s.width/f,s.height/f),l.restore()):(l._applyOpacity(this),l._applyGlobalCompositeOperation(this),l.drawImage(s._canvas,0,0,s.width/f,s.height/f))}else{if(l._applyLineJoin(this),!i)if(o)o._applyTransform(this,l,e);else{var g=this.getAbsoluteTransform(e).getMatrix();l.transform(g[0],g[1],g[2],g[3],g[4],g[5])}u&&d&&!a.hitCanvas?(l.save(),i||(l._applyOpacity(this),l._applyGlobalCompositeOperation(this)),l._applyShadow(this),c.call(this,l,this),l.restore(),this.hasFill()&&this.shadowForStrokeEnabled()&&c.call(this,l,this)):u&&!a.hitCanvas?(l.save(),i||(l._applyOpacity(this),l._applyGlobalCompositeOperation(this)),l._applyShadow(this),c.call(this,l,this),l.restore()):(i||(l._applyOpacity(this),l._applyGlobalCompositeOperation(this)),c.call(this,l,this))}return l.restore(),this},i.prototype.drawHit=function(t,e,i){var n=this.getLayer(),s=t||n.hitCanvas,o=s&&s.getContext(),a=this.hitFunc()||this.sceneFunc(),l=this._getCanvasCache(),h=l&&l.hit;if(this.colorKey||(console.log(this),r.Util.warn("Looks like your canvas has a destroyed shape in it. Do not reuse shape after you destroyed it. See the shape in logs above. If you want to reuse shape you should call remove() instead of destroy()")),!this.shouldDrawHit()&&!i)return this;if(h)return o.save(),n._applyTransform(this,o,e),this._drawCachedHitCanvas(o),o.restore(),this;if(!a)return this;if(o.save(),o._applyLineJoin(this),!i)if(n)n._applyTransform(this,o,e);else{var c=this.getAbsoluteTransform(e).getMatrix();o.transform(c[0],c[1],c[2],c[3],c[4],c[5])}return a.call(this,o,this),o.restore(),this},i.prototype.drawHitFromCache=function(t){void 0===t&&(t=0);var e,i,n,s,o,a=this._getCanvasCache(),l=this._getCachedSceneCanvas(),h=a.hit,c=h.getContext(),u=h.getWidth(),d=h.getHeight();c.clear(),c.drawImage(l._canvas,0,0,u,d);try{for(n=(i=(e=c.getImageData(0,0,u,d)).data).length,s=r.Util._hexToRgb(this.colorKey),o=0;o<n;o+=4)i[o+3]>t?(i[o]=s.r,i[o+1]=s.g,i[o+2]=s.b,i[o+3]=255):i[o+3]=0;c.putImageData(e,0,0)}catch(p){r.Util.error("Unable to draw hit graph from cached scene canvas. "+p.message)}return this},i.prototype.hasPointerCapture=function(t){return c.hasPointerCapture(t,this)},i.prototype.setPointerCapture=function(t){c.setPointerCapture(t,this)},i.prototype.releaseCapture=function(t){c.releaseCapture(t,this)},i}(a.Node);e.Shape=S,S.prototype._fillFunc=function(t){t.fill()},S.prototype._strokeFunc=function(t){t.stroke()},S.prototype._fillFuncHit=function(t){t.fill()},S.prototype._strokeFuncHit=function(t){t.stroke()},S.prototype._centroid=!1,S.prototype.nodeType="Shape",h._registerNode(S),o.Factory.addGetterSetter(S,"stroke",void 0,l.getStringValidator()),o.Factory.addGetterSetter(S,"strokeWidth",2,l.getNumberValidator()),o.Factory.addGetterSetter(S,"hitStrokeWidth","auto",l.getNumberOrAutoValidator()),o.Factory.addGetterSetter(S,"strokeHitEnabled",!0,l.getBooleanValidator()),o.Factory.addGetterSetter(S,"perfectDrawEnabled",!0,l.getBooleanValidator()),o.Factory.addGetterSetter(S,"shadowForStrokeEnabled",!0,l.getBooleanValidator()),o.Factory.addGetterSetter(S,"lineJoin"),o.Factory.addGetterSetter(S,"lineCap"),o.Factory.addGetterSetter(S,"sceneFunc"),o.Factory.addGetterSetter(S,"hitFunc"),o.Factory.addGetterSetter(S,"dash"),o.Factory.addGetterSetter(S,"dashOffset",0,l.getNumberValidator()),o.Factory.addGetterSetter(S,"shadowColor",void 0,l.getStringValidator()),o.Factory.addGetterSetter(S,"shadowBlur",0,l.getNumberValidator()),o.Factory.addGetterSetter(S,"shadowOpacity",1,l.getNumberValidator()),o.Factory.addComponentsGetterSetter(S,"shadowOffset",["x","y"]),o.Factory.addGetterSetter(S,"shadowOffsetX",0,l.getNumberValidator()),o.Factory.addGetterSetter(S,"shadowOffsetY",0,l.getNumberValidator()),o.Factory.addGetterSetter(S,"fillPatternImage"),o.Factory.addGetterSetter(S,"fill",void 0,l.getStringValidator()),o.Factory.addGetterSetter(S,"fillPatternX",0,l.getNumberValidator()),o.Factory.addGetterSetter(S,"fillPatternY",0,l.getNumberValidator()),o.Factory.addGetterSetter(S,"fillLinearGradientColorStops"),o.Factory.addGetterSetter(S,"strokeLinearGradientColorStops"),o.Factory.addGetterSetter(S,"fillRadialGradientStartRadius",0),o.Factory.addGetterSetter(S,"fillRadialGradientEndRadius",0),o.Factory.addGetterSetter(S,"fillRadialGradientColorStops"),o.Factory.addGetterSetter(S,"fillPatternRepeat","repeat"),o.Factory.addGetterSetter(S,"fillEnabled",!0),o.Factory.addGetterSetter(S,"strokeEnabled",!0),o.Factory.addGetterSetter(S,"shadowEnabled",!0),o.Factory.addGetterSetter(S,"dashEnabled",!0),o.Factory.addGetterSetter(S,"strokeScaleEnabled",!0),o.Factory.addGetterSetter(S,"fillPriority","color"),o.Factory.addComponentsGetterSetter(S,"fillPatternOffset",["x","y"]),o.Factory.addGetterSetter(S,"fillPatternOffsetX",0,l.getNumberValidator()),o.Factory.addGetterSetter(S,"fillPatternOffsetY",0,l.getNumberValidator()),o.Factory.addComponentsGetterSetter(S,"fillPatternScale",["x","y"]),o.Factory.addGetterSetter(S,"fillPatternScaleX",1,l.getNumberValidator()),o.Factory.addGetterSetter(S,"fillPatternScaleY",1,l.getNumberValidator()),o.Factory.addComponentsGetterSetter(S,"fillLinearGradientStartPoint",["x","y"]),o.Factory.addComponentsGetterSetter(S,"strokeLinearGradientStartPoint",["x","y"]),o.Factory.addGetterSetter(S,"fillLinearGradientStartPointX",0),o.Factory.addGetterSetter(S,"strokeLinearGradientStartPointX",0),o.Factory.addGetterSetter(S,"fillLinearGradientStartPointY",0),o.Factory.addGetterSetter(S,"strokeLinearGradientStartPointY",0),o.Factory.addComponentsGetterSetter(S,"fillLinearGradientEndPoint",["x","y"]),o.Factory.addComponentsGetterSetter(S,"strokeLinearGradientEndPoint",["x","y"]),o.Factory.addGetterSetter(S,"fillLinearGradientEndPointX",0),o.Factory.addGetterSetter(S,"strokeLinearGradientEndPointX",0),o.Factory.addGetterSetter(S,"fillLinearGradientEndPointY",0),o.Factory.addGetterSetter(S,"strokeLinearGradientEndPointY",0),o.Factory.addComponentsGetterSetter(S,"fillRadialGradientStartPoint",["x","y"]),o.Factory.addGetterSetter(S,"fillRadialGradientStartPointX",0),o.Factory.addGetterSetter(S,"fillRadialGradientStartPointY",0),o.Factory.addComponentsGetterSetter(S,"fillRadialGradientEndPoint",["x","y"]),o.Factory.addGetterSetter(S,"fillRadialGradientEndPointX",0),o.Factory.addGetterSetter(S,"fillRadialGradientEndPointY",0),o.Factory.addGetterSetter(S,"fillPatternRotation",0),o.Factory.backCompat(S,{dashArray:"dash",getDashArray:"getDash",setDashArray:"getDash",drawFunc:"sceneFunc",getDrawFunc:"getSceneFunc",setDrawFunc:"setSceneFunc",drawHitFunc:"hitFunc",getDrawHitFunc:"getHitFunc",setDrawHitFunc:"setHitFunc"}),r.Collection.mapMethods(S)},"/RUG":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i("NtrB"),s=i("hgNY"),r=i("G9h+"),o=i("HyF4"),a=i("OD/x"),l=i("Ipqb"),h=i("2gS4"),c=i("9wk+"),u=i("jBiz"),d=i("XVrQ"),p=i("JsjR"),f=i("vxG3"),g=i("o06L"),_=i("469k"),m=i("VBTO"),b=i("KgF/"),v=i("1Ijv"),y=i("lu6O"),w=i("ve60"),S=i("a34h"),x=i("x0L+"),C=i("5LDq"),k=i("vLE5"),O=i("zym7"),P=i("kmuw"),E=i("Rh49"),T=i("icHu"),R=i("HEmn"),M=i("lHCc"),A=i("u85w"),I=i("QFpT"),D=i("IBMq"),F=i("joQ7"),L=i("szsX"),G=i("dp1g"),N=i("fMHL"),j=i("Ei/z");e.Konva=n.Konva.Util._assign(n.Konva,{Arc:s.Arc,Arrow:r.Arrow,Circle:o.Circle,Ellipse:a.Ellipse,Image:l.Image,Label:h.Label,Tag:h.Tag,Line:c.Line,Path:u.Path,Rect:d.Rect,RegularPolygon:p.RegularPolygon,Ring:f.Ring,Sprite:g.Sprite,Star:_.Star,Text:m.Text,TextPath:b.TextPath,Transformer:v.Transformer,Wedge:y.Wedge,Filters:{Blur:w.Blur,Brighten:S.Brighten,Contrast:x.Contrast,Emboss:C.Emboss,Enhance:k.Enhance,Grayscale:O.Grayscale,HSL:P.HSL,HSV:E.HSV,Invert:T.Invert,Kaleidoscope:R.Kaleidoscope,Mask:M.Mask,Noise:A.Noise,Pixelate:I.Pixelate,Posterize:D.Posterize,RGB:F.RGB,RGBA:L.RGBA,Sepia:G.Sepia,Solarize:N.Solarize,Threshold:j.Threshold}})},"0nlx":function(t,e,i){"use strict";var n=i("8Y7J"),s=i("MlvX"),r=i("Xd0L"),o=i("Azqq"),a=i("JjoW"),l=i("HsOI"),h=i("hOhj"),c=i("IP0z"),u=i("s7LF"),d=i("5GAg"),p=i("SVse");i("VZdl"),i("s6ns"),i.d(e,"a",function(){return f}),i.d(e,"b",function(){return w});var f=n.sb({encapsulation:0,styles:[[".table-select__button[_ngcontent-%COMP%]{font-size:15px;background:#fff;border:1px solid #d5d5d5;box-sizing:border-box;border-radius:5px;display:flex;width:100%;height:50px;align-items:center;justify-content:center;text-align:center;color:#6a6a6a;outline:0!important}.table-select__button[_ngcontent-%COMP%]:active, .table-select__button[_ngcontent-%COMP%]:focus{outline:0}.table-select__button--black-text[_ngcontent-%COMP%]{color:#000}.table-select__button.active[_ngcontent-%COMP%]{border-color:#000;color:#000}"]],data:{}});function g(t){return n.Qb(0,[(t()(),n.ub(0,0,null,null,1,"div",[["class","fw-color-gray fw-fz-15"]],null,null,null,null,null)),(t()(),n.Ob(1,null,[" "," \u0441\u0432\u043e\u0431\u043e\u0434\u043d\u043e "]))],null,function(t,e){t(e,1,0,e.component.availableTables)})}function _(t){return n.Qb(0,[(t()(),n.ub(0,0,null,null,2,"mat-option",[["class","mat-option"],["role","option"]],[[1,"tabindex",0],[2,"mat-selected",null],[2,"mat-option-multiple",null],[2,"mat-active",null],[8,"id",0],[1,"aria-selected",0],[1,"aria-disabled",0],[2,"mat-option-disabled",null]],[[null,"click"],[null,"keydown"]],function(t,e,i){var s=!0;return"click"===e&&(s=!1!==n.Gb(t,1)._selectViaInteraction()&&s),"keydown"===e&&(s=!1!==n.Gb(t,1)._handleKeydown(i)&&s),s},s.b,s.a)),n.tb(1,8568832,[[1,4]],0,r.n,[n.k,n.h,[2,r.h],[2,r.m]],{value:[0,"value"],disabled:[1,"disabled"]},null),(t()(),n.Ob(2,0,["",""]))],function(t,e){t(e,1,0,e.context.$implicit.id,!e.context.$implicit.isActive||!e.context.$implicit._numGuestsEnabled)},function(t,e){t(e,0,0,n.Gb(e,1)._getTabIndex(),n.Gb(e,1).selected,n.Gb(e,1).multiple,n.Gb(e,1).active,n.Gb(e,1).id,n.Gb(e,1)._getAriaSelected(),n.Gb(e,1).disabled.toString(),n.Gb(e,1).disabled),t(e,2,0,e.context.$implicit.number)})}function m(t){return n.Qb(0,[(t()(),n.ub(0,0,null,null,9,"div",[["class","col"]],null,null,null,null,null)),(t()(),n.ub(1,0,null,null,8,"mat-select",[["class","mat-select"],["placeholder","\u041d\u043e\u043c\u0435\u0440 \u0441\u0442\u043e\u043b\u0430"],["role","listbox"]],[[1,"id",0],[1,"tabindex",0],[1,"aria-label",0],[1,"aria-labelledby",0],[1,"aria-required",0],[1,"aria-disabled",0],[1,"aria-invalid",0],[1,"aria-owns",0],[1,"aria-multiselectable",0],[1,"aria-describedby",0],[1,"aria-activedescendant",0],[2,"mat-select-disabled",null],[2,"mat-select-invalid",null],[2,"mat-select-required",null],[2,"mat-select-empty",null]],[[null,"selectionChange"],[null,"keydown"],[null,"focus"],[null,"blur"]],function(t,e,i){var s=!0,r=t.component;return"keydown"===e&&(s=!1!==n.Gb(t,4)._handleKeydown(i)&&s),"focus"===e&&(s=!1!==n.Gb(t,4)._onFocus()&&s),"blur"===e&&(s=!1!==n.Gb(t,4)._onBlur()&&s),"selectionChange"===e&&(s=!1!==r.updateValue(i,!0)&&s),s},o.b,o.a)),n.Lb(6144,null,r.h,null,[a.c]),n.Lb(6144,null,l.c,null,[a.c]),n.tb(4,2080768,null,3,a.c,[h.d,n.h,n.y,r.b,n.k,[2,c.b],[2,u.n],[2,u.g],[2,l.b],[8,null],[8,null],a.a,d.h],{placeholder:[0,"placeholder"]},{selectionChange:"selectionChange"}),n.Mb(603979776,1,{options:1}),n.Mb(603979776,2,{optionGroups:1}),n.Mb(603979776,3,{customTrigger:0}),(t()(),n.jb(16777216,null,1,1,null,_)),n.tb(9,278528,null,0,p.j,[n.P,n.M,n.r],{ngForOf:[0,"ngForOf"]},null)],function(t,e){var i=e.component;t(e,4,0,"\u041d\u043e\u043c\u0435\u0440 \u0441\u0442\u043e\u043b\u0430"),t(e,9,0,i.tables)},function(t,e){t(e,1,1,[n.Gb(e,4).id,n.Gb(e,4).tabIndex,n.Gb(e,4)._getAriaLabel(),n.Gb(e,4)._getAriaLabelledby(),n.Gb(e,4).required.toString(),n.Gb(e,4).disabled.toString(),n.Gb(e,4).errorState,n.Gb(e,4).panelOpen?n.Gb(e,4)._optionIds:null,n.Gb(e,4).multiple,n.Gb(e,4)._ariaDescribedby||null,n.Gb(e,4)._getAriaActiveDescendant(),n.Gb(e,4).disabled,n.Gb(e,4).errorState,n.Gb(e,4).required,n.Gb(e,4).empty])})}function b(t){return n.Qb(0,[(t()(),n.ub(0,0,null,null,5,"div",[["class","row"]],null,null,null,null,null)),(t()(),n.jb(16777216,null,null,1,null,m)),n.tb(2,16384,null,0,p.k,[n.P,n.M],{ngIf:[0,"ngIf"]},null),(t()(),n.ub(3,0,null,null,2,"div",[["class","col"]],null,null,null,null,null)),(t()(),n.ub(4,0,null,null,1,"button",[["class","table-select__button"],["type","button"]],[[8,"disabled",0]],[[null,"click"]],function(t,e,i){var n=!0;return"click"===e&&(n=!1!==t.component.selectTable(i)&&n),n},null,null)),(t()(),n.Ob(-1,null,[" \u0423\u043a\u0430\u0437\u0430\u0442\u044c \u043d\u0430 \u043a\u0430\u0440\u0442\u0435 "]))],function(t,e){t(e,2,0,e.component.isAdmin)},function(t,e){t(e,4,0,e.component.disabled)})}function v(t){return n.Qb(0,[(t()(),n.ub(0,0,null,null,4,"div",[["class","d-flex"]],null,null,null,null,null)),(t()(),n.ub(1,0,null,null,1,"button",[["class","table-select__button table-select__button--black-text mr-2 pl-3 pr-3"],["type","button"]],null,[[null,"click"]],function(t,e,i){var n=!0;return"click"===e&&(n=!1!==t.component.selectTable(i)&&n),n},null,null)),(t()(),n.Ob(-1,null,["\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c "])),(t()(),n.ub(3,0,null,null,1,"button",[["class","table-select__button table-select__button--black-text pl-3 pr-3"],["type","button"]],null,[[null,"click"]],function(t,e,i){var n=!0;return"click"===e&&(n=!1!==t.component.deleteSelectedTable(i)&&n),n},null,null)),(t()(),n.ub(4,0,null,null,0,"img",[["alt",""],["src","./assets/icons/icon-trash.svg"]],null,null,null,null,null))],null,null)}function y(t){return n.Qb(0,[(t()(),n.ub(0,0,null,null,4,"div",[["class","d-flex align-items-center justify-content-between"]],null,null,null,null,null)),(t()(),n.ub(1,0,null,null,1,"div",[["class","fw-fz-15"]],null,null,null,null,null)),(t()(),n.Ob(2,null,[""," \u0441\u0442\u043e\u043b\u0438\u043a"])),(t()(),n.jb(16777216,null,null,1,null,v)),n.tb(4,16384,null,0,p.k,[n.P,n.M],{ngIf:[0,"ngIf"]},null)],function(t,e){t(e,4,0,!e.component.readonly)},function(t,e){t(e,2,0,e.component.state.number)})}function w(t){return n.Qb(0,[(t()(),n.ub(0,0,null,null,9,"div",[["class","pt-3 pb-3"]],null,null,null,null,null)),(t()(),n.ub(1,0,null,null,4,"div",[["class","d-flex align-items-center justify-content-between mb-3"]],null,null,null,null,null)),(t()(),n.ub(2,0,null,null,1,"div",[["class","caption-medium"]],null,null,null,null,null)),(t()(),n.Ob(-1,null,["\u0421\u0442\u043e\u043b\u0438\u043a"])),(t()(),n.jb(16777216,null,null,1,null,g)),n.tb(5,16384,null,0,p.k,[n.P,n.M],{ngIf:[0,"ngIf"]},null),(t()(),n.jb(16777216,null,null,1,null,b)),n.tb(7,16384,null,0,p.k,[n.P,n.M],{ngIf:[0,"ngIf"]},null),(t()(),n.jb(16777216,null,null,1,null,y)),n.tb(9,16384,null,0,p.k,[n.P,n.M],{ngIf:[0,"ngIf"]},null)],function(t,e){var i=e.component;t(e,5,0,!i.readonly),t(e,7,0,!i.state),t(e,9,0,i.state)},null)}},"13ei":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=Math.PI/180,s=function(t){var e=t.indexOf("msie ");if(e>0)return parseInt(t.substring(e+5,t.indexOf(".",e)),10);if(t.indexOf("trident/")>0){var i=t.indexOf("rv:");return parseInt(t.substring(i+3,t.indexOf(".",i)),10)}var n=t.indexOf("edge/");return n>0&&parseInt(t.substring(n+5,t.indexOf(".",n)),10)};e._parseUA=function(t){var e=t.toLowerCase(),i=/(chrome)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[],n=!!t.match(/Android|BlackBerry|iPhone|iPad|iPod|Opera Mini|IEMobile/i),r=!!t.match(/IEMobile/i);return{browser:i[1]||"",version:i[2]||"0",isIE:s(e),mobile:n,ieMobile:r}},e.glob="undefined"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof WorkerGlobalScope?self:{},e.Konva={_global:e.glob,version:"4.0.4",isBrowser:"undefined"!=typeof window&&("[object Window]"==={}.toString.call(window)||"[object global]"==={}.toString.call(window)),isUnminified:/param/.test((function(t){}).toString()),dblClickWindow:400,getAngle:function(t){return e.Konva.angleDeg?t*n:t},enableTrace:!1,_pointerEventsEnabled:!1,hitOnDragEnabled:!1,captureTouchEventsEnabled:!1,listenClickTap:!1,inDblClickWindow:!1,pixelRatio:void 0,dragDistance:3,angleDeg:!0,showWarnings:!0,dragButtons:[0,1],isDragging:function(){return e.Konva.DD.isDragging},isDragReady:function(){return!!e.Konva.DD.node},UA:e._parseUA(e.glob.navigator&&e.glob.navigator.userAgent||""),document:e.glob.document,_injectGlobal:function(t){e.glob.Konva=t},_parseUA:e._parseUA},e._NODES_REGISTRY={},e._registerNode=function(t){e._NODES_REGISTRY[t.prototype.getClassName()]=t,e.Konva[t.prototype.getClassName()]=t}},"1Ijv":function(t,e,i){var n=i("mrSG").__extends;Object.defineProperty(e,"__esModule",{value:!0});var s=i("nLhi"),r=i("8LQ0"),o=i("SXH2"),a=i("/OYL"),l=i("XVrQ"),h=i("81y5"),c=i("13ei"),u=i("RUZL"),d=i("13ei"),p=["resizeEnabledChange","rotateAnchorOffsetChange","rotateEnabledChange","enabledAnchorsChange","anchorSizeChange","borderEnabledChange","borderStrokeChange","borderStrokeWidthChange","borderDashChange","anchorStrokeChange","anchorStrokeWidthChange","anchorFillChange","anchorCornerRadiusChange","ignoreStrokeChange"].map(function(t){return t+".tr-konva"}).join(" "),f=["widthChange","heightChange","scaleXChange","scaleYChange","skewXChange","skewYChange","rotationChange","offsetXChange","offsetYChange","transformsEnabledChange","strokeWidthChange"].map(function(t){return t+".tr-konva"}).join(" "),g={"top-left":-45,"top-center":0,"top-right":45,"middle-right":-90,"middle-left":90,"bottom-left":-135,"bottom-center":180,"bottom-right":135},_=["top-left","top-center","top-right","middle-right","middle-left","bottom-left","bottom-center","bottom-right"],m=function(t){function e(e){var i=t.call(this,e)||this;return i._transforming=!1,i._createElements(),i._handleMouseMove=i._handleMouseMove.bind(i),i._handleMouseUp=i._handleMouseUp.bind(i),i.update=i.update.bind(i),i.on(p,i.update),i.getNode()&&i.update(),i}return n(e,t),e.prototype.attachTo=function(t){return this.setNode(t),this},e.prototype.setNode=function(t){var e=this;this._node&&this.detach(),this._node=t,this._resetTransformCache();var i=t._attrsAffectingSize.map(function(t){return t+"Change.tr-konva"}).join(" "),n=function(){e._resetTransformCache(),e._transforming||e.update()};return t.on(i,n),t.on(f,n),t.on("xChange.tr-konva yChange.tr-konva",function(){return e._resetTransformCache()}),!!this.findOne(".top-left")&&this.update(),this},e.prototype.getNode=function(){return this._node},e.prototype.detach=function(){this.getNode()&&(this.getNode().off(".tr-konva"),this._node=void 0),this._resetTransformCache()},e.prototype._resetTransformCache=function(){this._clearCache("nodeRect"),this._clearCache("transform"),this._clearSelfAndDescendantCache("absoluteTransform")},e.prototype._getNodeRect=function(){return this._getCache("nodeRect",this.__getNodeRect)},e.prototype.__getNodeRect=function(){var t=this.getNode();if(!t)return{x:-1e8,y:-1e8,width:0,height:0,rotation:0};t.parent&&this.parent&&t.parent!==this.parent&&s.Util.warn("Transformer and attached node have different parents. Konva does not support such case right now. Please move Transformer to the parent of attaching node.");var e=t.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()}),i=c.Konva.getAngle(t.rotation()),n=e.x*t.scaleX()-t.offsetX()*t.scaleX(),r=e.y*t.scaleY()-t.offsetY()*t.scaleY();return{x:t.x()+n*Math.cos(i)+r*Math.sin(-i),y:t.y()+r*Math.cos(i)+n*Math.sin(i),width:e.width*t.scaleX(),height:e.height*t.scaleY(),rotation:t.rotation()}},e.prototype.getX=function(){return this._getNodeRect().x},e.prototype.getY=function(){return this._getNodeRect().y},e.prototype.getRotation=function(){return this._getNodeRect().rotation},e.prototype.getWidth=function(){return this._getNodeRect().width},e.prototype.getHeight=function(){return this._getNodeRect().height},e.prototype._createElements=function(){this._createBack(),_.forEach((function(t){this._createAnchor(t)}).bind(this)),this._createAnchor("rotater")},e.prototype._createAnchor=function(t){var e=this,i=new l.Rect({stroke:"rgb(0, 161, 255)",fill:"white",strokeWidth:1,name:t+" _anchor",dragDistance:0,draggable:!0}),n=this;i.on("mousedown touchstart",function(t){n._handleMouseDown(t)}),i.on("dragstart",function(t){t.cancelBubble=!0}),i.on("dragmove",function(t){t.cancelBubble=!0}),i.on("dragend",function(t){t.cancelBubble=!0}),i.on("mouseenter",function(){var n=c.Konva.getAngle(e.rotation()),r=e.getNode().getAbsoluteScale(),o=function(e,i,n){if("rotater"===t)return"crosshair";i+=s.Util._degToRad(g[t]||0),n&&(i*=-1);var r=(s.Util._radToDeg(i)%360+360)%360;return s.Util._inRange(r,337.5,360)||s.Util._inRange(r,0,22.5)?"ns-resize":s.Util._inRange(r,22.5,67.5)?"nesw-resize":s.Util._inRange(r,67.5,112.5)?"ew-resize":s.Util._inRange(r,112.5,157.5)?"nwse-resize":s.Util._inRange(r,157.5,202.5)?"ns-resize":s.Util._inRange(r,202.5,247.5)?"nesw-resize":s.Util._inRange(r,247.5,292.5)?"ew-resize":s.Util._inRange(r,292.5,337.5)?"nwse-resize":(s.Util.error("Transformer has unknown angle for cursor detection: "+r),"pointer")}(0,n,r.y*r.x<0);i.getStage().content.style.cursor=o,e._cursorChange=!0}),i.on("mouseout",function(){i.getStage()&&i.getParent()&&(i.getStage().content.style.cursor="",e._cursorChange=!1)}),this.add(i)},e.prototype._createBack=function(){var t=new a.Shape({name:"back",width:0,height:0,listening:!1,sceneFunc:function(t){var e=this.getParent(),i=e.padding();t.beginPath(),t.rect(-i,-i,this.width()+2*i,this.height()+2*i),t.moveTo(this.width()/2,-i),e.rotateEnabled()&&t.lineTo(this.width()/2,-e.rotateAnchorOffset()*s.Util._sign(this.height())),t.fillStrokeShape(this)}});this.add(t)},e.prototype._handleMouseDown=function(t){this.movingResizer=t.target.name().split(" ")[0];var e=this._getNodeRect(),i=e.width,n=e.height,s=Math.sqrt(Math.pow(i,2)+Math.pow(n,2));this.sin=Math.abs(n/s),this.cos=Math.abs(i/s),window.addEventListener("mousemove",this._handleMouseMove),window.addEventListener("touchmove",this._handleMouseMove),window.addEventListener("mouseup",this._handleMouseUp,!0),window.addEventListener("touchend",this._handleMouseUp,!0),this._transforming=!0,this._fire("transformstart",{evt:t}),this.getNode()._fire("transformstart",{evt:t})},e.prototype._handleMouseMove=function(t){var e,i,n,r=this.findOne("."+this.movingResizer),o=r.getStage().getContent().getBoundingClientRect();r.setAbsolutePosition({x:(void 0!==t.clientX?t.clientX:t.touches[0].clientX)-o.left,y:(void 0!==t.clientX?t.clientY:t.touches[0].clientY)-o.top});var a=this.keepRatio()||t.shiftKey;if("top-left"===this.movingResizer){if(a){n=Math.sqrt(Math.pow(this.findOne(".bottom-right").x()-r.x(),2)+Math.pow(this.findOne(".bottom-right").y()-r.y(),2));var l=this.findOne(".top-left").x()>this.findOne(".bottom-right").x()?-1:1;e=n*this.cos*l,i=n*this.sin*l,this.findOne(".top-left").x(this.findOne(".bottom-right").x()-e),this.findOne(".top-left").y(this.findOne(".bottom-right").y()-i)}}else if("top-center"===this.movingResizer)this.findOne(".top-left").y(r.y());else if("top-right"===this.movingResizer){a&&(n=Math.sqrt(Math.pow(this.findOne(".bottom-left").x()-r.x(),2)+Math.pow(this.findOne(".bottom-left").y()-r.y(),2)),l=this.findOne(".top-right").x()<this.findOne(".top-left").x()?-1:1,e=n*this.cos*l,i=n*this.sin*l,this.findOne(".top-right").x(e),this.findOne(".top-right").y(this.findOne(".bottom-left").y()-i));var h=r.position();this.findOne(".top-left").y(h.y),this.findOne(".bottom-right").x(h.x)}else if("middle-left"===this.movingResizer)this.findOne(".top-left").x(r.x());else if("middle-right"===this.movingResizer)this.findOne(".bottom-right").x(r.x());else if("bottom-left"===this.movingResizer)a&&(n=Math.sqrt(Math.pow(this.findOne(".top-right").x()-r.x(),2)+Math.pow(this.findOne(".top-right").y()-r.y(),2)),l=this.findOne(".top-right").x()<this.findOne(".bottom-left").x()?-1:1,e=n*this.cos*l,i=n*this.sin*l,this.findOne(".bottom-left").x(this.findOne(".top-right").x()-e),this.findOne(".bottom-left").y(i)),h=r.position(),this.findOne(".top-left").x(h.x),this.findOne(".bottom-right").y(h.y);else if("bottom-center"===this.movingResizer)this.findOne(".bottom-right").y(r.y());else if("bottom-right"===this.movingResizer)a&&(n=Math.sqrt(Math.pow(this.findOne(".bottom-right").x(),2)+Math.pow(this.findOne(".bottom-right").y(),2)),l=this.findOne(".top-left").x()>this.findOne(".bottom-right").x()?-1:1,e=n*this.cos*l,i=n*this.sin*l,this.findOne(".bottom-right").x(e),this.findOne(".bottom-right").y(i));else if("rotater"===this.movingResizer){var u=this.padding(),d=this._getNodeRect();e=r.x()-d.width/2,i=-r.y()+d.height/2;var p=Math.atan2(-i,e)+Math.PI/2;d.height<0&&(p-=Math.PI);for(var f=c.Konva.getAngle(this.rotation()),g=s.Util._radToDeg(f)+s.Util._radToDeg(p),_=c.Konva.getAngle(this.getNode().rotation()),m=s.Util._degToRad(g),b=this.rotationSnaps(),v=0;v<b.length;v++){var y=c.Konva.getAngle(b[v]);Math.abs(y-s.Util._degToRad(g))%(2*Math.PI)<.1&&(g=s.Util._radToDeg(y),m=s.Util._degToRad(g))}var w=u,S=u;this._fitNodeInto({rotation:c.Konva.angleDeg?g:s.Util._degToRad(g),x:d.x+(d.width/2+u)*(Math.cos(_)-Math.cos(m))+(d.height/2+u)*(Math.sin(-_)-Math.sin(-m))-(w*Math.cos(f)+S*Math.sin(-f)),y:d.y+(d.height/2+u)*(Math.cos(_)-Math.cos(m))+(d.width/2+u)*(Math.sin(_)-Math.sin(m))-(S*Math.cos(f)+w*Math.sin(f)),width:d.width+2*u,height:d.height+2*u},t)}else console.error(new Error("Wrong position argument of selection resizer: "+this.movingResizer));if("rotater"!==this.movingResizer){var x=this.findOne(".top-left").getAbsolutePosition(this.getParent());if(this.centeredScaling()||t.altKey){var C=this.findOne(".top-left"),k=this.findOne(".bottom-right"),O=C.x(),P=C.y(),E=this.getWidth()-k.x(),T=this.getHeight()-k.y();k.move({x:-O,y:-P}),C.move({x:E,y:T}),x=C.getAbsolutePosition(this.getParent())}e=x.x,i=x.y;var R=this.findOne(".bottom-right").x()-this.findOne(".top-left").x(),M=this.findOne(".bottom-right").y()-this.findOne(".top-left").y();this._fitNodeInto({x:e+this.offsetX(),y:i+this.offsetY(),width:R,height:M},t)}},e.prototype._handleMouseUp=function(t){this._removeEvents(t)},e.prototype._removeEvents=function(t){if(this._transforming){this._transforming=!1,window.removeEventListener("mousemove",this._handleMouseMove),window.removeEventListener("touchmove",this._handleMouseMove),window.removeEventListener("mouseup",this._handleMouseUp,!0),window.removeEventListener("touchend",this._handleMouseUp,!0),this._fire("transformend",{evt:t});var e=this.getNode();e&&e.fire("transformend",{evt:t})}},e.prototype._fitNodeInto=function(t,e){var i=this.boundBoxFunc();if(i){var n=this._getNodeRect();t=i.call(this,n,t)}var s=this.getNode();void 0!==t.rotation&&this.getNode().rotation(t.rotation);var r=s.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()}),o=this.padding(),a=(t.width-2*o)/r.width,l=(t.height-2*o)/r.height,h=c.Konva.getAngle(s.rotation()),u=r.x*a-o-s.offsetX()*a,d=r.y*l-o-s.offsetY()*l;this.getNode().setAttrs({scaleX:a,scaleY:l,x:t.x-(u*Math.cos(h)+d*Math.sin(-h)),y:t.y-(d*Math.cos(h)+u*Math.sin(h))}),this._fire("transform",{evt:e}),this.getNode()._fire("transform",{evt:e}),this.update(),this.getLayer().batchDraw()},e.prototype.forceUpdate=function(){this._resetTransformCache(),this.update()},e.prototype.update=function(){var t=this,e=this._getNodeRect(),i=this.getNode(),n={x:1,y:1};i&&i.getParent()&&(n=i.getParent().getAbsoluteScale());var r={x:1/n.x,y:1/n.y},o=e.width,a=e.height,l=this.enabledAnchors(),h=this.resizeEnabled(),c=this.padding(),u=this.anchorSize();this.find("._anchor").each(function(e){return e.setAttrs({width:u,height:u,offsetX:u/2,offsetY:u/2,stroke:t.anchorStroke(),strokeWidth:t.anchorStrokeWidth(),fill:t.anchorFill(),cornerRadius:t.anchorCornerRadius()})}),this.findOne(".top-left").setAttrs({x:-c,y:-c,scale:r,visible:h&&l.indexOf("top-left")>=0}),this.findOne(".top-center").setAttrs({x:o/2,y:-c,scale:r,visible:h&&l.indexOf("top-center")>=0}),this.findOne(".top-right").setAttrs({x:o+c,y:-c,scale:r,visible:h&&l.indexOf("top-right")>=0}),this.findOne(".middle-left").setAttrs({x:-c,y:a/2,scale:r,visible:h&&l.indexOf("middle-left")>=0}),this.findOne(".middle-right").setAttrs({x:o+c,y:a/2,scale:r,visible:h&&l.indexOf("middle-right")>=0}),this.findOne(".bottom-left").setAttrs({x:-c,y:a+c,scale:r,visible:h&&l.indexOf("bottom-left")>=0}),this.findOne(".bottom-center").setAttrs({x:o/2,y:a+c,scale:r,visible:h&&l.indexOf("bottom-center")>=0}),this.findOne(".bottom-right").setAttrs({x:o+c,y:a+c,scale:r,visible:h&&l.indexOf("bottom-right")>=0});var d=-this.rotateAnchorOffset()*Math.abs(r.y);this.findOne(".rotater").setAttrs({x:o/2,y:d*s.Util._sign(a),scale:r,visible:this.rotateEnabled()}),this.findOne(".back").setAttrs({width:o*n.x,height:a*n.y,scale:r,visible:this.borderEnabled(),stroke:this.borderStroke(),strokeWidth:this.borderStrokeWidth(),dash:this.borderDash()})},e.prototype.isTransforming=function(){return this._transforming},e.prototype.stopTransform=function(){if(this._transforming){this._removeEvents();var t=this.findOne("."+this.movingResizer);t&&t.stopDrag()}},e.prototype.destroy=function(){return this.getStage()&&this._cursorChange&&(this.getStage().content.style.cursor=""),h.Group.prototype.destroy.call(this),this.detach(),this._removeEvents(),this},e.prototype.toObject=function(){return o.Node.prototype.toObject.call(this)},e}(h.Group);e.Transformer=m,m.prototype.className="Transformer",d._registerNode(m),r.Factory.addGetterSetter(m,"enabledAnchors",_,function(t){return t instanceof Array||s.Util.warn("enabledAnchors value should be an array"),t instanceof Array&&t.forEach(function(t){-1===_.indexOf(t)&&s.Util.warn("Unknown anchor name: "+t+". Available names are: "+_.join(", "))}),t||[]}),r.Factory.addGetterSetter(m,"resizeEnabled",!0),r.Factory.addGetterSetter(m,"anchorSize",10,u.getNumberValidator()),r.Factory.addGetterSetter(m,"rotateEnabled",!0),r.Factory.addGetterSetter(m,"rotationSnaps",[]),r.Factory.addGetterSetter(m,"rotateAnchorOffset",50,u.getNumberValidator()),r.Factory.addGetterSetter(m,"borderEnabled",!0),r.Factory.addGetterSetter(m,"anchorStroke","rgb(0, 161, 255)"),r.Factory.addGetterSetter(m,"anchorStrokeWidth",1,u.getNumberValidator()),r.Factory.addGetterSetter(m,"anchorFill","white"),r.Factory.addGetterSetter(m,"anchorCornerRadius",0,u.getNumberValidator()),r.Factory.addGetterSetter(m,"borderStroke","rgb(0, 161, 255)"),r.Factory.addGetterSetter(m,"borderStrokeWidth",1,u.getNumberValidator()),r.Factory.addGetterSetter(m,"borderDash"),r.Factory.addGetterSetter(m,"keepRatio",!0),r.Factory.addGetterSetter(m,"centeredScaling",!1),r.Factory.addGetterSetter(m,"ignoreStroke",!1),r.Factory.addGetterSetter(m,"padding",0,u.getNumberValidator()),r.Factory.addGetterSetter(m,"node"),r.Factory.addGetterSetter(m,"boundBoxFunc"),r.Factory.backCompat(m,{lineEnabled:"borderEnabled",rotateHandlerOffset:"rotateAnchorOffset",enabledHandlers:"enabledAnchors"}),s.Collection.mapMethods(m)},"1q+a":function(t,e,i){var n=i("mrSG").__extends;Object.defineProperty(e,"__esModule",{value:!0});var s=i("nLhi"),r=i("6mFz"),o=i("SXH2"),a=i("8LQ0"),l=i("9lVk"),h=function(t){function e(e){var i=t.call(this,e)||this;return i.canvas=new l.SceneCanvas,i._waitingForDraw=!1,i.on("visibleChange",i._checkVisibility),i._checkVisibility(),i.on("imageSmoothingEnabledChange",i._checkSmooth),i._checkSmooth(),i}return n(e,t),e.prototype.createPNGStream=function(){return this.canvas._canvas.createPNGStream()},e.prototype.getCanvas=function(){return this.canvas},e.prototype.getHitCanvas=function(){return this.hitCanvas},e.prototype.getContext=function(){return this.getCanvas().getContext()},e.prototype.clear=function(t){return this.getContext().clear(t),this},e.prototype.setZIndex=function(e){t.prototype.setZIndex.call(this,e);var i=this.getStage();return i&&(i.content.removeChild(this.getCanvas()._canvas),e<i.getChildren().length-1?i.content.insertBefore(this.getCanvas()._canvas,i.getChildren()[e+1].getCanvas()._canvas):i.content.appendChild(this.getCanvas()._canvas)),this},e.prototype.moveToTop=function(){o.Node.prototype.moveToTop.call(this);var t=this.getStage();return t&&(t.content.removeChild(this.getCanvas()._canvas),t.content.appendChild(this.getCanvas()._canvas)),!0},e.prototype.moveUp=function(){if(!o.Node.prototype.moveUp.call(this))return!1;var t=this.getStage();return!!t&&(t.content.removeChild(this.getCanvas()._canvas),this.index<t.getChildren().length-1?t.content.insertBefore(this.getCanvas()._canvas,t.getChildren()[this.index+1].getCanvas()._canvas):t.content.appendChild(this.getCanvas()._canvas),!0)},e.prototype.moveDown=function(){if(o.Node.prototype.moveDown.call(this)){var t=this.getStage();if(t){var e=t.getChildren();t.content.removeChild(this.getCanvas()._canvas),t.content.insertBefore(this.getCanvas()._canvas,e[this.index+1].getCanvas()._canvas)}return!0}return!1},e.prototype.moveToBottom=function(){if(o.Node.prototype.moveToBottom.call(this)){var t=this.getStage();if(t){var e=t.getChildren();t.content.removeChild(this.getCanvas()._canvas),t.content.insertBefore(this.getCanvas()._canvas,e[1].getCanvas()._canvas)}return!0}return!1},e.prototype.getLayer=function(){return this},e.prototype.hitGraphEnabled=function(){return!0},e.prototype.remove=function(){var t=this.getCanvas()._canvas;return o.Node.prototype.remove.call(this),t&&t.parentNode&&s.Util._isInDocument(t)&&t.parentNode.removeChild(t),this},e.prototype.getStage=function(){return this.parent},e.prototype.setSize=function(t){return this.canvas.setSize(t.width,t.height),this},e.prototype._toKonvaCanvas=function(t){return(t=t||{}).width=t.width||this.getWidth(),t.height=t.height||this.getHeight(),t.x=void 0!==t.x?t.x:this.x(),t.y=void 0!==t.y?t.y:this.y(),o.Node.prototype._toKonvaCanvas.call(this,t)},e.prototype._checkVisibility=function(){var t=this.visible();this.canvas._canvas.style.display=t?"block":"none"},e.prototype._checkSmooth=function(){this.getContext()._context.imageSmoothingEnabled=this.imageSmoothingEnabled()},e.prototype.getWidth=function(){if(this.parent)return this.parent.width()},e.prototype.setWidth=function(){s.Util.warn('Can not change width of layer. Use "stage.width(value)" function instead.')},e.prototype.getHeight=function(){if(this.parent)return this.parent.height()},e.prototype.setHeight=function(){s.Util.warn('Can not change height of layer. Use "stage.height(value)" function instead.')},e.prototype.getIntersection=function(t,e){return null},e.prototype.batchDraw=function(){var t=this;return this._waitingForDraw||(this._waitingForDraw=!0,s.Util.requestAnimFrame(function(){t.draw(),t._waitingForDraw=!1})),this},e.prototype._applyTransform=function(t,e,i){var n=t.getAbsoluteTransform(i).getMatrix();e.transform(n[0],n[1],n[2],n[3],n[4],n[5])},e}(r.Container);e.BaseLayer=h,h.prototype.nodeType="BaseLayer",a.Factory.addGetterSetter(h,"imageSmoothingEnabled",!0),a.Factory.addGetterSetter(h,"clearBeforeDraw",!0),s.Collection.mapMethods(h)},"2gS4":function(t,e,i){var n=i("mrSG").__extends;Object.defineProperty(e,"__esModule",{value:!0});var s=i("nLhi"),r=i("8LQ0"),o=i("/OYL"),a=i("81y5"),l=i("RUZL"),h=i("13ei"),c=["fontFamily","fontSize","fontStyle","padding","lineHeight","text","width"],u=c.length,d=function(t){function e(e){var i=t.call(this,e)||this;return i.on("add.konva",function(t){this._addListeners(t.child),this._sync()}),i}return n(e,t),e.prototype.getText=function(){return this.find("Text")[0]},e.prototype.getTag=function(){return this.find("Tag")[0]},e.prototype._addListeners=function(t){var e,i=this,n=function(){i._sync()};for(e=0;e<u;e++)t.on(c[e]+"Change.konva",n)},e.prototype.getWidth=function(){return this.getText().width()},e.prototype.getHeight=function(){return this.getText().height()},e.prototype._sync=function(){var t,e,i,n,s,r,o,a=this.getText(),l=this.getTag();if(a&&l){switch(t=a.width(),e=a.height(),i=l.pointerDirection(),n=l.pointerWidth(),o=l.pointerHeight(),s=0,r=0,i){case"up":s=t/2,r=-1*o;break;case"right":s=t+n,r=e/2;break;case"down":s=t/2,r=e+o;break;case"left":s=-1*n,r=e/2}l.setAttrs({x:-1*s,y:-1*r,width:t,height:e}),a.setAttrs({x:-1*s,y:-1*r})}},e}(a.Group);e.Label=d,d.prototype.className="Label",h._registerNode(d),s.Collection.mapMethods(d);var p=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype._sceneFunc=function(t){var e=this.width(),i=this.height(),n=this.pointerDirection(),s=this.pointerWidth(),r=this.pointerHeight(),o=Math.min(this.cornerRadius(),e/2,i/2);t.beginPath(),t.moveTo(o||0,0),"up"===n&&(t.lineTo((e-s)/2,0),t.lineTo(e/2,-1*r),t.lineTo((e+s)/2,0)),o?(t.lineTo(e-o,0),t.arc(e-o,o,o,3*Math.PI/2,0,!1)):t.lineTo(e,0),"right"===n&&(t.lineTo(e,(i-r)/2),t.lineTo(e+s,i/2),t.lineTo(e,(i+r)/2)),o?(t.lineTo(e,i-o),t.arc(e-o,i-o,o,0,Math.PI/2,!1)):t.lineTo(e,i),"down"===n&&(t.lineTo((e+s)/2,i),t.lineTo(e/2,i+r),t.lineTo((e-s)/2,i)),o?(t.lineTo(o,i),t.arc(o,i-o,o,Math.PI/2,Math.PI,!1)):t.lineTo(0,i),"left"===n&&(t.lineTo(0,(i+r)/2),t.lineTo(-1*s,i/2),t.lineTo(0,(i-r)/2)),o&&(t.lineTo(0,o),t.arc(o,o,o,Math.PI,3*Math.PI/2,!1)),t.closePath(),t.fillStrokeShape(this)},e.prototype.getSelfRect=function(){var t=0,e=0,i=this.pointerWidth(),n=this.pointerHeight(),s=this.pointerDirection(),r=this.width(),o=this.height();return"up"===s?(e-=n,o+=n):"down"===s?o+=n:"left"===s?(t-=1.5*i,r+=i):"right"===s&&(r+=1.5*i),{x:t,y:e,width:r,height:o}},e}(o.Shape);e.Tag=p,p.prototype.className="Tag",h._registerNode(p),r.Factory.addGetterSetter(p,"pointerDirection","none"),r.Factory.addGetterSetter(p,"pointerWidth",0,l.getNumberValidator()),r.Factory.addGetterSetter(p,"pointerHeight",0,l.getNumberValidator()),r.Factory.addGetterSetter(p,"cornerRadius",0,l.getNumberValidator()),s.Collection.mapMethods(p)},"35O5":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i("13ei"),s=i("nLhi");e.DD={get isDragging(){var t=!1;return e.DD._dragElements.forEach(function(e){e.isDragging&&(t=!0)}),t},justDragged:!1,get node(){var t;return e.DD._dragElements.forEach(function(e){t=e.node}),t},_dragElements:new Map,_drag:function(t){e.DD._dragElements.forEach(function(e,i){var n=e.node,r=n.getStage();r.setPointersPositions(t),void 0===e.pointerId&&(e.pointerId=s.Util._getFirstPointerId(t));var o=r._changedPointerPositions.find(function(t){return t.id===e.pointerId});if(o){if(!e.isDragging){var a=n.dragDistance();if(Math.max(Math.abs(o.x-e.startPointerPos.x),Math.abs(o.y-e.startPointerPos.y))<a)return;if(e.isDragging=!0,n.fire("dragstart",{type:"dragstart",target:n,evt:t},!0),!n.isDragging())return}n._setDragPosition(t,e),n.fire("dragmove",{type:"dragmove",target:n,evt:t},!0)}})},_endDragBefore:function(t){e.DD._dragElements.forEach(function(i,s){var r=i.node.getStage();if(r.setPointersPositions(t),r._changedPointerPositions.find(function(t){return t.id===i.pointerId})){i.isDragging&&(e.DD.justDragged=!0,n.Konva.listenClickTap=!1),i.dragStopped=!0,i.isDragging=!1;var o=i.node.getLayer()||i.node instanceof n.Konva.Stage&&i.node;o&&o.draw()}})},_endDragAfter:function(t){e.DD._dragElements.forEach(function(i,n){i.dragStopped&&(i.node.fire("dragend",{type:"dragend",target:i.node,evt:t},!0),e.DD._dragElements.delete(n))})}},n.Konva.isBrowser&&(window.addEventListener("mouseup",e.DD._endDragBefore,!0),window.addEventListener("touchend",e.DD._endDragBefore,!0),window.addEventListener("mousemove",e.DD._drag),window.addEventListener("touchmove",e.DD._drag),window.addEventListener("mouseup",e.DD._endDragAfter,!1),window.addEventListener("touchend",e.DD._endDragAfter,!1))},"3UWI":function(t,e,i){"use strict";var n=i("D0XW"),s=i("l7GE"),r=i("ZUHj");class o{constructor(t){this.durationSelector=t}call(t,e){return e.subscribe(new a(t,this.durationSelector))}}class a extends s.a{constructor(t,e){super(t),this.durationSelector=e,this.hasValue=!1}_next(t){if(this.value=t,this.hasValue=!0,!this.throttled){let i;try{const{durationSelector:n}=this;i=n(t)}catch(e){return this.destination.error(e)}const n=Object(r.a)(this,i);!n||n.closed?this.clearThrottle():this.add(this.throttled=n)}}clearThrottle(){const{value:t,hasValue:e,throttled:i}=this;i&&(this.remove(i),this.throttled=null,i.unsubscribe()),e&&(this.value=null,this.hasValue=!1,this.destination.next(t))}notifyNext(t,e,i,n){this.clearThrottle()}notifyComplete(){this.clearThrottle()}}var l=i("PqYM");function h(t,e=n.a){return i=()=>Object(l.a)(t,e),function(t){return t.lift(new o(i))};var i}i.d(e,"a",function(){return h})},"3c7U":function(t,e,i){"use strict";i.d(e,"a",function(){return n});class n{}},"469k":function(t,e,i){var n=i("mrSG").__extends;Object.defineProperty(e,"__esModule",{value:!0});var s=i("nLhi"),r=i("8LQ0"),o=i("/OYL"),a=i("RUZL"),l=i("13ei"),h=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype._sceneFunc=function(t){var e=this.innerRadius(),i=this.outerRadius(),n=this.numPoints();t.beginPath(),t.moveTo(0,0-i);for(var s=1;s<2*n;s++){var r=s%2==0?i:e,o=r*Math.sin(s*Math.PI/n),a=-1*r*Math.cos(s*Math.PI/n);t.lineTo(o,a)}t.closePath(),t.fillStrokeShape(this)},e.prototype.getWidth=function(){return 2*this.outerRadius()},e.prototype.getHeight=function(){return 2*this.outerRadius()},e.prototype.setWidth=function(t){this.outerRadius(t/2)},e.prototype.setHeight=function(t){this.outerRadius(t/2)},e}(o.Shape);e.Star=h,h.prototype.className="Star",h.prototype._centroid=!0,h.prototype._attrsAffectingSize=["innerRadius","outerRadius"],l._registerNode(h),r.Factory.addGetterSetter(h,"numPoints",5,a.getNumberValidator()),r.Factory.addGetterSetter(h,"innerRadius",0,a.getNumberValidator()),r.Factory.addGetterSetter(h,"outerRadius",0,a.getNumberValidator()),s.Collection.mapMethods(h)},"5GAg":function(t,e,i){"use strict";i.d(e,"b",function(){return m}),i.d(e,"g",function(){return S}),i.d(e,"e",function(){return x}),i.d(e,"h",function(){return O}),i.d(e,"c",function(){return P}),i.d(e,"f",function(){return R}),i.d(e,"d",function(){return M}),i.d(e,"i",function(){return A}),i.d(e,"a",function(){return I});var n=i("SVse"),s=i("8Y7J"),r=i("XNiG"),o=i("quSY"),a=i("LRne"),l=i("dvZr"),h=i("vkgz"),c=i("Kj3r"),u=i("pLZG"),d=i("lJxs"),p=i("IzEk"),f=i("/HVE"),g=i("KCVW");class _{constructor(t){this._items=t,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new r.a,this._typeaheadSubscription=o.a.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._skipPredicateFn=t=>t.disabled,this._pressedLetters=[],this.tabOut=new r.a,this.change=new r.a,t instanceof s.C&&t.changes.subscribe(t=>{if(this._activeItem){const e=t.toArray().indexOf(this._activeItem);e>-1&&e!==this._activeItemIndex&&(this._activeItemIndex=e)}})}skipPredicate(t){return this._skipPredicateFn=t,this}withWrap(t=!0){return this._wrap=t,this}withVerticalOrientation(t=!0){return this._vertical=t,this}withHorizontalOrientation(t){return this._horizontal=t,this}withAllowedModifierKeys(t){return this._allowedModifierKeys=t,this}withTypeAhead(t=200){if(this._items.length&&this._items.some(t=>"function"!=typeof t.getLabel))throw Error("ListKeyManager items in typeahead mode must implement the `getLabel` method.");return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe(Object(h.a)(t=>this._pressedLetters.push(t)),Object(c.a)(t),Object(u.a)(()=>this._pressedLetters.length>0),Object(d.a)(()=>this._pressedLetters.join(""))).subscribe(t=>{const e=this._getItemsArray();for(let i=1;i<e.length+1;i++){const n=(this._activeItemIndex+i)%e.length,s=e[n];if(!this._skipPredicateFn(s)&&0===s.getLabel().toUpperCase().trim().indexOf(t)){this.setActiveItem(n);break}}this._pressedLetters=[]}),this}setActiveItem(t){const e=this._activeItemIndex;this.updateActiveItem(t),this._activeItemIndex!==e&&this.change.next(this._activeItemIndex)}onKeydown(t){const e=t.keyCode,i=["altKey","ctrlKey","metaKey","shiftKey"].every(e=>!t[e]||this._allowedModifierKeys.indexOf(e)>-1);switch(e){case l.m:return void this.tabOut.next();case l.b:if(this._vertical&&i){this.setNextItemActive();break}return;case l.n:if(this._vertical&&i){this.setPreviousItemActive();break}return;case l.k:if(this._horizontal&&i){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case l.g:if(this._horizontal&&i){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;default:return void((i||Object(l.q)(t,"shiftKey"))&&(t.key&&1===t.key.length?this._letterKeyStream.next(t.key.toLocaleUpperCase()):(e>=l.a&&e<=l.o||e>=l.p&&e<=l.h)&&this._letterKeyStream.next(String.fromCharCode(e))))}this._pressedLetters=[],t.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(t){const e=this._getItemsArray(),i="number"==typeof t?t:e.indexOf(t),n=e[i];this._activeItem=null==n?null:n,this._activeItemIndex=i}updateActiveItemIndex(t){this.updateActiveItem(t)}_setActiveItemByDelta(t){this._wrap?this._setActiveInWrapMode(t):this._setActiveInDefaultMode(t)}_setActiveInWrapMode(t){const e=this._getItemsArray();for(let i=1;i<=e.length;i++){const n=(this._activeItemIndex+t*i+e.length)%e.length;if(!this._skipPredicateFn(e[n]))return void this.setActiveItem(n)}}_setActiveInDefaultMode(t){this._setActiveItemByIndex(this._activeItemIndex+t,t)}_setActiveItemByIndex(t,e){const i=this._getItemsArray();if(i[t]){for(;this._skipPredicateFn(i[t]);)if(!i[t+=e])return;this.setActiveItem(t)}}_getItemsArray(){return this._items instanceof s.C?this._items.toArray():this._items}}class m extends _{setActiveItem(t){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(t),this.activeItem&&this.activeItem.setActiveStyles()}}let b=(()=>{class t{constructor(t){this._platform=t}isDisabled(t){return t.hasAttribute("disabled")}isVisible(t){return function(t){return!!(t.offsetWidth||t.offsetHeight||"function"==typeof t.getClientRects&&t.getClientRects().length)}(t)&&"visible"===getComputedStyle(t).visibility}isTabbable(t){if(!this._platform.isBrowser)return!1;const e=function(t){try{return t.frameElement}catch(e){return null}}((i=t).ownerDocument&&i.ownerDocument.defaultView||window);var i;if(e){const t=e&&e.nodeName.toLowerCase();if(-1===y(e))return!1;if((this._platform.BLINK||this._platform.WEBKIT)&&"object"===t)return!1;if((this._platform.BLINK||this._platform.WEBKIT)&&!this.isVisible(e))return!1}let n=t.nodeName.toLowerCase(),s=y(t);if(t.hasAttribute("contenteditable"))return-1!==s;if("iframe"===n)return!1;if("audio"===n){if(!t.hasAttribute("controls"))return!1;if(this._platform.BLINK)return!0}if("video"===n){if(!t.hasAttribute("controls")&&this._platform.TRIDENT)return!1;if(this._platform.BLINK||this._platform.FIREFOX)return!0}return("object"!==n||!this._platform.BLINK&&!this._platform.WEBKIT)&&!(this._platform.WEBKIT&&this._platform.IOS&&!function(t){let e=t.nodeName.toLowerCase(),i="input"===e&&t.type;return"text"===i||"password"===i||"select"===e||"textarea"===e}(t))&&t.tabIndex>=0}isFocusable(t){return function(t){return!function(t){return function(t){return"input"==t.nodeName.toLowerCase()}(t)&&"hidden"==t.type}(t)&&(function(t){let e=t.nodeName.toLowerCase();return"input"===e||"select"===e||"button"===e||"textarea"===e}(t)||function(t){return function(t){return"a"==t.nodeName.toLowerCase()}(t)&&t.hasAttribute("href")}(t)||t.hasAttribute("contenteditable")||v(t))}(t)&&!this.isDisabled(t)&&this.isVisible(t)}}return t.ngInjectableDef=Object(s.Ub)({factory:function(){return new t(Object(s.Vb)(f.a))},token:t,providedIn:"root"}),t})();function v(t){if(!t.hasAttribute("tabindex")||void 0===t.tabIndex)return!1;let e=t.getAttribute("tabindex");return"-32768"!=e&&!(!e||isNaN(parseInt(e,10)))}function y(t){if(!v(t))return null;const e=parseInt(t.getAttribute("tabindex")||"",10);return isNaN(e)?-1:e}class w{constructor(t,e,i,n,s=!1){this._element=t,this._checker=e,this._ngZone=i,this._document=n,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,s||this.attachAnchors()}get enabled(){return this._enabled}set enabled(t){this._enabled=t,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}destroy(){const t=this._startAnchor,e=this._endAnchor;t&&(t.removeEventListener("focus",this.startAnchorListener),t.parentNode&&t.parentNode.removeChild(t)),e&&(e.removeEventListener("focus",this.endAnchorListener),e.parentNode&&e.parentNode.removeChild(e)),this._startAnchor=this._endAnchor=null}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(){return new Promise(t=>{this._executeOnStable(()=>t(this.focusInitialElement()))})}focusFirstTabbableElementWhenReady(){return new Promise(t=>{this._executeOnStable(()=>t(this.focusFirstTabbableElement()))})}focusLastTabbableElementWhenReady(){return new Promise(t=>{this._executeOnStable(()=>t(this.focusLastTabbableElement()))})}_getRegionBoundary(t){let e=this._element.querySelectorAll(`[cdk-focus-region-${t}], `+`[cdkFocusRegion${t}], `+`[cdk-focus-${t}]`);for(let i=0;i<e.length;i++)e[i].hasAttribute(`cdk-focus-${t}`)?console.warn(`Found use of deprecated attribute 'cdk-focus-${t}', `+`use 'cdkFocusRegion${t}' instead. The deprecated `+"attribute will be removed in 8.0.0.",e[i]):e[i].hasAttribute(`cdk-focus-region-${t}`)&&console.warn(`Found use of deprecated attribute 'cdk-focus-region-${t}', `+`use 'cdkFocusRegion${t}' instead. The deprecated attribute `+"will be removed in 8.0.0.",e[i]);return"start"==t?e.length?e[0]:this._getFirstTabbableElement(this._element):e.length?e[e.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(){const t=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");return t?(t.hasAttribute("cdk-focus-initial")&&console.warn("Found use of deprecated attribute 'cdk-focus-initial', use 'cdkFocusInitial' instead. The deprecated attribute will be removed in 8.0.0",t),Object(s.Y)()&&!this._checker.isFocusable(t)&&console.warn("Element matching '[cdkFocusInitial]' is not focusable.",t),t.focus(),!0):this.focusFirstTabbableElement()}focusFirstTabbableElement(){const t=this._getRegionBoundary("start");return t&&t.focus(),!!t}focusLastTabbableElement(){const t=this._getRegionBoundary("end");return t&&t.focus(),!!t}hasAttached(){return this._hasAttached}_getFirstTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;let e=t.children||t.childNodes;for(let i=0;i<e.length;i++){let t=e[i].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(e[i]):null;if(t)return t}return null}_getLastTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;let e=t.children||t.childNodes;for(let i=e.length-1;i>=0;i--){let t=e[i].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(e[i]):null;if(t)return t}return null}_createAnchor(){const t=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,t),t.classList.add("cdk-visually-hidden"),t.classList.add("cdk-focus-trap-anchor"),t.setAttribute("aria-hidden","true"),t}_toggleAnchorTabIndex(t,e){t?e.setAttribute("tabindex","0"):e.removeAttribute("tabindex")}_executeOnStable(t){this._ngZone.isStable?t():this._ngZone.onStable.asObservable().pipe(Object(p.a)(1)).subscribe(t)}}let S=(()=>{class t{constructor(t,e,i){this._checker=t,this._ngZone=e,this._document=i}create(t,e=!1){return new w(t,this._checker,this._ngZone,this._document,e)}}return t.ngInjectableDef=Object(s.Ub)({factory:function(){return new t(Object(s.Vb)(b),Object(s.Vb)(s.y),Object(s.Vb)(n.d))},token:t,providedIn:"root"}),t})();class x{constructor(t,e,i){this._elementRef=t,this._focusTrapFactory=e,this._previouslyFocusedElement=null,this._document=i,this.focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement,!0)}get enabled(){return this.focusTrap.enabled}set enabled(t){this.focusTrap.enabled=Object(g.b)(t)}get autoCapture(){return this._autoCapture}set autoCapture(t){this._autoCapture=Object(g.b)(t)}ngOnDestroy(){this.focusTrap.destroy(),this._previouslyFocusedElement&&(this._previouslyFocusedElement.focus(),this._previouslyFocusedElement=null)}ngAfterContentInit(){this.focusTrap.attachAnchors(),this.autoCapture&&(this._previouslyFocusedElement=this._document.activeElement,this.focusTrap.focusInitialElementWhenReady())}ngDoCheck(){this.focusTrap.hasAttached()||this.focusTrap.attachAnchors()}}const C=new s.p("liveAnnouncerElement",{providedIn:"root",factory:function(){return null}}),k=new s.p("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let O=(()=>{class t{constructor(t,e,i,n){this._ngZone=e,this._defaultOptions=n,this._document=i,this._liveElement=t||this._createLiveElement()}announce(t,...e){const i=this._defaultOptions;let n,s;return 1===e.length&&"number"==typeof e[0]?s=e[0]:[n,s]=e,this.clear(),clearTimeout(this._previousTimeout),n||(n=i&&i.politeness?i.politeness:"polite"),null==s&&i&&(s=i.duration),this._liveElement.setAttribute("aria-live",n),this._ngZone.runOutsideAngular(()=>new Promise(e=>{clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=t,e(),"number"==typeof s&&(this._previousTimeout=setTimeout(()=>this.clear(),s))},100)}))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement&&this._liveElement.parentNode&&(this._liveElement.parentNode.removeChild(this._liveElement),this._liveElement=null)}_createLiveElement(){const t=this._document.getElementsByClassName("cdk-live-announcer-element"),e=this._document.createElement("div");for(let i=0;i<t.length;i++)t[i].parentNode.removeChild(t[i]);return e.classList.add("cdk-live-announcer-element"),e.classList.add("cdk-visually-hidden"),e.setAttribute("aria-atomic","true"),e.setAttribute("aria-live","polite"),this._document.body.appendChild(e),e}}return t.ngInjectableDef=Object(s.Ub)({factory:function(){return new t(Object(s.Vb)(C,8),Object(s.Vb)(s.y),Object(s.Vb)(n.d),Object(s.Vb)(k,8))},token:t,providedIn:"root"}),t})();class P{constructor(t,e,i,n){this._elementRef=t,this._liveAnnouncer=e,this._contentObserver=i,this._ngZone=n,this._politeness="off"}get politeness(){return this._politeness}set politeness(t){this._politeness="polite"===t||"assertive"===t?t:"off","off"===this._politeness?this._subscription&&(this._subscription.unsubscribe(),this._subscription=null):this._subscription||(this._subscription=this._ngZone.runOutsideAngular(()=>this._contentObserver.observe(this._elementRef).subscribe(()=>{const t=this._elementRef.nativeElement.textContent;t!==this._previousAnnouncedText&&(this._liveAnnouncer.announce(t,this._politeness),this._previousAnnouncedText=t)})))}ngOnDestroy(){this._subscription&&this._subscription.unsubscribe()}}const E=650,T=Object(f.f)({passive:!0,capture:!0});let R=(()=>{class t{constructor(t,e){this._ngZone=t,this._platform=e,this._origin=null,this._windowFocused=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._documentKeydownListener=()=>{this._lastTouchTarget=null,this._setOriginForCurrentEventQueue("keyboard")},this._documentMousedownListener=()=>{this._lastTouchTarget||this._setOriginForCurrentEventQueue("mouse")},this._documentTouchstartListener=t=>{null!=this._touchTimeoutId&&clearTimeout(this._touchTimeoutId),this._lastTouchTarget=t.target,this._touchTimeoutId=setTimeout(()=>this._lastTouchTarget=null,E)},this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=setTimeout(()=>this._windowFocused=!1)}}monitor(t,e=!1){if(!this._platform.isBrowser)return Object(a.a)(null);const i=Object(g.d)(t);if(this._elementInfo.has(i)){let t=this._elementInfo.get(i);return t.checkChildren=e,t.subject.asObservable()}let n={unlisten:()=>{},checkChildren:e,subject:new r.a};this._elementInfo.set(i,n),this._incrementMonitoredElementCount();let s=t=>this._onFocus(t,i),o=t=>this._onBlur(t,i);return this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",s,!0),i.addEventListener("blur",o,!0)}),n.unlisten=()=>{i.removeEventListener("focus",s,!0),i.removeEventListener("blur",o,!0)},n.subject.asObservable()}stopMonitoring(t){const e=Object(g.d)(t),i=this._elementInfo.get(e);i&&(i.unlisten(),i.subject.complete(),this._setClasses(e),this._elementInfo.delete(e),this._decrementMonitoredElementCount())}focusVia(t,e,i){const n=Object(g.d)(t);this._setOriginForCurrentEventQueue(e),"function"==typeof n.focus&&n.focus(i)}ngOnDestroy(){this._elementInfo.forEach((t,e)=>this.stopMonitoring(e))}_toggleClass(t,e,i){i?t.classList.add(e):t.classList.remove(e)}_setClasses(t,e){this._elementInfo.get(t)&&(this._toggleClass(t,"cdk-focused",!!e),this._toggleClass(t,"cdk-touch-focused","touch"===e),this._toggleClass(t,"cdk-keyboard-focused","keyboard"===e),this._toggleClass(t,"cdk-mouse-focused","mouse"===e),this._toggleClass(t,"cdk-program-focused","program"===e))}_setOriginForCurrentEventQueue(t){this._ngZone.runOutsideAngular(()=>{this._origin=t,this._originTimeoutId=setTimeout(()=>this._origin=null,1)})}_wasCausedByTouch(t){let e=t.target;return this._lastTouchTarget instanceof Node&&e instanceof Node&&(e===this._lastTouchTarget||e.contains(this._lastTouchTarget))}_onFocus(t,e){const i=this._elementInfo.get(e);if(!i||!i.checkChildren&&e!==t.target)return;let n=this._origin;n||(n=this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:this._wasCausedByTouch(t)?"touch":"program"),this._setClasses(e,n),this._emitOrigin(i.subject,n),this._lastFocusOrigin=n}_onBlur(t,e){const i=this._elementInfo.get(e);!i||i.checkChildren&&t.relatedTarget instanceof Node&&e.contains(t.relatedTarget)||(this._setClasses(e),this._emitOrigin(i.subject,null))}_emitOrigin(t,e){this._ngZone.run(()=>t.next(e))}_incrementMonitoredElementCount(){1==++this._monitoredElementCount&&this._platform.isBrowser&&this._ngZone.runOutsideAngular(()=>{document.addEventListener("keydown",this._documentKeydownListener,T),document.addEventListener("mousedown",this._documentMousedownListener,T),document.addEventListener("touchstart",this._documentTouchstartListener,T),window.addEventListener("focus",this._windowFocusListener)})}_decrementMonitoredElementCount(){--this._monitoredElementCount||(document.removeEventListener("keydown",this._documentKeydownListener,T),document.removeEventListener("mousedown",this._documentMousedownListener,T),document.removeEventListener("touchstart",this._documentTouchstartListener,T),window.removeEventListener("focus",this._windowFocusListener),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._touchTimeoutId),clearTimeout(this._originTimeoutId))}}return t.ngInjectableDef=Object(s.Ub)({factory:function(){return new t(Object(s.Vb)(s.y),Object(s.Vb)(f.a))},token:t,providedIn:"root"}),t})();class M{constructor(t,e){this._elementRef=t,this._focusMonitor=e,this.cdkFocusChange=new s.m,this._monitorSubscription=this._focusMonitor.monitor(this._elementRef,this._elementRef.nativeElement.hasAttribute("cdkMonitorSubtreeFocus")).subscribe(t=>this.cdkFocusChange.emit(t))}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._monitorSubscription.unsubscribe()}}function A(t){return 0===t.buttons}class I{}},"5LDq":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i("8LQ0"),s=i("SXH2"),r=i("nLhi"),o=i("RUZL");e.Emboss=function(t){var e=10*this.embossStrength(),i=255*this.embossWhiteLevel(),n=this.embossDirection(),s=this.embossBlend(),o=0,a=0,l=t.data,h=t.width,c=t.height,u=4*h,d=c;switch(n){case"top-left":o=-1,a=-1;break;case"top":o=-1,a=0;break;case"top-right":o=-1,a=1;break;case"right":o=0,a=1;break;case"bottom-right":o=1,a=1;break;case"bottom":o=1,a=0;break;case"bottom-left":o=1,a=-1;break;case"left":o=0,a=-1;break;default:r.Util.error("Unknown emboss direction: "+n)}do{var p=(d-1)*u,f=o;d+f<1&&(f=0),d+f>c&&(f=0);var g=(d-1+f)*h*4,_=h;do{var m=p+4*(_-1),b=a;_+b<1&&(b=0),_+b>h&&(b=0);var v=g+4*(_-1+b),y=l[m+1]-l[v+1],w=l[m+2]-l[v+2],S=l[m]-l[v],x=S>0?S:-S;if((y>0?y:-y)>x&&(S=y),(w>0?w:-w)>x&&(S=w),S*=e,s){var C=l[m]+S,k=l[m+1]+S,O=l[m+2]+S;l[m]=C>255?255:C<0?0:C,l[m+1]=k>255?255:k<0?0:k,l[m+2]=O>255?255:O<0?0:O}else{var P=i-S;P<0?P=0:P>255&&(P=255),l[m]=l[m+1]=l[m+2]=P}}while(--_)}while(--d)},n.Factory.addGetterSetter(s.Node,"embossStrength",.5,o.getNumberValidator(),n.Factory.afterSetFilter),n.Factory.addGetterSetter(s.Node,"embossWhiteLevel",.5,o.getNumberValidator(),n.Factory.afterSetFilter),n.Factory.addGetterSetter(s.Node,"embossDirection","top-left",null,n.Factory.afterSetFilter),n.Factory.addGetterSetter(s.Node,"embossBlend",!1,null,n.Factory.afterSetFilter)},"5giC":function(t,e,i){"use strict";var n=i("8Y7J"),s=i("SVse"),r=i("JeBq"),o=i("lawv");i("s7LF"),i("+bG2"),i("zgrA"),i.d(e,"a",function(){return a}),i.d(e,"b",function(){return u});var a=n.sb({encapsulation:0,styles:[[".circle-selector[_ngcontent-%COMP%]{border-radius:100%;width:40px;height:40px;display:flex;justify-content:center;align-items:center;font-size:17px}.circle-selector.selected[_ngcontent-%COMP%]{color:#fff;background-color:#000}.circle-selector.disabled[_ngcontent-%COMP%]{color:#8c8c8c;text-decoration:line-through}"]],data:{}});function l(t){return n.Qb(0,[(t()(),n.ub(0,0,null,null,5,null,null,null,null,null,null,null)),(t()(),n.ub(1,0,null,null,1,"span",[],[[8,"innerHTML",1]],null,null,null,null)),n.Kb(2,1),(t()(),n.Ob(3,null,[" "," "])),n.Kb(4,2),n.Kb(5,2)],null,function(t,e){var i=e.component,s=n.Pb(e,1,0,t(e,2,0,n.Gb(e.parent,0),i.state.value));t(e,1,0,s);var r=n.Pb(e,3,0,t(e,5,0,n.Gb(e.parent,1),n.Pb(e,3,0,t(e,4,0,n.Gb(e.parent,2),i.state.value,"ru")),"DD MMM, dddd"));t(e,3,0,r)})}function h(t){return n.Qb(0,[(t()(),n.ub(0,0,null,null,5,"td",[["class","text-center"]],null,[[null,"click"]],function(t,e,i){var n=!0;return"click"===e&&(n=!1!==t.component.updateValue(t.context.$implicit)&&n),n},null,null)),(t()(),n.ub(1,0,null,null,4,"span",[["class","circle-selector ml-auto mr-auto"]],null,null,null,null,null)),n.Lb(512,null,s.v,s.w,[n.r,n.s,n.k,n.D]),n.tb(3,278528,null,0,s.i,[s.v],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),n.Jb(4,{selected:0,disabled:1}),(t()(),n.Ob(5,null,["",""]))],function(t,e){var i=e.component,n=t(e,4,0,i.state&&i.state.dayString===(null==e.context.$implicit?null:e.context.$implicit.dayString),null==e.context.$implicit?null:e.context.$implicit.disabled);t(e,3,0,"circle-selector ml-auto mr-auto",n)},function(t,e){t(e,5,0,null==e.context.$implicit?null:e.context.$implicit.title)})}function c(t){return n.Qb(0,[(t()(),n.ub(0,0,null,null,2,"tr",[],null,null,null,null,null)),(t()(),n.jb(16777216,null,null,1,null,h)),n.tb(2,278528,null,0,s.j,[n.P,n.M,n.r],{ngForOf:[0,"ngForOf"]},null)],function(t,e){t(e,2,0,e.context.$implicit)},null)}function u(t){return n.Qb(0,[n.Ib(0,r.a,[]),n.Ib(0,o.a,[]),n.Ib(0,o.c,[]),(t()(),n.ub(3,0,null,null,10,"div",[["class","pt-3 pb-3"]],null,null,null,null,null)),(t()(),n.ub(4,0,null,null,5,"div",[["class","d-flex justify-content-between align-items-end mb-2 pb-1"]],null,null,null,null,null)),(t()(),n.ub(5,0,null,null,1,"div",[["class","caption-medium"]],null,null,null,null,null)),(t()(),n.Ob(-1,null,[" \u0414\u0430\u0442\u0430 "])),(t()(),n.ub(7,0,null,null,2,"div",[["class","fw-color-gray fw-fz-15"]],null,null,null,null,null)),(t()(),n.jb(16777216,null,null,1,null,l)),n.tb(9,16384,null,0,s.k,[n.P,n.M],{ngIf:[0,"ngIf"]},null),(t()(),n.ub(10,0,null,null,3,"div",[],null,null,null,null,null)),(t()(),n.ub(11,0,null,null,2,"table",[["cellpadding","0"],["cellspacing","0"],["class","col"]],null,null,null,null,null)),(t()(),n.jb(16777216,null,null,1,null,c)),n.tb(13,278528,null,0,s.j,[n.P,n.M,n.r],{ngForOf:[0,"ngForOf"]},null)],function(t,e){var i=e.component;t(e,9,0,i.state),t(e,13,0,i.calendar)},null)}},"66Qi":function(t,e,i){var n=i("mrSG").__extends;Object.defineProperty(e,"__esModule",{value:!0});var s=i("nLhi"),r=i("8LQ0"),o=i("6mFz"),a=i("13ei"),l=i("9lVk"),h=i("35O5"),c=i("13ei"),u=i("fSr5"),d="_",p=["mouseenter","mousedown","mousemove","mouseup","mouseout","touchstart","touchmove","touchend","mouseover","wheel","contextmenu","pointerdown","pointermove","pointerup","pointercancel","lostpointercapture"],f=p.length;function g(t,e){t.content.addEventListener(e,function(i){t[d+e](i)},!1)}function _(t){return void 0===t&&(t={}),(t.clipFunc||t.clipWidth||t.clipHeight)&&s.Util.warn("Stage does not support clipping. Please use clip for Layers or Groups."),t}e.stages=[];var m=function(t){function i(i){var n=t.call(this,_(i))||this;return n._pointerPositions=[],n._changedPointerPositions=[],n._buildDOM(),n._bindContentEvents(),e.stages.push(n),n.on("widthChange.konva heightChange.konva",n._resizeDOM),n.on("visibleChange.konva",n._checkVisibility),n.on("clipWidthChange.konva clipHeightChange.konva clipFuncChange.konva",function(){_(n.attrs)}),n._checkVisibility(),n}return n(i,t),i.prototype._validateAdd=function(t){var e="Layer"===t.getType(),i="FastLayer"===t.getType();e||i||s.Util.throw("You may only add layers to the stage.")},i.prototype._checkVisibility=function(){var t=this.visible()?"":"none";this.content.style.display=t},i.prototype.setContainer=function(t){if("string"==typeof t){if("."===t.charAt(0)){var e=t.slice(1);t=document.getElementsByClassName(e)[0]}else{var i;i="#"!==t.charAt(0)?t:t.slice(1),t=document.getElementById(i)}if(!t)throw"Can not find container in document with id "+i}return this._setAttr("container",t),this.content&&(this.content.parentElement&&this.content.parentElement.removeChild(this.content),t.appendChild(this.content)),this},i.prototype.shouldDrawHit=function(){return!0},i.prototype.clear=function(){var t,e=this.children,i=e.length;for(t=0;t<i;t++)e[t].clear();return this},i.prototype.clone=function(t){return t||(t={}),t.container=document.createElement("div"),o.Container.prototype.clone.call(this,t)},i.prototype.destroy=function(){t.prototype.destroy.call(this);var i=this.content;i&&s.Util._isInDocument(i)&&this.container().removeChild(i);var n=e.stages.indexOf(this);return n>-1&&e.stages.splice(n,1),this},i.prototype.getPointerPosition=function(){var t=this._pointerPositions[0];return t||s.Util.warn("Pointer position is missing and not registered by the stage. Looks like it is outside of the stage container. You can set it manually from event: stage.setPointersPositions(event);"),{x:t.x,y:t.y}},i.prototype._getPointerById=function(t){return this._pointerPositions.find(function(e){return e.id===t})},i.prototype.getPointersPositions=function(){return this._pointerPositions},i.prototype.getStage=function(){return this},i.prototype.getContent=function(){return this.content},i.prototype._toKonvaCanvas=function(t){var e=(t=t||{}).x||0,i=t.y||0,n=new l.SceneCanvas({width:t.width||this.width(),height:t.height||this.height(),pixelRatio:t.pixelRatio||1}),s=n.getContext()._context,r=this.children;return(e||i)&&s.translate(-1*e,-1*i),r.each(function(n){if(n.isVisible()){var r=n._toKonvaCanvas(t);s.drawImage(r._canvas,e,i,r.getWidth()/r.getPixelRatio(),r.getHeight()/r.getPixelRatio())}}),n},i.prototype.getIntersection=function(t,e){var i,n,s=this.children;for(i=s.length-1;i>=0;i--)if(n=s[i].getIntersection(t,e))return n;return null},i.prototype._resizeDOM=function(){if(this.content){var t,e,i=this.width(),n=this.height(),s=this.getChildren(),r=s.length;for(this.content.style.width=i+"px",this.content.style.height=n+"px",this.bufferCanvas.setSize(i,n),this.bufferHitCanvas.setSize(i,n),t=0;t<r;t++)(e=s[t]).setSize({width:i,height:n}),e.draw()}},i.prototype.add=function(e){if(arguments.length>1){for(var i=0;i<arguments.length;i++)this.add(arguments[i]);return this}t.prototype.add.call(this,e);var n=this.children.length;return n>5&&s.Util.warn("The stage has "+n+" layers. Recommended maximin number of layers is 3-5. Adding more layers into the stage may drop the performance. Rethink your tree structure, you can use Konva.Group."),e._setCanvasSize(this.width(),this.height()),e.draw(),a.Konva.isBrowser&&this.content.appendChild(e.canvas._canvas),this},i.prototype.getParent=function(){return null},i.prototype.getLayer=function(){return null},i.prototype.hasPointerCapture=function(t){return u.hasPointerCapture(t,this)},i.prototype.setPointerCapture=function(t){u.setPointerCapture(t,this)},i.prototype.releaseCapture=function(t){u.releaseCapture(t,this)},i.prototype.getLayers=function(){return this.getChildren()},i.prototype._bindContentEvents=function(){if(a.Konva.isBrowser)for(var t=0;t<f;t++)g(this,p[t])},i.prototype._mouseenter=function(t){this.setPointersPositions(t),this._fire("mouseenter",{evt:t,target:this,currentTarget:this})},i.prototype._mouseover=function(t){this.setPointersPositions(t),this._fire("contentMouseover",{evt:t}),this._fire("mouseover",{evt:t,target:this,currentTarget:this})},i.prototype._mouseout=function(t){this.setPointersPositions(t);var e=this.targetShape,i=!h.DD.isDragging||a.Konva.hitOnDragEnabled;e&&i?(e._fireAndBubble("mouseout",{evt:t}),e._fireAndBubble("mouseleave",{evt:t}),this.targetShape=null):i&&(this._fire("mouseleave",{evt:t,target:this,currentTarget:this}),this._fire("mouseout",{evt:t,target:this,currentTarget:this})),this.pointerPos=void 0,this._pointerPositions=[],this._fire("contentMouseout",{evt:t})},i.prototype._mousemove=function(t){if(a.Konva.UA.ieMobile)return this._touchmove(t);this.setPointersPositions(t);var e,i=s.Util._getFirstPointerId(t),n=!h.DD.isDragging||a.Konva.hitOnDragEnabled;n&&((e=this.getIntersection(this.getPointerPosition()))&&e.isListening()?!n||this.targetShape&&this.targetShape===e?e._fireAndBubble("mousemove",{evt:t,pointerId:i}):(this.targetShape&&(this.targetShape._fireAndBubble("mouseout",{evt:t,pointerId:i},e),this.targetShape._fireAndBubble("mouseleave",{evt:t,pointerId:i},e)),e._fireAndBubble("mouseover",{evt:t,pointerId:i},this.targetShape),e._fireAndBubble("mouseenter",{evt:t,pointerId:i},this.targetShape),e._fireAndBubble("mousemove",{evt:t,pointerId:i}),this.targetShape=e):(this.targetShape&&n&&(this.targetShape._fireAndBubble("mouseout",{evt:t,pointerId:i}),this.targetShape._fireAndBubble("mouseleave",{evt:t,pointerId:i}),this._fire("mouseover",{evt:t,target:this,currentTarget:this,pointerId:i}),this.targetShape=null),this._fire("mousemove",{evt:t,target:this,currentTarget:this,pointerId:i})),this._fire("contentMousemove",{evt:t})),t.cancelable&&t.preventDefault()},i.prototype._mousedown=function(t){if(a.Konva.UA.ieMobile)return this._touchstart(t);this.setPointersPositions(t);var e=s.Util._getFirstPointerId(t),i=this.getIntersection(this.getPointerPosition());a.Konva.listenClickTap=!0,i&&i.isListening()?(this.clickStartShape=i,i._fireAndBubble("mousedown",{evt:t,pointerId:e})):this._fire("mousedown",{evt:t,target:this,currentTarget:this,pointerId:e}),this._fire("contentMousedown",{evt:t})},i.prototype._mouseup=function(t){if(a.Konva.UA.ieMobile)return this._touchend(t);this.setPointersPositions(t);var e=s.Util._getFirstPointerId(t),i=this.getIntersection(this.getPointerPosition()),n=this.clickStartShape,r=this.clickEndShape,o=!1;a.Konva.inDblClickWindow?(o=!0,clearTimeout(this.dblTimeout)):h.DD.justDragged?h.DD&&(h.DD.justDragged=!1):(a.Konva.inDblClickWindow=!0,clearTimeout(this.dblTimeout)),this.dblTimeout=setTimeout(function(){a.Konva.inDblClickWindow=!1},a.Konva.dblClickWindow),i&&i.isListening()?(this.clickEndShape=i,i._fireAndBubble("mouseup",{evt:t,pointerId:e}),a.Konva.listenClickTap&&n&&n._id===i._id&&(i._fireAndBubble("click",{evt:t,pointerId:e}),o&&r&&r===i&&i._fireAndBubble("dblclick",{evt:t,pointerId:e}))):(this._fire("mouseup",{evt:t,target:this,currentTarget:this,pointerId:e}),a.Konva.listenClickTap&&this._fire("click",{evt:t,target:this,currentTarget:this,pointerId:e}),o&&this._fire("dblclick",{evt:t,target:this,currentTarget:this,pointerId:e})),this._fire("contentMouseup",{evt:t}),a.Konva.listenClickTap&&(this._fire("contentClick",{evt:t}),o&&this._fire("contentDblclick",{evt:t})),a.Konva.listenClickTap=!1,t.cancelable&&t.preventDefault()},i.prototype._contextmenu=function(t){this.setPointersPositions(t);var e=this.getIntersection(this.getPointerPosition());e&&e.isListening()?e._fireAndBubble("contextmenu",{evt:t}):this._fire("contextmenu",{evt:t,target:this,currentTarget:this}),this._fire("contentContextmenu",{evt:t})},i.prototype._touchstart=function(t){var e=this;this.setPointersPositions(t);var i=!1;this._changedPointerPositions.forEach(function(n){var s=e.getIntersection(n);a.Konva.listenClickTap=!0,s&&s.isListening()&&(a.Konva.captureTouchEventsEnabled&&s.setPointerCapture(n.id),e.tapStartShape=s,s._fireAndBubble("touchstart",{evt:t,pointerId:n.id},e),i=!0,s.isListening()&&s.preventDefault()&&t.cancelable&&t.preventDefault())}),i||this._fire("touchstart",{evt:t,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id}),this._fire("contentTouchstart",{evt:t})},i.prototype._touchmove=function(t){var e=this;if(this.setPointersPositions(t),!h.DD.isDragging||a.Konva.hitOnDragEnabled){var i=!1,n={};this._changedPointerPositions.forEach(function(s){var r=u.getCapturedShape(s.id)||e.getIntersection(s);r&&r.isListening()&&(n[r._id]||(n[r._id]=!0,r._fireAndBubble("touchmove",{evt:t,pointerId:s.id}),i=!0,r.isListening()&&r.preventDefault()&&t.cancelable&&t.preventDefault()))}),i||this._fire("touchmove",{evt:t,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id}),this._fire("contentTouchmove",{evt:t})}h.DD.isDragging&&h.DD.node.preventDefault()&&t.cancelable&&t.preventDefault()},i.prototype._touchend=function(t){var e=this;this.setPointersPositions(t);var i=this.clickEndShape,n=!1;a.Konva.inDblClickWindow?(n=!0,clearTimeout(this.dblTimeout)):(a.Konva.inDblClickWindow=!0,clearTimeout(this.dblTimeout)),this.dblTimeout=setTimeout(function(){a.Konva.inDblClickWindow=!1},a.Konva.dblClickWindow);var s=!1,r={};this._changedPointerPositions.forEach(function(o){var l=u.getCapturedShape(o.id)||e.getIntersection(o);l&&l.releaseCapture(o.id),l&&l.isListening()&&(r[l._id]||(r[l._id]=!0,e.clickEndShape=l,l._fireAndBubble("touchend",{evt:t,pointerId:o.id}),s=!0,a.Konva.listenClickTap&&e.tapStartShape&&l._id===e.tapStartShape._id&&(l._fireAndBubble("tap",{evt:t,pointerId:o.id}),n&&i&&i===l&&l._fireAndBubble("dbltap",{evt:t,pointerId:o.id})),l.isListening()&&l.preventDefault()&&t.cancelable&&t.preventDefault()))}),s||this._fire("touchend",{evt:t,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id}),a.Konva.listenClickTap&&this._fire("tap",{evt:t,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id}),n&&this._fire("dbltap",{evt:t,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id}),this._fire("contentTouchend",{evt:t}),a.Konva.listenClickTap&&(this._fire("contentTap",{evt:t}),n&&this._fire("contentDbltap",{evt:t})),a.Konva.listenClickTap=!1},i.prototype._wheel=function(t){this.setPointersPositions(t);var e=this.getIntersection(this.getPointerPosition());e&&e.isListening()?e._fireAndBubble("wheel",{evt:t}):this._fire("wheel",{evt:t,target:this,currentTarget:this}),this._fire("contentWheel",{evt:t})},i.prototype._pointerdown=function(t){if(a.Konva._pointerEventsEnabled){this.setPointersPositions(t);var e=u.getCapturedShape(t.pointerId)||this.getIntersection(this.getPointerPosition());e&&e._fireAndBubble("pointerdown",u.createEvent(t))}},i.prototype._pointermove=function(t){if(a.Konva._pointerEventsEnabled){this.setPointersPositions(t);var e=u.getCapturedShape(t.pointerId)||this.getIntersection(this.getPointerPosition());e&&e._fireAndBubble("pointermove",u.createEvent(t))}},i.prototype._pointerup=function(t){if(a.Konva._pointerEventsEnabled){this.setPointersPositions(t);var e=u.getCapturedShape(t.pointerId)||this.getIntersection(this.getPointerPosition());e&&e._fireAndBubble("pointerup",u.createEvent(t)),u.releaseCapture(t.pointerId)}},i.prototype._pointercancel=function(t){if(a.Konva._pointerEventsEnabled){this.setPointersPositions(t);var e=u.getCapturedShape(t.pointerId)||this.getIntersection(this.getPointerPosition());e&&e._fireAndBubble("pointerup",u.createEvent(t)),u.releaseCapture(t.pointerId)}},i.prototype._lostpointercapture=function(t){u.releaseCapture(t.pointerId)},i.prototype.setPointersPositions=function(t){var e=this,i=this._getContentPosition(),n=null,r=null;if(void 0!==(t=t||window.event).touches){if(this._pointerPositions=[],this._changedPointerPositions=[],s.Collection.prototype.each.call(t.touches,function(t){e._pointerPositions.push({id:t.identifier,x:t.clientX-i.left,y:t.clientY-i.top})}),s.Collection.prototype.each.call(t.changedTouches||t.touches,function(t){e._changedPointerPositions.push({id:t.identifier,x:t.clientX-i.left,y:t.clientY-i.top})}),t.touches.length>0){var o=t.touches[0];n=o.clientX-i.left,r=o.clientY-i.top}}else this.pointerPos={x:n=t.clientX-i.left,y:r=t.clientY-i.top},this._pointerPositions=[{x:n,y:r,id:s.Util._getFirstPointerId(t)}],this._changedPointerPositions=[{x:n,y:r,id:s.Util._getFirstPointerId(t)}]},i.prototype._setPointerPosition=function(t){s.Util.warn('Method _setPointerPosition is deprecated. Use "stage.setPointersPositions(event)" instead.'),this.setPointersPositions(t)},i.prototype._getContentPosition=function(){var t=this.content.getBoundingClientRect?this.content.getBoundingClientRect():{top:0,left:0};return{top:t.top,left:t.left}},i.prototype._buildDOM=function(){if(this.bufferCanvas=new l.SceneCanvas,this.bufferHitCanvas=new l.HitCanvas({pixelRatio:1}),a.Konva.isBrowser){var t=this.container();if(!t)throw"Stage has no container. A container is required.";t.innerHTML="",this.content=document.createElement("div"),this.content.style.position="relative",this.content.style.userSelect="none",this.content.className="konvajs-content",this.content.setAttribute("role","presentation"),t.appendChild(this.content),this._resizeDOM()}},i.prototype.cache=function(){return s.Util.warn("Cache function is not allowed for stage. You may use cache only for layers, groups and shapes."),this},i.prototype.clearCache=function(){return this},i.prototype.batchDraw=function(){return this.children.each(function(t){t.batchDraw()}),this},i}(o.Container);e.Stage=m,m.prototype.nodeType="Stage",c._registerNode(m),r.Factory.addGetterSetter(m,"container")},"6mFz":function(t,e,i){var n=i("mrSG").__extends;Object.defineProperty(e,"__esModule",{value:!0});var s=i("nLhi"),r=i("8LQ0"),o=i("SXH2"),a=i("35O5"),l=i("RUZL"),h=i("13ei"),c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.children=new s.Collection,e}return n(e,t),e.prototype.getChildren=function(t){if(!t)return this.children;var e=new s.Collection;return this.children.each(function(i){t(i)&&e.push(i)}),e},e.prototype.hasChildren=function(){return this.getChildren().length>0},e.prototype.removeChildren=function(){for(var t,e=0;e<this.children.length;e++)(t=this.children[e]).parent=null,t.index=0,t.remove();return this.children=new s.Collection,this},e.prototype.destroyChildren=function(){for(var t,e=0;e<this.children.length;e++)(t=this.children[e]).parent=null,t.index=0,t.destroy();return this.children=new s.Collection,this},e.prototype.add=function(t){if(arguments.length>1){for(var e=0;e<arguments.length;e++)this.add(arguments[e]);return this}if(t.getParent())return t.moveTo(this),this;var i=this.children;return this._validateAdd(t),t.index=i.length,t.parent=this,i.push(t),this._fire("add",{child:t}),this},e.prototype.destroy=function(){return this.hasChildren()&&this.destroyChildren(),t.prototype.destroy.call(this),this},e.prototype.find=function(t){return this._generalFind(t,!1)},e.prototype.get=function(t){return s.Util.warn("collection.get() method is deprecated. Please use collection.find() instead."),this.find(t)},e.prototype.findOne=function(t){var e=this._generalFind(t,!0);return e.length>0?e[0]:void 0},e.prototype._generalFind=function(t,e){var i=[];return this._descendants(function(n){var s=n._isMatch(t);return s&&i.push(n),!(!s||!e)}),s.Collection.toCollection(i)},e.prototype._descendants=function(t){for(var e=0;e<this.children.length;e++){var i=this.children[e];if(t(i))return!0;if(i.hasChildren()&&i._descendants(t))return!0}return!1},e.prototype.toObject=function(){var t=o.Node.prototype.toObject.call(this);t.children=[];for(var e=this.getChildren(),i=e.length,n=0;n<i;n++)t.children.push(e[n].toObject());return t},e.prototype._getDescendants=function(t){for(var e=[],i=t.length,n=0;n<i;n++){var s=t[n];this.isAncestorOf(s)&&e.push(s)}return e},e.prototype.isAncestorOf=function(t){for(var e=t.getParent();e;){if(e._id===this._id)return!0;e=e.getParent()}return!1},e.prototype.clone=function(t){var e=o.Node.prototype.clone.call(this,t);return this.getChildren().each(function(t){e.add(t.clone())}),e},e.prototype.getAllIntersections=function(t){var e=[];return this.find("Shape").each(function(i){i.isVisible()&&i.intersects(t)&&e.push(i)}),e},e.prototype._setChildrenIndices=function(){this.children.each(function(t,e){t.index=e})},e.prototype.drawScene=function(t,e,i){var n=this.getLayer(),s=t||n&&n.getCanvas(),r=s&&s.getContext(),o=this._getCanvasCache(),a=o&&o.scene;return(this.isVisible()||i)&&(!i&&a?(r.save(),n._applyTransform(this,r,e),this._drawCachedSceneCanvas(r),r.restore()):this._drawChildren(s,"drawScene",e,!1,i,i)),this},e.prototype.drawHit=function(t,e,i){var n=this.getLayer(),s=t||n&&n.hitCanvas,r=s&&s.getContext(),o=this._getCanvasCache(),a=o&&o.hit;return(this.shouldDrawHit(s)||i)&&(!i&&a?(r.save(),n._applyTransform(this,r,e),this._drawCachedHitCanvas(r),r.restore()):this._drawChildren(s,"drawHit",e,!1,i,i)),this},e.prototype._drawChildren=function(t,e,i,n,s,r){var o,a,l=this.getLayer(),h=t&&t.getContext(),c=this.clipWidth(),u=this.clipHeight(),d=this.clipFunc(),p=c&&u||d;if(p&&l){h.save();var f=this.getAbsoluteTransform(i),g=f.getMatrix();h.transform(g[0],g[1],g[2],g[3],g[4],g[5]),h.beginPath(),d?d.call(this,h,this):(o=this.clipX(),a=this.clipY(),h.rect(o,a,c,u)),h.clip(),g=f.copy().invert().getMatrix(),h.transform(g[0],g[1],g[2],g[3],g[4],g[5])}var _="source-over"!==this.globalCompositeOperation()&&!r;_&&l&&(h.save(),h._applyGlobalCompositeOperation(this)),this.children.each(function(r){r[e](t,i,n,s)}),_&&l&&h.restore(),p&&l&&h.restore()},e.prototype.shouldDrawHit=function(t){if(t&&t.isCache)return!0;var e=this.getLayer(),i=!1;a.DD._dragElements.forEach(function(t){t.isDragging&&t.node.getLayer()===e&&(i=!0)});var n=!h.Konva.hitOnDragEnabled&&i;return e&&e.hitGraphEnabled()&&this.isVisible()&&!n},e.prototype.getClientRect=function(t){var e,i,n,s,r,o=(t=t||{}).skipTransform,a=t.relativeTo,l=this;this.children.each(function(r){if(r.visible()){var o=r.getClientRect({relativeTo:l,skipShadow:t.skipShadow,skipStroke:t.skipStroke});0===o.width&&0===o.height||(void 0===e?(e=o.x,i=o.y,n=o.x+o.width,s=o.y+o.height):(e=Math.min(e,o.x),i=Math.min(i,o.y),n=Math.max(n,o.x+o.width),s=Math.max(s,o.y+o.height)))}});for(var h=this.find("Shape"),c=!1,u=0;u<h.length;u++)if(h[u]._isVisible(this)){c=!0;break}return r=c?{x:e,y:i,width:n-e,height:s-i}:{x:0,y:0,width:0,height:0},o?r:this._transformedRect(r,a)},e}(o.Node);e.Container=c,r.Factory.addComponentsGetterSetter(c,"clip",["x","y","width","height"]),r.Factory.addGetterSetter(c,"clipX",void 0,l.getNumberValidator()),r.Factory.addGetterSetter(c,"clipY",void 0,l.getNumberValidator()),r.Factory.addGetterSetter(c,"clipWidth",void 0,l.getNumberValidator()),r.Factory.addGetterSetter(c,"clipHeight",void 0,l.getNumberValidator()),r.Factory.addGetterSetter(c,"clipFunc"),s.Collection.mapMethods(c)},"7T3k":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i("13ei"),s=n.glob.performance&&n.glob.performance.now?function(){return n.glob.performance.now()}:function(){return(new Date).getTime()};e.Animation=function(){function t(e,i){this.id=t.animIdCounter++,this.frame={time:0,timeDiff:0,lastTime:s(),frameRate:0},this.func=e,this.setLayers(i)}return t.prototype.setLayers=function(t){return this.layers=t?t.length>0?t:[t]:[],this},t.prototype.getLayers=function(){return this.layers},t.prototype.addLayer=function(t){var e,i=this.layers,n=i.length;for(e=0;e<n;e++)if(i[e]._id===t._id)return!1;return this.layers.push(t),!0},t.prototype.isRunning=function(){var e,i=t.animations,n=i.length;for(e=0;e<n;e++)if(i[e].id===this.id)return!0;return!1},t.prototype.start=function(){return this.stop(),this.frame.timeDiff=0,this.frame.lastTime=s(),t._addAnimation(this),this},t.prototype.stop=function(){return t._removeAnimation(this),this},t.prototype._updateFrameObject=function(t){this.frame.timeDiff=t-this.frame.lastTime,this.frame.lastTime=t,this.frame.time+=this.frame.timeDiff,this.frame.frameRate=1e3/this.frame.timeDiff},t._addAnimation=function(t){this.animations.push(t),this._handleAnimation()},t._removeAnimation=function(t){var e,i=t.id,n=this.animations,s=n.length;for(e=0;e<s;e++)if(n[e].id===i){this.animations.splice(e,1);break}},t._runFrames=function(){var t,e,i,n,r,o,a,l,h={},c=this.animations;for(n=0;n<c.length;n++)if(e=(t=c[n]).layers,i=t.func,t._updateFrameObject(s()),o=e.length,!i||!1!==i.call(t,t.frame))for(r=0;r<o;r++)void 0!==(a=e[r])._id&&(h[a._id]=a);for(l in h)h.hasOwnProperty(l)&&h[l].draw()},t._animationLoop=function(){var e=t;e.animations.length?(e._runFrames(),requestAnimationFrame(e._animationLoop)):e.animRunning=!1},t._handleAnimation=function(){this.animRunning||(this.animRunning=!0,requestAnimationFrame(this._animationLoop))},t.animations=[],t.animIdCounter=0,t.animRunning=!1,t}()},"81y5":function(t,e,i){var n=i("mrSG").__extends;Object.defineProperty(e,"__esModule",{value:!0});var s=i("nLhi"),r=i("6mFz"),o=i("13ei"),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype._validateAdd=function(t){var e=t.getType();"Group"!==e&&"Shape"!==e&&s.Util.throw("You may only add groups and shapes to groups.")},e}(r.Container);e.Group=a,a.prototype.nodeType="Group",o._registerNode(a),s.Collection.mapMethods(a)},"8LQ0":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i("nLhi"),s=i("RUZL");e.Factory={addGetterSetter:function(t,e,i,n,s){this.addGetter(t,e,i),this.addSetter(t,e,n,s),this.addOverloadedGetterSetter(t,e)},addGetter:function(t,e,i){var s="get"+n.Util._capitalize(e);t.prototype[s]=t.prototype[s]||function(){var t=this.attrs[e];return void 0===t?i:t}},addSetter:function(t,i,s,r){var o="set"+n.Util._capitalize(i);t.prototype[o]||e.Factory.overWriteSetter(t,i,s,r)},overWriteSetter:function(t,e,i,s){var r="set"+n.Util._capitalize(e);t.prototype[r]=function(t){return i&&null!=t&&(t=i.call(this,t,e)),this._setAttr(e,t),s&&s.call(this),this}},addComponentsGetterSetter:function(t,e,i,r,o){var a,l,h=i.length,c=n.Util._capitalize,u="get"+c(e),d="set"+c(e);t.prototype[u]=function(){var t={};for(a=0;a<h;a++)t[l=i[a]]=this.getAttr(e+c(l));return t};var p=s.getComponentValidator(i);t.prototype[d]=function(t){var i,n=this.attrs[e];for(i in r&&(t=r.call(this,t)),p&&p.call(this,t,e),t)t.hasOwnProperty(i)&&this._setAttr(e+c(i),t[i]);return this._fireChangeEvent(e,n,t),o&&o.call(this),this},this.addOverloadedGetterSetter(t,e)},addOverloadedGetterSetter:function(t,e){var i=n.Util._capitalize(e),s="set"+i,r="get"+i;t.prototype[e]=function(){return arguments.length?(this[s](arguments[0]),this):this[r]()}},addDeprecatedGetterSetter:function(t,e,i,s){n.Util.error("Adding deprecated "+e);var r="get"+n.Util._capitalize(e),o=e+" property is deprecated and will be removed soon. Look at Konva change log for more information.";t.prototype[r]=function(){n.Util.error(o);var t=this.attrs[e];return void 0===t?i:t},this.addSetter(t,e,s,function(){n.Util.error(o)}),this.addOverloadedGetterSetter(t,e)},backCompat:function(t,e){n.Util.each(e,function(e,i){var s=t.prototype[i],r="get"+n.Util._capitalize(e),o="set"+n.Util._capitalize(e);function a(){s.apply(this,arguments),n.Util.error('"'+e+'" method is deprecated and will be removed soon. Use ""'+i+'" instead.')}t.prototype[e]=a,t.prototype[r]=a,t.prototype[o]=a})},afterSetFilter:function(){this._filterUpToDate=!1}}},"8bJo":function(t,e,i){"use strict";i.d(e,"a",function(){return l}),i.d(e,"c",function(){return a}),i.d(e,"b",function(){return h});var n=i("HDdC"),s=i("LRne"),r=i("XNiG");i("8Y7J");class o{}function a(t){return t&&"function"==typeof t.connect}class l extends o{constructor(t){super(),this._data=t}connect(){return this._data instanceof n.a?this._data:Object(s.a)(this._data)}disconnect(){}}class h{constructor(t=!1,e,i=!0){this._multiple=t,this._emitChanges=i,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new r.a,this.onChange=this.changed,e&&e.length&&(t?e.forEach(t=>this._markSelected(t)):this._markSelected(e[0]),this._selectedToEmit.length=0)}get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}select(...t){this._verifyValueAssignment(t),t.forEach(t=>this._markSelected(t)),this._emitChangeEvent()}deselect(...t){this._verifyValueAssignment(t),t.forEach(t=>this._unmarkSelected(t)),this._emitChangeEvent()}toggle(t){this.isSelected(t)?this.deselect(t):this.select(t)}clear(){this._unmarkAll(),this._emitChangeEvent()}isSelected(t){return this._selection.has(t)}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(t){this._multiple&&this.selected&&this._selected.sort(t)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(t){this.isSelected(t)||(this._multiple||this._unmarkAll(),this._selection.add(t),this._emitChanges&&this._selectedToEmit.push(t))}_unmarkSelected(t){this.isSelected(t)&&(this._selection.delete(t),this._emitChanges&&this._deselectedToEmit.push(t))}_unmarkAll(){this.isEmpty()||this._selection.forEach(t=>this._unmarkSelected(t))}_verifyValueAssignment(t){if(t.length>1&&!this._multiple)throw Error("Cannot pass multiple values into SelectionModel with single-value mode.")}}},"9lVk":function(t,e,i){var n=i("mrSG").__extends;Object.defineProperty(e,"__esModule",{value:!0});var s,r=i("nLhi"),o=i("xSfM"),a=i("13ei"),l=i("8LQ0"),h=i("RUZL"),c=function(){function t(t){this.pixelRatio=1,this.width=0,this.height=0,this.isCache=!1;var e=(t||{}).pixelRatio||a.Konva.pixelRatio||function(){if(s)return s;var t=r.Util.createCanvasElement().getContext("2d");return s=(a.Konva._global.devicePixelRatio||1)/(t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1)}();this.pixelRatio=e,this._canvas=r.Util.createCanvasElement(),this._canvas.style.padding="0",this._canvas.style.margin="0",this._canvas.style.border="0",this._canvas.style.background="transparent",this._canvas.style.position="absolute",this._canvas.style.top="0",this._canvas.style.left="0"}return t.prototype.getContext=function(){return this.context},t.prototype.getPixelRatio=function(){return this.pixelRatio},t.prototype.setPixelRatio=function(t){var e=this.pixelRatio;this.pixelRatio=t,this.setSize(this.getWidth()/e,this.getHeight()/e)},t.prototype.setWidth=function(t){this.width=this._canvas.width=t*this.pixelRatio,this._canvas.style.width=t+"px";var e=this.pixelRatio;this.getContext()._context.scale(e,e)},t.prototype.setHeight=function(t){this.height=this._canvas.height=t*this.pixelRatio,this._canvas.style.height=t+"px";var e=this.pixelRatio;this.getContext()._context.scale(e,e)},t.prototype.getWidth=function(){return this.width},t.prototype.getHeight=function(){return this.height},t.prototype.setSize=function(t,e){this.setWidth(t),this.setHeight(e)},t.prototype.toDataURL=function(t,e){try{return this._canvas.toDataURL(t,e)}catch(i){try{return this._canvas.toDataURL()}catch(n){return r.Util.error("Unable to get data URL. "+n.message),""}}},t}();e.Canvas=c,l.Factory.addGetterSetter(c,"pixelRatio",void 0,h.getNumberValidator()),e.SceneCanvas=function(t){function e(e){void 0===e&&(e={width:0,height:0});var i=t.call(this,e)||this;return i.context=new o.SceneContext(i),i.setSize(e.width,e.height),i}return n(e,t),e}(c),e.HitCanvas=function(t){function e(e){void 0===e&&(e={width:0,height:0});var i=t.call(this,e)||this;return i.hitCanvas=!0,i.context=new o.HitContext(i),i.setSize(e.width,e.height),i}return n(e,t),e}(c)},"9wk+":function(t,e,i){var n=i("mrSG").__extends;Object.defineProperty(e,"__esModule",{value:!0});var s=i("nLhi"),r=i("8LQ0"),o=i("/OYL"),a=i("RUZL"),l=i("13ei"),h=function(t){function e(e){var i=t.call(this,e)||this;return i.on("pointsChange.konva tensionChange.konva closedChange.konva bezierChange.konva",function(){this._clearCache("tensionPoints")}),i}return n(e,t),e.prototype._sceneFunc=function(t){var e,i,n,s=this.points(),r=s.length,o=this.tension(),a=this.closed(),l=this.bezier();if(r){if(t.beginPath(),t.moveTo(s[0],s[1]),0!==o&&r>4){for(i=(e=this.getTensionPoints()).length,n=a?0:4,a||t.quadraticCurveTo(e[0],e[1],e[2],e[3]);n<i-2;)t.bezierCurveTo(e[n++],e[n++],e[n++],e[n++],e[n++],e[n++]);a||t.quadraticCurveTo(e[i-2],e[i-1],s[r-2],s[r-1])}else if(l)for(n=2;n<r;)t.bezierCurveTo(s[n++],s[n++],s[n++],s[n++],s[n++],s[n++]);else for(n=2;n<r;n+=2)t.lineTo(s[n],s[n+1]);a?(t.closePath(),t.fillStrokeShape(this)):t.strokeShape(this)}},e.prototype.getTensionPoints=function(){return this._getCache("tensionPoints",this._getTensionPoints)},e.prototype._getTensionPoints=function(){return this.closed()?this._getTensionPointsClosed():s.Util._expandPoints(this.points(),this.tension())},e.prototype._getTensionPointsClosed=function(){var t=this.points(),e=t.length,i=this.tension(),n=s.Util._getControlPoints(t[e-2],t[e-1],t[0],t[1],t[2],t[3],i),r=s.Util._getControlPoints(t[e-4],t[e-3],t[e-2],t[e-1],t[0],t[1],i),o=s.Util._expandPoints(t,i);return[n[2],n[3]].concat(o).concat([r[0],r[1],t[e-2],t[e-1],r[2],r[3],n[0],n[1],t[0],t[1]])},e.prototype.getWidth=function(){return this.getSelfRect().width},e.prototype.getHeight=function(){return this.getSelfRect().height},e.prototype.getSelfRect=function(){for(var t,e,i,n=(t=0!==this.tension()?this._getTensionPoints():this.points())[0],s=t[0],r=t[1],o=t[1],a=0;a<t.length/2;a++)e=t[2*a],i=t[2*a+1],n=Math.min(n,e),s=Math.max(s,e),r=Math.min(r,i),o=Math.max(o,i);return{x:Math.round(n),y:Math.round(r),width:Math.round(s-n),height:Math.round(o-r)}},e}(o.Shape);e.Line=h,h.prototype.className="Line",h.prototype._attrsAffectingSize=["points","bezier","tension"],l._registerNode(h),r.Factory.addGetterSetter(h,"closed",!1),r.Factory.addGetterSetter(h,"bezier",!1),r.Factory.addGetterSetter(h,"tension",0,a.getNumberValidator()),r.Factory.addGetterSetter(h,"points",[],a.getNumberArrayValidator()),s.Collection.mapMethods(h)},Azqq:function(t,e,i){"use strict";i.d(e,"a",function(){return a}),i.d(e,"b",function(){return p});var n=i("8Y7J"),s=(i("JjoW"),i("SVse")),r=i("QQfA"),o=i("IP0z"),a=(i("POq0"),i("zMNK"),i("/HVE"),i("hOhj"),i("Xd0L"),i("cUpR"),i("HsOI"),i("s7LF"),i("5GAg"),n.sb({encapsulation:2,styles:[".mat-select{display:inline-block;width:100%;outline:0}.mat-select-trigger{display:inline-table;cursor:pointer;position:relative;box-sizing:border-box}.mat-select-disabled .mat-select-trigger{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.mat-select-value{display:table-cell;max-width:0;width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-select-arrow-wrapper{display:table-cell;vertical-align:middle}.mat-form-field-appearance-fill .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-outline .mat-select-arrow-wrapper{transform:translateY(-25%)}.mat-form-field-appearance-standard.mat-form-field-has-label .mat-select:not(.mat-select-empty) .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:transform .4s cubic-bezier(.25,.8,.25,1)}._mat-animation-noopable.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:none}.mat-select-arrow{width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;margin:0 4px}.mat-select-panel-wrap{flex-basis:100%}.mat-select-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;padding-top:0;padding-bottom:0;max-height:256px;min-width:100%;border-radius:4px}@media (-ms-high-contrast:active){.mat-select-panel{outline:solid 1px}}.mat-select-panel .mat-optgroup-label,.mat-select-panel .mat-option{font-size:inherit;line-height:3em;height:3em}.mat-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-form-field-flex{cursor:pointer}.mat-form-field-type-mat-select .mat-form-field-label{width:calc(100% - 18px)}.mat-select-placeholder{transition:color .4s .133s cubic-bezier(.25,.8,.25,1)}._mat-animation-noopable .mat-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-select-placeholder{color:transparent;-webkit-text-fill-color:transparent;transition:none;display:block}"],data:{animation:[{type:7,name:"transformPanelWrap",definitions:[{type:1,expr:"* => void",animation:{type:11,selector:"@transformPanel",animation:[{type:9,options:null}],options:{optional:!0}},options:null}],options:{}},{type:7,name:"transformPanel",definitions:[{type:0,name:"void",styles:{type:6,styles:{transform:"scaleY(0.8)",minWidth:"100%",opacity:0},offset:null},options:void 0},{type:0,name:"showing",styles:{type:6,styles:{opacity:1,minWidth:"calc(100% + 32px)",transform:"scaleY(1)"},offset:null},options:void 0},{type:0,name:"showing-multiple",styles:{type:6,styles:{opacity:1,minWidth:"calc(100% + 64px)",transform:"scaleY(1)"},offset:null},options:void 0},{type:1,expr:"void => *",animation:{type:4,styles:null,timings:"120ms cubic-bezier(0, 0, 0.2, 1)"},options:null},{type:1,expr:"* => void",animation:{type:4,styles:{type:6,styles:{opacity:0},offset:null},timings:"100ms 25ms linear"},options:null}],options:{}}]}}));function l(t){return n.Qb(0,[(t()(),n.ub(0,0,null,null,1,"span",[["class","mat-select-placeholder"]],null,null,null,null,null)),(t()(),n.Ob(1,null,["",""]))],null,function(t,e){t(e,1,0,e.component.placeholder||"\xa0")})}function h(t){return n.Qb(0,[(t()(),n.ub(0,0,null,null,1,"span",[],null,null,null,null,null)),(t()(),n.Ob(1,null,["",""]))],null,function(t,e){t(e,1,0,e.component.triggerValue||"\xa0")})}function c(t){return n.Qb(0,[n.Fb(null,0),(t()(),n.jb(0,null,null,0))],null,null)}function u(t){return n.Qb(0,[(t()(),n.ub(0,0,null,null,5,"span",[["class","mat-select-value-text"]],null,null,null,null,null)),n.tb(1,16384,null,0,s.n,[],{ngSwitch:[0,"ngSwitch"]},null),(t()(),n.jb(16777216,null,null,1,null,h)),n.tb(3,16384,null,0,s.p,[n.P,n.M,s.n],null,null),(t()(),n.jb(16777216,null,null,1,null,c)),n.tb(5,278528,null,0,s.o,[n.P,n.M,s.n],{ngSwitchCase:[0,"ngSwitchCase"]},null)],function(t,e){t(e,1,0,!!e.component.customTrigger),t(e,5,0,!0)},null)}function d(t){return n.Qb(0,[(t()(),n.ub(0,0,null,null,4,"div",[["class","mat-select-panel-wrap"]],[[24,"@transformPanelWrap",0]],null,null,null,null)),(t()(),n.ub(1,0,[[2,0],["panel",1]],null,3,"div",[],[[24,"@transformPanel",0],[4,"transformOrigin",null],[4,"font-size","px"]],[[null,"@transformPanel.done"],[null,"keydown"]],function(t,e,i){var n=!0,s=t.component;return"@transformPanel.done"===e&&(n=!1!==s._panelDoneAnimatingStream.next(i.toState)&&n),"keydown"===e&&(n=!1!==s._handleKeydown(i)&&n),n},null,null)),n.Lb(512,null,s.v,s.w,[n.r,n.s,n.k,n.D]),n.tb(3,278528,null,0,s.i,[s.v],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),n.Fb(null,1)],function(t,e){var i=e.component;t(e,3,0,n.yb(1,"mat-select-panel ",i._getPanelTheme(),""),i.panelClass)},function(t,e){var i=e.component;t(e,0,0,void 0),t(e,1,0,i.multiple?"showing-multiple":"showing",i._transformOrigin,i._triggerFontSize)})}function p(t){return n.Qb(2,[n.Mb(671088640,1,{trigger:0}),n.Mb(671088640,2,{panel:0}),n.Mb(671088640,3,{overlayDir:0}),(t()(),n.ub(3,0,[[1,0],["trigger",1]],null,9,"div",[["aria-hidden","true"],["cdk-overlay-origin",""],["class","mat-select-trigger"]],null,[[null,"click"]],function(t,e,i){var n=!0;return"click"===e&&(n=!1!==t.component.toggle()&&n),n},null,null)),n.tb(4,16384,[["origin",4]],0,r.b,[n.k],null,null),(t()(),n.ub(5,0,null,null,5,"div",[["class","mat-select-value"]],null,null,null,null,null)),n.tb(6,16384,null,0,s.n,[],{ngSwitch:[0,"ngSwitch"]},null),(t()(),n.jb(16777216,null,null,1,null,l)),n.tb(8,278528,null,0,s.o,[n.P,n.M,s.n],{ngSwitchCase:[0,"ngSwitchCase"]},null),(t()(),n.jb(16777216,null,null,1,null,u)),n.tb(10,278528,null,0,s.o,[n.P,n.M,s.n],{ngSwitchCase:[0,"ngSwitchCase"]},null),(t()(),n.ub(11,0,null,null,1,"div",[["class","mat-select-arrow-wrapper"]],null,null,null,null,null)),(t()(),n.ub(12,0,null,null,0,"div",[["class","mat-select-arrow"]],null,null,null,null,null)),(t()(),n.jb(16777216,null,null,1,function(t,e,i){var n=!0,s=t.component;return"backdropClick"===e&&(n=!1!==s.close()&&n),"attach"===e&&(n=!1!==s._onAttached()&&n),"detach"===e&&(n=!1!==s.close()&&n),n},d)),n.tb(14,671744,[[3,4]],0,r.a,[r.c,n.M,n.P,r.j,[2,o.b]],{origin:[0,"origin"],positions:[1,"positions"],offsetY:[2,"offsetY"],minWidth:[3,"minWidth"],backdropClass:[4,"backdropClass"],scrollStrategy:[5,"scrollStrategy"],open:[6,"open"],hasBackdrop:[7,"hasBackdrop"],lockPosition:[8,"lockPosition"]},{backdropClick:"backdropClick",attach:"attach",detach:"detach"})],function(t,e){var i=e.component;t(e,6,0,i.empty),t(e,8,0,!0),t(e,10,0,!1),t(e,14,0,n.Gb(e,4),i._positions,i._offsetY,null==i._triggerRect?null:i._triggerRect.width,"cdk-overlay-transparent-backdrop",i._scrollStrategy,i.panelOpen,"","")},null)}},BkKC:function(t,e,i){"use strict";i.d(e,"a",function(){return s});var n=i("8Y7J");let s=(()=>{class t{constructor(){}getEnding(t,e,i=[2,0,1,1,1,2]){return e[t%100>4&&t%100<20?2:i[t%10<5?t%10:5]]}}return t.ngInjectableDef=n.Ub({factory:function(){return new t},token:t,providedIn:"root"}),t})()},Bvic:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i("nLhi"),s=i("7T3k"),r=i("SXH2"),o=i("13ei"),a={node:1,duration:1,easing:1,onFinish:1,yoyo:1},l=0,h=["fill","stroke","shadowColor"],c=function(){function t(t,e,i,n,s,r,o){this.prop=t,this.propFunc=e,this.begin=n,this._pos=n,this.duration=r,this._change=0,this.prevPos=0,this.yoyo=o,this._time=0,this._position=0,this._startTime=0,this._finish=0,this.func=i,this._change=s-this.begin,this.pause()}return t.prototype.fire=function(t){var e=this[t];e&&e()},t.prototype.setTime=function(t){t>this.duration?this.yoyo?(this._time=this.duration,this.reverse()):this.finish():t<0?this.yoyo?(this._time=0,this.play()):this.reset():(this._time=t,this.update())},t.prototype.getTime=function(){return this._time},t.prototype.setPosition=function(t){this.prevPos=this._pos,this.propFunc(t),this._pos=t},t.prototype.getPosition=function(t){return void 0===t&&(t=this._time),this.func(t,this.begin,this._change,this.duration)},t.prototype.play=function(){this.state=2,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onPlay")},t.prototype.reverse=function(){this.state=3,this._time=this.duration-this._time,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onReverse")},t.prototype.seek=function(t){this.pause(),this._time=t,this.update(),this.fire("onSeek")},t.prototype.reset=function(){this.pause(),this._time=0,this.update(),this.fire("onReset")},t.prototype.finish=function(){this.pause(),this._time=this.duration,this.update(),this.fire("onFinish")},t.prototype.update=function(){this.setPosition(this.getPosition(this._time))},t.prototype.onEnterFrame=function(){var t=this.getTimer()-this._startTime;2===this.state?this.setTime(t):3===this.state&&this.setTime(this.duration-t)},t.prototype.pause=function(){this.state=1,this.fire("onPause")},t.prototype.getTimer=function(){return(new Date).getTime()},t}(),u=function(){function t(i){var r,h,u=this,d=i.node,p=d._id,f=i.easing||e.Easings.Linear,g=!!i.yoyo;r=void 0===i.duration?.3:0===i.duration?.001:i.duration,this.node=d,this._id=l++;var _=d.getLayer()||(d instanceof o.Konva.Stage?d.getLayers():null);for(h in _||n.Util.error("Tween constructor have `node` that is not in a layer. Please add node into layer first."),this.anim=new s.Animation(function(){u.tween.onEnterFrame()},_),this.tween=new c(h,function(t){u._tweenFunc(t)},f,0,1,1e3*r,g),this._addListeners(),t.attrs[p]||(t.attrs[p]={}),t.attrs[p][this._id]||(t.attrs[p][this._id]={}),t.tweens[p]||(t.tweens[p]={}),i)void 0===a[h]&&this._addAttr(h,i[h]);this.reset(),this.onFinish=i.onFinish,this.onReset=i.onReset}return t.prototype._addAttr=function(e,i){var s,r,o,a,l,c,u,d,p=this.node,f=p._id;if((o=t.tweens[f][e])&&delete t.attrs[f][o][e],s=p.getAttr(e),n.Util._isArray(i))if(r=[],l=Math.max(i.length,s.length),"points"===e&&i.length!==s.length&&(i.length>s.length?(u=s,s=n.Util._prepareArrayForTween(s,i,p.closed())):(c=i,i=n.Util._prepareArrayForTween(i,s,p.closed()))),0===e.indexOf("fill"))for(a=0;a<l;a++)if(a%2==0)r.push(i[a]-s[a]);else{var g=n.Util.colorToRGBA(s[a]);d=n.Util.colorToRGBA(i[a]),s[a]=g,r.push({r:d.r-g.r,g:d.g-g.g,b:d.b-g.b,a:d.a-g.a})}else for(a=0;a<l;a++)r.push(i[a]-s[a]);else-1!==h.indexOf(e)?(s=n.Util.colorToRGBA(s),r={r:(d=n.Util.colorToRGBA(i)).r-s.r,g:d.g-s.g,b:d.b-s.b,a:d.a-s.a}):r=i-s;t.attrs[f][this._id][e]={start:s,diff:r,end:i,trueEnd:c,trueStart:u},t.tweens[f][e]=this._id},t.prototype._tweenFunc=function(e){var i,s,r,o,a,l,c,u,d=this.node,p=t.attrs[d._id][this._id];for(i in p){if(o=(s=p[i]).diff,u=s.end,n.Util._isArray(r=s.start))if(a=[],c=Math.max(r.length,u.length),0===i.indexOf("fill"))for(l=0;l<c;l++)a.push(l%2==0?(r[l]||0)+o[l]*e:"rgba("+Math.round(r[l].r+o[l].r*e)+","+Math.round(r[l].g+o[l].g*e)+","+Math.round(r[l].b+o[l].b*e)+","+(r[l].a+o[l].a*e)+")");else for(l=0;l<c;l++)a.push((r[l]||0)+o[l]*e);else a=-1!==h.indexOf(i)?"rgba("+Math.round(r.r+o.r*e)+","+Math.round(r.g+o.g*e)+","+Math.round(r.b+o.b*e)+","+(r.a+o.a*e)+")":r+o*e;d.setAttr(i,a)}},t.prototype._addListeners=function(){var e=this;this.tween.onPlay=function(){e.anim.start()},this.tween.onReverse=function(){e.anim.start()},this.tween.onPause=function(){e.anim.stop()},this.tween.onFinish=function(){var i=e.node,n=t.attrs[i._id][e._id];n.points&&n.points.trueEnd&&i.setAttr("points",n.points.trueEnd),e.onFinish&&e.onFinish.call(e)},this.tween.onReset=function(){var i=e.node,n=t.attrs[i._id][e._id];n.points&&n.points.trueStart&&i.points(n.points.trueStart),e.onReset&&e.onReset()}},t.prototype.play=function(){return this.tween.play(),this},t.prototype.reverse=function(){return this.tween.reverse(),this},t.prototype.reset=function(){return this.tween.reset(),this},t.prototype.seek=function(t){return this.tween.seek(1e3*t),this},t.prototype.pause=function(){return this.tween.pause(),this},t.prototype.finish=function(){return this.tween.finish(),this},t.prototype.destroy=function(){var e,i=this.node._id,n=this._id,s=t.tweens[i];for(e in this.pause(),s)delete t.tweens[i][e];delete t.attrs[i][n]},t.attrs={},t.tweens={},t}();e.Tween=u,r.Node.prototype.to=function(t){var e=t.onFinish;t.node=this,t.onFinish=function(){this.destroy(),e&&e()},new u(t).play()},e.Easings={BackEaseIn:function(t,e,i,n){var s=1.70158;return i*(t/=n)*t*((s+1)*t-s)+e},BackEaseOut:function(t,e,i,n){var s=1.70158;return i*((t=t/n-1)*t*((s+1)*t+s)+1)+e},BackEaseInOut:function(t,e,i,n){var s=1.70158;return(t/=n/2)<1?i/2*(t*t*((1+(s*=1.525))*t-s))+e:i/2*((t-=2)*t*((1+(s*=1.525))*t+s)+2)+e},ElasticEaseIn:function(t,e,i,n,s,r){var o=0;return 0===t?e:1==(t/=n)?e+i:(r||(r=.3*n),!s||s<Math.abs(i)?(s=i,o=r/4):o=r/(2*Math.PI)*Math.asin(i/s),-s*Math.pow(2,10*(t-=1))*Math.sin((t*n-o)*(2*Math.PI)/r)+e)},ElasticEaseOut:function(t,e,i,n,s,r){var o=0;return 0===t?e:1==(t/=n)?e+i:(r||(r=.3*n),!s||s<Math.abs(i)?(s=i,o=r/4):o=r/(2*Math.PI)*Math.asin(i/s),s*Math.pow(2,-10*t)*Math.sin((t*n-o)*(2*Math.PI)/r)+i+e)},ElasticEaseInOut:function(t,e,i,n,s,r){var o=0;return 0===t?e:2==(t/=n/2)?e+i:(r||(r=n*(.3*1.5)),!s||s<Math.abs(i)?(s=i,o=r/4):o=r/(2*Math.PI)*Math.asin(i/s),t<1?s*Math.pow(2,10*(t-=1))*Math.sin((t*n-o)*(2*Math.PI)/r)*-.5+e:s*Math.pow(2,-10*(t-=1))*Math.sin((t*n-o)*(2*Math.PI)/r)*.5+i+e)},BounceEaseOut:function(t,e,i,n){return(t/=n)<1/2.75?i*(7.5625*t*t)+e:t<2/2.75?i*(7.5625*(t-=1.5/2.75)*t+.75)+e:t<2.5/2.75?i*(7.5625*(t-=2.25/2.75)*t+.9375)+e:i*(7.5625*(t-=2.625/2.75)*t+.984375)+e},BounceEaseIn:function(t,i,n,s){return n-e.Easings.BounceEaseOut(s-t,0,n,s)+i},BounceEaseInOut:function(t,i,n,s){return t<s/2?.5*e.Easings.BounceEaseIn(2*t,0,n,s)+i:.5*e.Easings.BounceEaseOut(2*t-s,0,n,s)+.5*n+i},EaseIn:function(t,e,i,n){return i*(t/=n)*t+e},EaseOut:function(t,e,i,n){return-i*(t/=n)*(t-2)+e},EaseInOut:function(t,e,i,n){return(t/=n/2)<1?i/2*t*t+e:-i/2*(--t*(t-2)-1)+e},StrongEaseIn:function(t,e,i,n){return i*(t/=n)*t*t*t*t+e},StrongEaseOut:function(t,e,i,n){return i*((t=t/n-1)*t*t*t*t+1)+e},StrongEaseInOut:function(t,e,i,n){return(t/=n/2)<1?i/2*t*t*t*t*t+e:i/2*((t-=2)*t*t*t*t+2)+e},Linear:function(t,e,i,n){return i*t/n+e}}},"D/Vs":function(t,e,i){var n=i("mrSG").__extends;Object.defineProperty(e,"__esModule",{value:!0});var s=i("nLhi"),r=i("6mFz"),o=i("8LQ0"),a=i("1q+a"),l=i("9lVk"),h=i("/OYL"),c=i("RUZL"),u=i("13ei"),d=[{x:0,y:0},{x:-1,y:-1},{x:1,y:-1},{x:1,y:1},{x:-1,y:1}],p=d.length,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.hitCanvas=new l.HitCanvas({pixelRatio:1}),e}return n(e,t),e.prototype._setCanvasSize=function(t,e){this.canvas.setSize(t,e),this.hitCanvas.setSize(t,e),this._checkSmooth()},e.prototype._validateAdd=function(t){var e=t.getType();"Group"!==e&&"Shape"!==e&&s.Util.throw("You may only add groups and shapes to a layer.")},e.prototype.getIntersection=function(t,e){var i,n,s,r;if(!this.hitGraphEnabled()||!this.isVisible())return null;for(var o=1,a=!1;;){for(n=0;n<p;n++){if((r=(i=this._getIntersection({x:t.x+(s=d[n]).x*o,y:t.y+s.y*o})).shape)&&e)return r.findAncestor(e,!0);if(r)return r;if(a=!!i.antialiased,!i.antialiased)break}if(!a)return null;o+=1}},e.prototype._getIntersection=function(t){var e,i,n=this.hitCanvas.pixelRatio,r=this.hitCanvas.context.getImageData(Math.round(t.x*n),Math.round(t.y*n),1,1).data,o=r[3];return 255===o?(e=s.Util._rgbToHex(r[0],r[1],r[2]),(i=h.shapes["#"+e])?{shape:i}:{antialiased:!0}):o>0?{antialiased:!0}:{}},e.prototype.drawScene=function(t,e){var i=this.getLayer(),n=t||i&&i.getCanvas();return this._fire("beforeDraw",{node:this}),this.clearBeforeDraw()&&n.getContext().clear(),r.Container.prototype.drawScene.call(this,n,e),this._fire("draw",{node:this}),this},e.prototype.drawHit=function(t,e){var i=this.getLayer(),n=t||i&&i.hitCanvas;return i&&i.clearBeforeDraw()&&i.getHitCanvas().getContext().clear(),r.Container.prototype.drawHit.call(this,n,e),this},e.prototype.clear=function(t){return a.BaseLayer.prototype.clear.call(this,t),this.getHitCanvas().getContext().clear(t),this},e.prototype.enableHitGraph=function(){return this.hitGraphEnabled(!0),this},e.prototype.disableHitGraph=function(){return this.hitGraphEnabled(!1),this},e.prototype.toggleHitCanvas=function(){if(this.parent){var t=this.parent;this.hitCanvas._canvas.parentNode?t.content.removeChild(this.hitCanvas._canvas):t.content.appendChild(this.hitCanvas._canvas)}},e.prototype.setSize=function(e){var i=e.width,n=e.height;return t.prototype.setSize.call(this,{width:i,height:n}),this.hitCanvas.setSize(i,n),this},e}(a.BaseLayer);e.Layer=f,f.prototype.nodeType="Layer",u._registerNode(f),o.Factory.addGetterSetter(f,"hitGraphEnabled",!0,c.getBooleanValidator()),s.Collection.mapMethods(f)},DnKK:function(t,e,i){"use strict";i.d(e,"a",function(){return o});var n=i("XNiG"),s=i("1G5W");function r(t){return"function"==typeof t}const o=(t,e="ngOnDestroy")=>i=>{const o=t[e];if(!1===r(o))throw new Error(`${t.constructor.name} is using untilDestroyed but doesn't implement ${e}`);return t.__takeUntilDestroy||(t.__takeUntilDestroy=new n.a,t[e]=function(){r(o)&&o.apply(this,arguments),t.__takeUntilDestroy.next(!0),t.__takeUntilDestroy.complete()}),i.pipe(Object(s.a)(t.__takeUntilDestroy))}},EL1w:function(t,e,i){"use strict";i.d(e,"a",function(){return s});var n=i("IY7X");i("RNJk"),i("xjD+");class s{constructor(t,e,i,n){this._matDialogRef=t,this._notificationS=e,this._reservationS=i,this.model=n,this.tables$=this._reservationS.tables$}ngOnInit(){this.selectedTable=this.model}onPreview(t){t.status!==n.a.BLOCKED&&t._numGuestsEnabled?this.selectedTable=t:this._notificationS.open({title:t._numGuestsEnabled?"\u0421\u0442\u043e\u043b\u0438\u043a \u0437\u0430\u043d\u044f\u0442":"\u0421\u0442\u043e\u043b\u0438\u043a \u043d\u0435 \u043c\u043e\u0436\u0435\u0442 \u0432\u043c\u0435\u0441\u0442\u0438\u0442\u044c \u0441\u0442\u043e\u043b\u044c\u043a\u043e \u0447\u0435\u043b\u043e\u0432\u0435\u043a"})}}},"Ei/z":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i("8LQ0"),s=i("SXH2"),r=i("RUZL");e.Threshold=function(t){var e,i=255*this.threshold(),n=t.data,s=n.length;for(e=0;e<s;e+=1)n[e]=n[e]<i?0:255},n.Factory.addGetterSetter(s.Node,"threshold",.5,r.getNumberValidator(),n.Factory.afterSetFilter)},F6aZ:function(t,e,i){"use strict";i.d(e,"a",function(){return n});class n{}},"G9h+":function(t,e,i){var n=i("mrSG").__extends;Object.defineProperty(e,"__esModule",{value:!0});var s=i("nLhi"),r=i("8LQ0"),o=i("9wk+"),a=i("RUZL"),l=i("13ei"),h=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype._sceneFunc=function(e){t.prototype._sceneFunc.call(this,e);var i=2*Math.PI,n=this.points(),s=n,r=0!==this.tension()&&n.length>4;r&&(s=this.getTensionPoints());var o,a,l=n.length;r?(o=n[l-2]-(s[s.length-2]+s[s.length-4])/2,a=n[l-1]-(s[s.length-1]+s[s.length-3])/2):(o=n[l-2]-n[l-4],a=n[l-1]-n[l-3]);var h=(Math.atan2(a,o)+i)%i,c=this.pointerLength(),u=this.pointerWidth();e.save(),e.beginPath(),e.translate(n[l-2],n[l-1]),e.rotate(h),e.moveTo(0,0),e.lineTo(-c,u/2),e.lineTo(-c,-u/2),e.closePath(),e.restore(),this.pointerAtBeginning()&&(e.save(),e.translate(n[0],n[1]),r?(o=(s[0]+s[2])/2-n[0],a=(s[1]+s[3])/2-n[1]):(o=n[2]-n[0],a=n[3]-n[1]),e.rotate((Math.atan2(-a,-o)+i)%i),e.moveTo(0,0),e.lineTo(-c,u/2),e.lineTo(-c,-u/2),e.closePath(),e.restore());var d=this.dashEnabled();d&&(this.attrs.dashEnabled=!1,e.setLineDash([])),e.fillStrokeShape(this),d&&(this.attrs.dashEnabled=!0)},e}(o.Line);e.Arrow=h,h.prototype.className="Arrow",l._registerNode(h),r.Factory.addGetterSetter(h,"pointerLength",10,a.getNumberValidator()),r.Factory.addGetterSetter(h,"pointerWidth",10,a.getNumberValidator()),r.Factory.addGetterSetter(h,"pointerAtBeginning",!1),s.Collection.mapMethods(h)},HABd:function(t,e,i){"use strict";i.d(e,"a",function(){return n});class n{}},HEmn:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i("8LQ0"),s=i("SXH2"),r=i("nLhi"),o=i("RUZL");e.Kaleidoscope=function(t){var e,i,n,s,o,a,l,h,c,u=t.width,d=t.height,p=Math.round(this.kaleidoscopePower()),f=Math.round(this.kaleidoscopeAngle()),g=Math.floor(u*(f%360)/360);if(!(p<1)){var _=r.Util.createCanvasElement();_.width=u,_.height=d;var m=_.getContext("2d").getImageData(0,0,u,d);!function(e,i,n){var s,r,o,a,l=t.data,h=m.data,c=t.width,u=t.height,d=n.polarCenterX||c/2,p=n.polarCenterY||u/2,f=0,g=0,_=0,b=0,v=Math.sqrt(d*d+p*p);r=c-d,o=u-p,v=(a=Math.sqrt(r*r+o*o))>v?a:v;var y,w,S,x,C=u,k=c,O=360/k*Math.PI/180;for(w=0;w<k;w+=1)for(S=Math.sin(w*O),x=Math.cos(w*O),y=0;y<C;y+=1)r=Math.floor(d+v*y/C*x),f=l[0+(s=4*((o=Math.floor(p+v*y/C*S))*c+r))],g=l[s+1],_=l[s+2],b=l[s+3],h[0+(s=4*(w+y*c))]=f,h[s+1]=g,h[s+2]=_,h[s+3]=b}(0,0,{polarCenterX:u/2,polarCenterY:d/2});for(var b=u/Math.pow(2,p);b<=8;)b*=2,p-=1;var v=b=Math.ceil(b),y=0,w=v,S=1;for(g+b>u&&(y=v,w=0,S=-1),i=0;i<d;i+=1)for(e=y;e!==w;e+=S)n=Math.round(e+g)%u,o=m.data[1+(h=4*(u*i+n))],a=m.data[h+2],l=m.data[h+3],m.data[0+(c=4*(u*i+e))]=m.data[h+0],m.data[c+1]=o,m.data[c+2]=a,m.data[c+3]=l;for(i=0;i<d;i+=1)for(v=Math.floor(b),s=0;s<p;s+=1){for(e=0;e<v+1;e+=1)o=m.data[1+(h=4*(u*i+e))],a=m.data[h+2],l=m.data[h+3],m.data[0+(c=4*(u*i+2*v-e-1))]=m.data[h+0],m.data[c+1]=o,m.data[c+2]=a,m.data[c+3]=l;v*=2}!function(e,i,n){var s,r,o,a,l,h,c=m.data,u=t.data,d=m.width,p=m.height,f=n.polarCenterX||d/2,g=n.polarCenterY||p/2,_=0,b=0,v=0,y=0,w=Math.sqrt(f*f+g*g);r=d-f,o=p-g,w=(h=Math.sqrt(r*r+o*o))>w?h:w;var S,x,C,k=p,O=d,P=n.polarRotation||0;for(r=0;r<d;r+=1)for(o=0;o<p;o+=1)a=r-f,l=o-g,S=Math.sqrt(a*a+l*l)*k/w,x=(x=(180*Math.atan2(l,a)/Math.PI+360+P)%360)*O/360,C=Math.floor(x),_=c[0+(s=4*(Math.floor(S)*d+C))],b=c[s+1],v=c[s+2],y=c[s+3],u[0+(s=4*(o*d+r))]=_,u[s+1]=b,u[s+2]=v,u[s+3]=y}(0,0,{polarRotation:0})}},n.Factory.addGetterSetter(s.Node,"kaleidoscopePower",2,o.getNumberValidator(),n.Factory.afterSetFilter),n.Factory.addGetterSetter(s.Node,"kaleidoscopeAngle",0,o.getNumberValidator(),n.Factory.afterSetFilter)},HsOI:function(t,e,i){"use strict";i.d(e,"d",function(){return S}),i.d(e,"a",function(){return y}),i.d(e,"b",function(){return w}),i.d(e,"c",function(){return d}),i.d(e,"e",function(){return f});var n=i("8Y7J"),s=(i("GS7A"),i("KCVW")),r=i("Xd0L"),o=i("XNiG"),a=i("VRyK"),l=i("xgIS"),h=i("JX91"),c=i("1G5W"),u=i("IzEk");class d{}function p(t){return Error(`A hint was already declared for 'align="${t}"'.`)}class f{}let g=0;const _=.75,m=5;class b{constructor(t){this._elementRef=t}}const v=Object(r.x)(b,"primary"),y=new n.p("MAT_FORM_FIELD_DEFAULT_OPTIONS");class w extends v{constructor(t,e,i,n,s,r,a,l){super(t),this._elementRef=t,this._changeDetectorRef=e,this._dir=n,this._defaults=s,this._platform=r,this._ngZone=a,this._outlineGapCalculationNeededImmediately=!1,this._outlineGapCalculationNeededOnStable=!1,this._destroyed=new o.a,this._showAlwaysAnimate=!1,this._subscriptAnimationState="",this._hintLabel="",this._hintLabelId=`mat-hint-${g++}`,this._labelId=`mat-form-field-label-${g++}`,this._labelOptions=i||{},this.floatLabel=this._labelOptions.float||"auto",this._animationsEnabled="NoopAnimations"!==l,this.appearance=s&&s.appearance?s.appearance:"legacy"}get appearance(){return this._appearance}set appearance(t){const e=this._appearance;this._appearance=t||this._defaults&&this._defaults.appearance||"legacy","outline"===this._appearance&&e!==t&&(this._outlineGapCalculationNeededOnStable=!0)}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(t){this._hideRequiredMarker=Object(s.b)(t)}get _shouldAlwaysFloat(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}get _canLabelFloat(){return"never"!==this.floatLabel}get hintLabel(){return this._hintLabel}set hintLabel(t){this._hintLabel=t,this._processHints()}get floatLabel(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel}set floatLabel(t){t!==this._floatLabel&&(this._floatLabel=t||this._labelOptions.float||"auto",this._changeDetectorRef.markForCheck())}get _control(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic}set _control(t){this._explicitFormFieldControl=t}get _labelChild(){return this._labelChildNonStatic||this._labelChildStatic}getConnectedOverlayOrigin(){return this._connectionContainerRef||this._elementRef}ngAfterContentInit(){this._validateControlChild();const t=this._control;t.controlType&&this._elementRef.nativeElement.classList.add(`mat-form-field-type-${t.controlType}`),t.stateChanges.pipe(Object(h.a)(null)).subscribe(()=>{this._validatePlaceholders(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),t.ngControl&&t.ngControl.valueChanges&&t.ngControl.valueChanges.pipe(Object(c.a)(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.asObservable().pipe(Object(c.a)(this._destroyed)).subscribe(()=>{this._outlineGapCalculationNeededOnStable&&this.updateOutlineGap()})}),Object(a.a)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._outlineGapCalculationNeededOnStable=!0,this._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe(Object(h.a)(null)).subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe(Object(h.a)(null)).subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe(Object(c.a)(this._destroyed)).subscribe(()=>this.updateOutlineGap())}ngAfterContentChecked(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}ngAfterViewInit(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_shouldForward(t){const e=this._control?this._control.ngControl:null;return e&&e[t]}_hasPlaceholder(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}_hasLabel(){return!!this._labelChild}_shouldLabelFloat(){return this._canLabelFloat&&(this._control.shouldLabelFloat||this._shouldAlwaysFloat)}_hideControlPlaceholder(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}_hasFloatingLabel(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_animateAndLockLabel(){this._hasFloatingLabel()&&this._canLabelFloat&&(this._animationsEnabled&&(this._showAlwaysAnimate=!0,Object(l.a)(this._label.nativeElement,"transitionend").pipe(Object(u.a)(1)).subscribe(()=>{this._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}_validatePlaceholders(){if(this._control.placeholder&&this._placeholderChild)throw Error("Placeholder attribute and child element were both specified.")}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){if(this._hintChildren){let t,e;this._hintChildren.forEach(i=>{if("start"===i.align){if(t||this.hintLabel)throw p("start");t=i}else if("end"===i.align){if(e)throw p("end");e=i}})}}_syncDescribedByIds(){if(this._control){let t=[];if("hint"===this._getDisplayedMessages()){const e=this._hintChildren?this._hintChildren.find(t=>"start"===t.align):null,i=this._hintChildren?this._hintChildren.find(t=>"end"===t.align):null;e?t.push(e.id):this._hintLabel&&t.push(this._hintLabelId),i&&t.push(i.id)}else this._errorChildren&&(t=this._errorChildren.map(t=>t.id));this._control.setDescribedByIds(t)}}_validateControlChild(){if(!this._control)throw Error("mat-form-field must contain a MatFormFieldControl.")}updateOutlineGap(){const t=this._label?this._label.nativeElement:null;if("outline"!==this.appearance||!t||!t.children.length||!t.textContent.trim())return;if(!this._platform.isBrowser)return;if(!document.documentElement.contains(this._elementRef.nativeElement))return void(this._outlineGapCalculationNeededImmediately=!0);let e=0,i=0;const n=this._connectionContainerRef.nativeElement,s=n.querySelectorAll(".mat-form-field-outline-start"),r=n.querySelectorAll(".mat-form-field-outline-gap");if(this._label&&this._label.nativeElement.children.length){const s=n.getBoundingClientRect();if(0===s.width&&0===s.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);const r=this._getStartEnd(s),o=this._getStartEnd(t.children[0].getBoundingClientRect());let a=0;for(const e of t.children)a+=e.offsetWidth;e=o-r-m,i=a>0?a*_+2*m:0}for(let o=0;o<s.length;o++)s.item(o).style.width=`${e}px`;for(let o=0;o<r.length;o++)r.item(o).style.width=`${i}px`;this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}_getStartEnd(t){return this._dir&&"rtl"===this._dir.value?t.right:t.left}}class S{}},HyF4:function(t,e,i){var n=i("mrSG").__extends;Object.defineProperty(e,"__esModule",{value:!0});var s=i("nLhi"),r=i("8LQ0"),o=i("/OYL"),a=i("RUZL"),l=i("13ei"),h=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype._sceneFunc=function(t){t.beginPath(),t.arc(0,0,this.radius(),0,2*Math.PI,!1),t.closePath(),t.fillStrokeShape(this)},e.prototype.getWidth=function(){return 2*this.radius()},e.prototype.getHeight=function(){return 2*this.radius()},e.prototype.setWidth=function(t){this.radius()!==t/2&&this.radius(t/2)},e.prototype.setHeight=function(t){this.radius()!==t/2&&this.radius(t/2)},e}(o.Shape);e.Circle=h,h.prototype._centroid=!0,h.prototype.className="Circle",h.prototype._attrsAffectingSize=["radius"],l._registerNode(h),r.Factory.addGetterSetter(h,"radius",0,a.getNumberValidator()),s.Collection.mapMethods(h)},IBMq:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i("8LQ0"),s=i("SXH2"),r=i("RUZL");e.Posterize=function(t){var e,i=Math.round(254*this.levels())+1,n=t.data,s=n.length,r=255/i;for(e=0;e<s;e+=1)n[e]=Math.floor(n[e]/r)*r},n.Factory.addGetterSetter(s.Node,"levels",.5,r.getNumberValidator(),n.Factory.afterSetFilter)},IP0z:function(t,e,i){"use strict";i.d(e,"b",function(){return o}),i.d(e,"a",function(){return a});var n=i("SVse"),s=i("8Y7J");const r=new s.p("cdk-dir-doc",{providedIn:"root",factory:function(){return Object(s.X)(n.d)}});let o=(()=>{class t{constructor(t){if(this.value="ltr",this.change=new s.m,t){const e=t.documentElement?t.documentElement.dir:null,i=(t.body?t.body.dir:null)||e;this.value="ltr"===i||"rtl"===i?i:"ltr"}}ngOnDestroy(){this.change.complete()}}return t.ngInjectableDef=Object(s.Ub)({factory:function(){return new t(Object(s.Vb)(r,8))},token:t,providedIn:"root"}),t})();class a{}},IY7X:function(t,e,i){"use strict";i.d(e,"a",function(){return n}),i.d(e,"b",function(){return s});var n=function(t){return t.BLOCKED="blocked",t.ACTIVE="selected",t.DEFAULT="available",t}({}),s=function(t){return t.SQUARE="square",t.ROUND="round",t.POLYGON="polygon",t}({})},IhAc:function(t,e,i){"use strict";var n=i("8Y7J"),s=i("SVse");i("s7LF"),i("+jxB"),i.d(e,"a",function(){return r}),i.d(e,"b",function(){return a});var r=n.sb({encapsulation:0,styles:[[".circle-selector[_ngcontent-%COMP%]{border-radius:100%;width:50px;height:50px;display:flex;justify-content:center;align-items:center;font-size:17px;line-height:1}.circle-selector.disabled[_ngcontent-%COMP%]{color:#8c8c8c;text-decoration:line-through}.circle-selector.selected[_ngcontent-%COMP%]{color:#fff;background-color:#000}"]],data:{}});function o(t){return n.Qb(0,[(t()(),n.ub(0,0,null,null,5,"div",[["class","col-3 d-flex align-items-center justify-content-center"]],null,[[null,"click"]],function(t,e,i){var n=!0;return"click"===e&&(n=!1!==t.component.updateValue(t.context.$implicit)&&n),n},null,null)),(t()(),n.ub(1,0,null,null,4,"span",[["class","circle-selector"]],null,null,null,null,null)),n.Lb(512,null,s.v,s.w,[n.r,n.s,n.k,n.D]),n.tb(3,278528,null,0,s.i,[s.v],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),n.Jb(4,{selected:0,disabled:1}),(t()(),n.Ob(5,null,["",""]))],function(t,e){var i=e.component,n=t(e,4,0,(null==i.state?null:i.state.value)===e.context.$implicit.value,e.context.$implicit.disabled);t(e,3,0,"circle-selector",n)},function(t,e){t(e,5,0,e.context.$implicit[e.component.titleField])})}function a(t){return n.Qb(0,[(t()(),n.ub(0,0,null,null,8,"div",[["class","pt-3 pb-3"]],null,null,null,null,null)),(t()(),n.ub(1,0,null,null,4,"div",[["class","d-flex justify-content-between align-items-center mb-1"]],null,null,null,null,null)),(t()(),n.ub(2,0,null,null,1,"div",[["class","caption-medium"]],null,null,null,null,null)),(t()(),n.Ob(3,null,["",""])),(t()(),n.ub(4,0,null,null,1,"div",[],null,null,null,null,null)),(t()(),n.Ob(5,null,["",""])),(t()(),n.ub(6,0,null,null,2,"div",[["class","row text-center"]],null,null,null,null,null)),(t()(),n.jb(16777216,null,null,1,null,o)),n.tb(8,278528,null,0,s.j,[n.P,n.M,n.r],{ngForOf:[0,"ngForOf"]},null)],function(t,e){t(e,8,0,e.component.options)},function(t,e){var i=e.component;t(e,3,0,i.title),t(e,5,0,null==i.state?null:i.state.title)})}},Ipqb:function(t,e,i){var n=i("mrSG").__extends;Object.defineProperty(e,"__esModule",{value:!0});var s=i("nLhi"),r=i("8LQ0"),o=i("/OYL"),a=i("RUZL"),l=i("13ei"),h=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype._useBufferCanvas=function(){return!(!this.hasShadow()&&1===this.getAbsoluteOpacity()||!this.hasStroke()||!this.getStage())},e.prototype._sceneFunc=function(t){var e,i,n,s=this.width(),r=this.height(),o=this.image();o&&(e=this.cropWidth(),i=this.cropHeight(),n=e&&i?[o,this.cropX(),this.cropY(),e,i,0,0,s,r]:[o,0,0,s,r]),(this.hasFill()||this.hasStroke())&&(t.beginPath(),t.rect(0,0,s,r),t.closePath(),t.fillStrokeShape(this)),o&&t.drawImage.apply(t,n)},e.prototype._hitFunc=function(t){var e=this.width(),i=this.height();t.beginPath(),t.rect(0,0,e,i),t.closePath(),t.fillStrokeShape(this)},e.prototype.getWidth=function(){var t=this.image();return this.attrs.width||(t?t.width:0)},e.prototype.getHeight=function(){var t=this.image();return this.attrs.height||(t?t.height:0)},e.fromURL=function(t,i){var n=s.Util.createImageElement();n.onload=function(){var t=new e({image:n});i(t)},n.crossOrigin="Anonymous",n.src=t},e}(o.Shape);e.Image=h,h.prototype.className="Image",l._registerNode(h),r.Factory.addGetterSetter(h,"image"),r.Factory.addComponentsGetterSetter(h,"crop",["x","y","width","height"]),r.Factory.addGetterSetter(h,"cropX",0,a.getNumberValidator()),r.Factory.addGetterSetter(h,"cropY",0,a.getNumberValidator()),r.Factory.addGetterSetter(h,"cropWidth",0,a.getNumberValidator()),r.Factory.addGetterSetter(h,"cropHeight",0,a.getNumberValidator()),s.Collection.mapMethods(h)},JeBq:function(t,e,i){"use strict";i.d(e,"a",function(){return s});var n=i("wd/R");class s{constructor(){}transform(t){return n().isSame(n(t),"day")?"\u0421\u0435\u0433\u043e\u0434\u043d\u044f &bull; ":n().add(1,"days").isSame(n(t),"day")?"\u0417\u0430\u0432\u0442\u0440\u0430 &bull; ":""}}},JjoW:function(t,e,i){"use strict";i.d(e,"d",function(){return A}),i.d(e,"b",function(){return P}),i.d(e,"a",function(){return O}),i.d(e,"c",function(){return M}),i("GS7A");var n=i("5GAg"),s=i("KCVW"),r=i("8bJo"),o=i("dvZr"),a=(i("QQfA"),i("8Y7J")),l=i("Xd0L"),h=i("XNiG"),c=i("NXyV"),u=i("VRyK"),d=i("JX91"),p=i("eIep"),f=i("IzEk"),g=i("pLZG"),_=i("lJxs"),m=i("/uUt"),b=i("1G5W");let v=0;const y=256,w=16,S=2*w,x=3;let C=0;const k=8,O=new a.p("mat-select-scroll-strategy");function P(t){return()=>t.scrollStrategies.reposition()}class E{constructor(t,e){this.source=t,this.value=e}}class T{constructor(t,e,i,n,s){this._elementRef=t,this._defaultErrorStateMatcher=e,this._parentForm=i,this._parentFormGroup=n,this.ngControl=s}}const R=Object(l.y)(Object(l.B)(Object(l.z)(Object(l.A)(T))));class M extends R{constructor(t,e,i,n,s,r,o,l,m,b,y,w,S){super(s,n,o,l,b),this._viewportRuler=t,this._changeDetectorRef=e,this._ngZone=i,this._dir=r,this._parentFormField=m,this.ngControl=b,this._liveAnnouncer=S,this._panelOpen=!1,this._required=!1,this._scrollTop=0,this._multiple=!1,this._compareWith=(t,e)=>t===e,this._uid=`mat-select-${v++}`,this._destroy=new h.a,this._triggerFontSize=0,this._onChange=()=>{},this._onTouched=()=>{},this._optionIds="",this._transformOrigin="top",this._panelDoneAnimatingStream=new h.a,this._offsetY=0,this._positions=[{originX:"start",originY:"top",overlayX:"start",overlayY:"top"},{originX:"start",originY:"bottom",overlayX:"start",overlayY:"bottom"}],this._disableOptionCentering=!1,this._focused=!1,this.controlType="mat-select",this.ariaLabel="",this.optionSelectionChanges=Object(c.a)(()=>{const t=this.options;return t?t.changes.pipe(Object(d.a)(t),Object(p.a)(()=>Object(u.a)(...t.map(t=>t.onSelectionChange)))):this._ngZone.onStable.asObservable().pipe(Object(f.a)(1),Object(p.a)(()=>this.optionSelectionChanges))}),this.openedChange=new a.m,this._openedStream=this.openedChange.pipe(Object(g.a)(t=>t),Object(_.a)(()=>{})),this._closedStream=this.openedChange.pipe(Object(g.a)(t=>!t),Object(_.a)(()=>{})),this.selectionChange=new a.m,this.valueChange=new a.m,this.ngControl&&(this.ngControl.valueAccessor=this),this._scrollStrategyFactory=w,this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=parseInt(y)||0,this.id=this.id}get focused(){return this._focused||this._panelOpen}set focused(t){this._focused=t}get placeholder(){return this._placeholder}set placeholder(t){this._placeholder=t,this.stateChanges.next()}get required(){return this._required}set required(t){this._required=Object(s.b)(t),this.stateChanges.next()}get multiple(){return this._multiple}set multiple(t){if(this._selectionModel)throw Error("Cannot change `multiple` mode of select after initialization.");this._multiple=Object(s.b)(t)}get disableOptionCentering(){return this._disableOptionCentering}set disableOptionCentering(t){this._disableOptionCentering=Object(s.b)(t)}get compareWith(){return this._compareWith}set compareWith(t){if("function"!=typeof t)throw Error("`compareWith` must be a function.");this._compareWith=t,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(t){t!==this._value&&(this.writeValue(t),this._value=t)}get id(){return this._id}set id(t){this._id=t||this._uid,this.stateChanges.next()}ngOnInit(){this._selectionModel=new r.b(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe(Object(m.a)(),Object(b.a)(this._destroy)).subscribe(()=>{this.panelOpen?(this._scrollTop=0,this.openedChange.emit(!0)):(this.openedChange.emit(!1),this.overlayDir.offsetX=0,this._changeDetectorRef.markForCheck())}),this._viewportRuler.change().pipe(Object(b.a)(this._destroy)).subscribe(()=>{this._panelOpen&&(this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._changeDetectorRef.markForCheck())})}ngAfterContentInit(){this._initKeyManager(),this._selectionModel.onChange.pipe(Object(b.a)(this._destroy)).subscribe(t=>{t.added.forEach(t=>t.select()),t.removed.forEach(t=>t.deselect())}),this.options.changes.pipe(Object(d.a)(null),Object(b.a)(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){this.ngControl&&this.updateErrorState()}ngOnChanges(t){t.disabled&&this.stateChanges.next()}ngOnDestroy(){this._destroy.next(),this._destroy.complete(),this.stateChanges.complete()}toggle(){this.panelOpen?this.close():this.open()}open(){!this.disabled&&this.options&&this.options.length&&!this._panelOpen&&(this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._triggerFontSize=parseInt(getComputedStyle(this.trigger.nativeElement).fontSize||"0"),this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._calculateOverlayPosition(),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck(),this._ngZone.onStable.asObservable().pipe(Object(f.a)(1)).subscribe(()=>{this._triggerFontSize&&this.overlayDir.overlayRef&&this.overlayDir.overlayRef.overlayElement&&(this.overlayDir.overlayRef.overlayElement.style.fontSize=`${this._triggerFontSize}px`)}))}close(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched())}writeValue(t){this.options&&this._setSelectionByValue(t)}registerOnChange(t){this._onChange=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this.disabled=t,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){return this.multiple?this._selectionModel.selected:this._selectionModel.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){const t=this._selectionModel.selected.map(t=>t.viewValue);return this._isRtl()&&t.reverse(),t.join(", ")}return this._selectionModel.selected[0].viewValue}_isRtl(){return!!this._dir&&"rtl"===this._dir.value}_handleKeydown(t){this.disabled||(this.panelOpen?this._handleOpenKeydown(t):this._handleClosedKeydown(t))}_handleClosedKeydown(t){const e=t.keyCode,i=e===o.b||e===o.n||e===o.g||e===o.k,n=this._keyManager;if((e===o.d||e===o.l)&&!Object(o.q)(t)||(this.multiple||t.altKey)&&i)t.preventDefault(),this.open();else if(!this.multiple){const i=this.selected;e===o.f||e===o.c?(e===o.f?n.setFirstItemActive():n.setLastItemActive(),t.preventDefault()):n.onKeydown(t);const s=this.selected;this._liveAnnouncer&&s&&i!==s&&this._liveAnnouncer.announce(s.viewValue,1e4)}}_handleOpenKeydown(t){const e=t.keyCode,i=e===o.b||e===o.n,n=this._keyManager;if(e===o.f||e===o.c)t.preventDefault(),e===o.f?n.setFirstItemActive():n.setLastItemActive();else if(i&&t.altKey)t.preventDefault(),this.close();else if(e!==o.d&&e!==o.l||!n.activeItem||Object(o.q)(t))if(this._multiple&&e===o.a&&t.ctrlKey){t.preventDefault();const e=this.options.some(t=>!t.disabled&&!t.selected);this.options.forEach(t=>{t.disabled||(e?t.select():t.deselect())})}else{const e=n.activeItemIndex;n.onKeydown(t),this._multiple&&i&&t.shiftKey&&n.activeItem&&n.activeItemIndex!==e&&n.activeItem._selectViaInteraction()}else t.preventDefault(),n.activeItem._selectViaInteraction()}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,this.disabled||this.panelOpen||(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_onAttached(){this.overlayDir.positionChange.pipe(Object(f.a)(1)).subscribe(()=>{this._setPseudoCheckboxPaddingSize(),this._changeDetectorRef.detectChanges(),this._calculateOverlayOffsetX(),this.panel.nativeElement.scrollTop=this._scrollTop})}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}_setPseudoCheckboxPaddingSize(){if(!C&&this.multiple){const t=this.panel.nativeElement.querySelector(".mat-pseudo-checkbox");t&&(C=1.5*w+t.offsetWidth)}}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this._setSelectionByValue(this.ngControl?this.ngControl.value:this._value),this.stateChanges.next()})}_setSelectionByValue(t){if(this.multiple&&t){if(!Array.isArray(t))throw Error("Value must be an array in multiple-selection mode.");this._selectionModel.clear(),t.forEach(t=>this._selectValue(t)),this._sortValues()}else{this._selectionModel.clear();const e=this._selectValue(t);e&&this._keyManager.setActiveItem(e)}this._changeDetectorRef.markForCheck()}_selectValue(t){const e=this.options.find(e=>{try{return null!=e.value&&this._compareWith(e.value,t)}catch(i){return Object(a.Y)()&&console.warn(i),!1}});return e&&this._selectionModel.select(e),e}_initKeyManager(){this._keyManager=new n.b(this.options).withTypeAhead().withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withAllowedModifierKeys(["shiftKey"]),this._keyManager.tabOut.pipe(Object(b.a)(this._destroy)).subscribe(()=>{this.focus(),this.close()}),this._keyManager.change.pipe(Object(b.a)(this._destroy)).subscribe(()=>{this._panelOpen&&this.panel?this._scrollActiveOptionIntoView():this._panelOpen||this.multiple||!this._keyManager.activeItem||this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){const t=Object(u.a)(this.options.changes,this._destroy);this.optionSelectionChanges.pipe(Object(b.a)(t)).subscribe(t=>{this._onSelect(t.source,t.isUserInput),t.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),Object(u.a)(...this.options.map(t=>t._stateChanges)).pipe(Object(b.a)(t)).subscribe(()=>{this._changeDetectorRef.markForCheck(),this.stateChanges.next()}),this._setOptionIds()}_onSelect(t,e){const i=this._selectionModel.isSelected(t);null!=t.value||this._multiple?(t.selected?this._selectionModel.select(t):this._selectionModel.deselect(t),e&&this._keyManager.setActiveItem(t),this.multiple&&(this._sortValues(),e&&this.focus())):(t.deselect(),this._selectionModel.clear(),this._propagateChanges(t.value)),i!==this._selectionModel.isSelected(t)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){const t=this.options.toArray();this._selectionModel.sort((e,i)=>this.sortComparator?this.sortComparator(e,i,t):t.indexOf(e)-t.indexOf(i)),this.stateChanges.next()}}_propagateChanges(t){let e=null;e=this.multiple?this.selected.map(t=>t.value):this.selected?this.selected.value:t,this._value=e,this.valueChange.emit(e),this._onChange(e),this.selectionChange.emit(new E(this,e)),this._changeDetectorRef.markForCheck()}_setOptionIds(){this._optionIds=this.options.map(t=>t.id).join(" ")}_highlightCorrectOption(){this._keyManager&&(this.empty?this._keyManager.setFirstItemActive():this._keyManager.setActiveItem(this._selectionModel.selected[0]))}_scrollActiveOptionIntoView(){const t=this._keyManager.activeItemIndex||0,e=Object(l.v)(t,this.options,this.optionGroups);this.panel.nativeElement.scrollTop=Object(l.w)(t+e,this._getItemHeight(),this.panel.nativeElement.scrollTop,y)}focus(t){this._elementRef.nativeElement.focus(t)}_getOptionIndex(t){return this.options.reduce((e,i,n)=>void 0===e?t===i?n:void 0:e,void 0)}_calculateOverlayPosition(){const t=this._getItemHeight(),e=this._getItemCount(),i=Math.min(e*t,y),n=e*t-i;let s=this.empty?0:this._getOptionIndex(this._selectionModel.selected[0]);s+=Object(l.v)(s,this.options,this.optionGroups);const r=i/2;this._scrollTop=this._calculateOverlayScroll(s,r,n),this._offsetY=this._calculateOverlayOffsetY(s,r,n),this._checkOverlayWithinViewport(n)}_calculateOverlayScroll(t,e,i){const n=this._getItemHeight();return Math.min(Math.max(0,n*t-e+n/2),i)}_getAriaLabel(){return this.ariaLabelledby?null:this.ariaLabel||this.placeholder}_getAriaLabelledby(){return this.ariaLabelledby?this.ariaLabelledby:this._parentFormField&&this._parentFormField._hasFloatingLabel()&&!this._getAriaLabel()&&this._parentFormField._labelId||null}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_calculateOverlayOffsetX(){const t=this.overlayDir.overlayRef.overlayElement.getBoundingClientRect(),e=this._viewportRuler.getViewportSize(),i=this._isRtl(),n=this.multiple?C+w:2*w;let s;if(this.multiple)s=C;else{let t=this._selectionModel.selected[0]||this.options.first;s=t&&t.group?S:w}i||(s*=-1);const r=0-(t.left+s-(i?n:0)),o=t.right+s-e.width+(i?0:n);r>0?s+=r+k:o>0&&(s-=o+k),this.overlayDir.offsetX=Math.round(s),this.overlayDir.overlayRef.updatePosition()}_calculateOverlayOffsetY(t,e,i){const n=this._getItemHeight(),s=(n-this._triggerRect.height)/2,r=Math.floor(y/n);let o;return this._disableOptionCentering?0:(o=0===this._scrollTop?t*n:this._scrollTop===i?(t-(this._getItemCount()-r))*n+(n-(this._getItemCount()*n-y)%n):e-n/2,Math.round(-1*o-s))}_checkOverlayWithinViewport(t){const e=this._getItemHeight(),i=this._viewportRuler.getViewportSize(),n=this._triggerRect.top-k,s=i.height-this._triggerRect.bottom-k,r=Math.abs(this._offsetY),o=Math.min(this._getItemCount()*e,y)-r-this._triggerRect.height;o>s?this._adjustPanelUp(o,s):r>n?this._adjustPanelDown(r,n,t):this._transformOrigin=this._getOriginBasedOnOption()}_adjustPanelUp(t,e){const i=Math.round(t-e);this._scrollTop-=i,this._offsetY-=i,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop<=0&&(this._scrollTop=0,this._offsetY=0,this._transformOrigin="50% bottom 0px")}_adjustPanelDown(t,e,i){const n=Math.round(t-e);if(this._scrollTop+=n,this._offsetY+=n,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop>=i)return this._scrollTop=i,this._offsetY=0,void(this._transformOrigin="50% top 0px")}_getOriginBasedOnOption(){const t=this._getItemHeight(),e=(t-this._triggerRect.height)/2;return`50% ${Math.abs(this._offsetY)-e+t/2}px 0px`}_getItemCount(){return this.options.length+this.optionGroups.length}_getItemHeight(){return this._triggerFontSize*x}setDescribedByIds(t){this._ariaDescribedby=t.join(" ")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this._panelOpen||!this.empty}}class A{}},JsjR:function(t,e,i){var n=i("mrSG").__extends;Object.defineProperty(e,"__esModule",{value:!0});var s=i("nLhi"),r=i("8LQ0"),o=i("/OYL"),a=i("RUZL"),l=i("13ei"),h=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype._sceneFunc=function(t){var e,i,n,s=this.sides(),r=this.radius();for(t.beginPath(),t.moveTo(0,0-r),e=1;e<s;e++)i=r*Math.sin(2*e*Math.PI/s),n=-1*r*Math.cos(2*e*Math.PI/s),t.lineTo(i,n);t.closePath(),t.fillStrokeShape(this)},e.prototype.getWidth=function(){return 2*this.radius()},e.prototype.getHeight=function(){return 2*this.radius()},e.prototype.setWidth=function(t){this.radius(t/2)},e.prototype.setHeight=function(t){this.radius(t/2)},e}(o.Shape);e.RegularPolygon=h,h.prototype.className="RegularPolygon",h.prototype._centroid=!0,h.prototype._attrsAffectingSize=["radius"],l._registerNode(h),r.Factory.addGetterSetter(h,"radius",0,a.getNumberValidator()),r.Factory.addGetterSetter(h,"sides",0,a.getNumberValidator()),s.Collection.mapMethods(h)},KCVW:function(t,e,i){"use strict";i.d(e,"b",function(){return s}),i.d(e,"e",function(){return r}),i.d(e,"a",function(){return o}),i.d(e,"c",function(){return a}),i.d(e,"d",function(){return l});var n=i("8Y7J");function s(t){return null!=t&&"false"!==`${t}`}function r(t,e=0){return function(t){return!isNaN(parseFloat(t))&&!isNaN(Number(t))}(t)?Number(t):e}function o(t){return Array.isArray(t)?t:[t]}function a(t){return null==t?"":"string"==typeof t?t:`${t}px`}function l(t){return t instanceof n.k?t.nativeElement:t}},"KgF/":function(t,e,i){var n=i("mrSG").__extends;Object.defineProperty(e,"__esModule",{value:!0});var s=i("nLhi"),r=i("8LQ0"),o=i("/OYL"),a=i("jBiz"),l=i("VBTO"),h=i("RUZL"),c=i("13ei");function u(t){t.fillText(this.partialText,0,0)}function d(t){t.strokeText(this.partialText,0,0)}var p=function(t){function e(e){var i=t.call(this,e)||this;return i.dummyCanvas=s.Util.createCanvasElement(),i.dataArray=[],i.dataArray=a.Path.parsePathData(i.attrs.data),i.on("dataChange.konva",function(){this.dataArray=a.Path.parsePathData(this.attrs.data),this._setTextData()}),i.on("textChange.konva alignChange.konva letterSpacingChange.konva kerningFuncChange.konva",i._setTextData),e&&e.getKerning&&(s.Util.warn('getKerning TextPath API is deprecated. Please use "kerningFunc" instead.'),i.kerningFunc(e.getKerning)),i._setTextData(),i}return n(e,t),e.prototype._sceneFunc=function(t){t.setAttr("font",this._getContextFont()),t.setAttr("textBaseline",this.textBaseline()),t.setAttr("textAlign","left"),t.save();var e=this.textDecoration(),i=this.fill(),n=this.fontSize(),s=this.glyphInfo;"underline"===e&&t.beginPath();for(var r=0;r<s.length;r++){t.save();var o=s[r].p0;t.translate(o.x,o.y),t.rotate(s[r].rotation),this.partialText=s[r].text,t.fillStrokeShape(this),"underline"===e&&(0===r&&t.moveTo(0,n/2+1),t.lineTo(n,n/2+1)),t.restore()}"underline"===e&&(t.strokeStyle=i,t.lineWidth=n/20,t.stroke()),t.restore()},e.prototype._hitFunc=function(t){t.beginPath();var e=this.glyphInfo;if(e.length>=1){var i=e[0].p0;t.moveTo(i.x,i.y)}for(var n=0;n<e.length;n++){var s=e[n].p1;t.lineTo(s.x,s.y)}t.setAttr("lineWidth",this.fontSize()),t.setAttr("strokeStyle",this.colorKey),t.stroke()},e.prototype.getTextWidth=function(){return this.textWidth},e.prototype.getTextHeight=function(){return s.Util.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight},e.prototype.setText=function(t){return l.Text.prototype.setText.call(this,t)},e.prototype._getContextFont=function(){return l.Text.prototype._getContextFont.call(this)},e.prototype._getTextSize=function(t){var e=this.dummyCanvas.getContext("2d");e.save(),e.font=this._getContextFont();var i=e.measureText(t);return e.restore(),{width:i.width,height:parseInt(this.attrs.fontSize,10)}},e.prototype._setTextData=function(){var t=this,e=this._getTextSize(this.attrs.text),i=this.letterSpacing(),n=this.align(),s=this.kerningFunc();this.textWidth=e.width,this.textHeight=e.height;var r=Math.max(this.textWidth+((this.attrs.text||"").length-1)*i,0);this.glyphInfo=[];for(var o=0,l=0;l<t.dataArray.length;l++)t.dataArray[l].pathLength>0&&(o+=t.dataArray[l].pathLength);var h=0;"center"===n&&(h=Math.max(0,o/2-r/2)),"right"===n&&(h=Math.max(0,o-r));for(var c,u,d,p=this.text().split(""),f=this.text().split(" ").length-1,g=-1,_=0,m=function(){_=0;for(var e=t.dataArray,i=g+1;i<e.length;i++){if(e[i].pathLength>0)return g=i,e[i];"M"===e[i].command&&(c={x:e[i].points[0],y:e[i].points[1]})}return{}},b=function(e){var s=t._getTextSize(e).width+i;" "===e&&"justify"===n&&(s+=(o-r)/f);var l=0,h=0;for(u=void 0;Math.abs(s-l)/s>.01&&h<25;){h++;for(var p=l;void 0===d;)(d=m())&&p+d.pathLength<s&&(p+=d.pathLength,d=void 0);if(d==={}||void 0===c)return;var g=!1;switch(d.command){case"L":a.Path.getLineLength(c.x,c.y,d.points[0],d.points[1])>s?u=a.Path.getPointOnLine(s,c.x,c.y,d.points[0],d.points[1],c.x,c.y):d=void 0;break;case"A":var b=d.points[5],v=d.points[4]+b;0===_?_=d.points[4]+1e-8:s>l?_+=Math.PI/180*b/Math.abs(b):_-=Math.PI/360*b/Math.abs(b),(b<0&&_<v||b>=0&&_>v)&&(_=v,g=!0),u=a.Path.getPointOnEllipticalArc(d.points[0],d.points[1],d.points[2],d.points[3],_,d.points[6]);break;case"C":0===_?_=s>d.pathLength?1e-8:s/d.pathLength:s>l?_+=(s-l)/d.pathLength:_-=(l-s)/d.pathLength,_>1&&(_=1,g=!0),u=a.Path.getPointOnCubicBezier(_,d.start.x,d.start.y,d.points[0],d.points[1],d.points[2],d.points[3],d.points[4],d.points[5]);break;case"Q":0===_?_=s/d.pathLength:s>l?_+=(s-l)/d.pathLength:_-=(l-s)/d.pathLength,_>1&&(_=1,g=!0),u=a.Path.getPointOnQuadraticBezier(_,d.start.x,d.start.y,d.points[0],d.points[1],d.points[2],d.points[3])}void 0!==u&&(l=a.Path.getLineLength(c.x,c.y,u.x,u.y)),g&&(g=!1,d=void 0)}},v=t._getTextSize("C").width+i,y=0;y<h/v&&(b("C"),void 0!==c&&void 0!==u);y++)c=u;for(var w=0;w<p.length&&(b(p[w]),void 0!==c&&void 0!==u);w++){var S=a.Path.getLineLength(c.x,c.y,u.x,u.y),x=0;if(s)try{x=s(p[w-1],p[w])*this.fontSize()}catch(O){x=0}c.x+=x,u.x+=x,this.textWidth+=x;var C=a.Path.getPointOnLine(x+S/2,c.x,c.y,u.x,u.y),k=Math.atan2(u.y-c.y,u.x-c.x);this.glyphInfo.push({transposeX:C.x,transposeY:C.y,text:p[w],rotation:k,p0:c,p1:u}),c=u}},e.prototype.getSelfRect=function(){var t=[];this.glyphInfo.forEach(function(e){t.push(e.p0.x),t.push(e.p0.y),t.push(e.p1.x),t.push(e.p1.y)});for(var e,i,n=t[0],s=t[0],r=t[0],o=t[0],a=0;a<t.length/2;a++)e=t[2*a],i=t[2*a+1],n=Math.min(n,e),s=Math.max(s,e),r=Math.min(r,i),o=Math.max(o,i);var l=this.fontSize();return{x:Math.round(n)-l/2,y:Math.round(r)-l/2,width:Math.round(s-n)+l,height:Math.round(o-r)+l}},e}(o.Shape);e.TextPath=p,p.prototype._fillFunc=u,p.prototype._strokeFunc=d,p.prototype._fillFuncHit=u,p.prototype._strokeFuncHit=d,p.prototype.className="TextPath",p.prototype._attrsAffectingSize=["text","fontSize","data"],c._registerNode(p),r.Factory.addGetterSetter(p,"data"),r.Factory.addGetterSetter(p,"fontFamily","Arial"),r.Factory.addGetterSetter(p,"fontSize",12,h.getNumberValidator()),r.Factory.addGetterSetter(p,"fontStyle","normal"),r.Factory.addGetterSetter(p,"align","left"),r.Factory.addGetterSetter(p,"letterSpacing",0,h.getNumberValidator()),r.Factory.addGetterSetter(p,"textBaseline","middle"),r.Factory.addGetterSetter(p,"fontVariant","normal"),r.Factory.addGetterSetter(p,"text",""),r.Factory.addGetterSetter(p,"textDecoration",null),r.Factory.addGetterSetter(p,"kerningFunc",null),s.Collection.mapMethods(p)},L1EJ:function(t,e,i){"use strict";i.d(e,"a",function(){return n});class n{}},L7LI:function(t,e,i){var n=i("mrSG").__extends;Object.defineProperty(e,"__esModule",{value:!0});var s=i("nLhi"),r=i("6mFz"),o=i("1q+a"),a=i("13ei"),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype._validateAdd=function(t){"Shape"!==t.getType()&&s.Util.throw("You may only add shapes to a fast layer.")},e.prototype._setCanvasSize=function(t,e){this.canvas.setSize(t,e),this._checkSmooth()},e.prototype.hitGraphEnabled=function(){return!1},e.prototype.drawScene=function(t){var e=this.getLayer(),i=t||e&&e.getCanvas();return this.clearBeforeDraw()&&i.getContext().clear(),r.Container.prototype.drawScene.call(this,i),this},e.prototype.draw=function(){return this.drawScene(),this},e}(o.BaseLayer);e.FastLayer=l,l.prototype.nodeType="FastLayer",a._registerNode(l),s.Collection.mapMethods(l)},MlvX:function(t,e,i){"use strict";i.d(e,"a",function(){return l}),i.d(e,"b",function(){return c});var n=i("8Y7J"),s=i("Xd0L"),r=(i("IP0z"),i("cUpR"),i("/HVE")),o=i("SVse"),a=i("omvX"),l=n.sb({encapsulation:2,styles:[".mat-option{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;position:relative;cursor:pointer;outline:0;display:flex;flex-direction:row;max-width:100%;box-sizing:border-box;align-items:center;-webkit-tap-highlight-color:transparent}.mat-option[disabled]{cursor:default}[dir=rtl] .mat-option{text-align:right}.mat-option .mat-icon{margin-right:16px;vertical-align:middle}.mat-option .mat-icon svg{vertical-align:top}[dir=rtl] .mat-option .mat-icon{margin-left:16px;margin-right:0}.mat-option[aria-disabled=true]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:32px}[dir=rtl] .mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:16px;padding-right:32px}@media (-ms-high-contrast:active){.mat-option{margin:0 1px}.mat-option.mat-active{border:solid 1px currentColor;margin:0}}.mat-option-text{display:inline-block;flex-grow:1;overflow:hidden;text-overflow:ellipsis}.mat-option .mat-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}@media (-ms-high-contrast:active){.mat-option .mat-option-ripple{opacity:.5}}.mat-option-pseudo-checkbox{margin-right:8px}[dir=rtl] .mat-option-pseudo-checkbox{margin-left:8px;margin-right:0}"],data:{}});function h(t){return n.Qb(0,[(t()(),n.ub(0,0,null,null,1,"mat-pseudo-checkbox",[["class","mat-option-pseudo-checkbox mat-pseudo-checkbox"]],[[2,"mat-pseudo-checkbox-indeterminate",null],[2,"mat-pseudo-checkbox-checked",null],[2,"mat-pseudo-checkbox-disabled",null],[2,"_mat-animation-noopable",null]],null,null,d,u)),n.tb(1,49152,null,0,s.p,[[2,a.a]],{state:[0,"state"],disabled:[1,"disabled"]},null)],function(t,e){var i=e.component;t(e,1,0,i.selected?"checked":"",i.disabled)},function(t,e){t(e,0,0,"indeterminate"===n.Gb(e,1).state,"checked"===n.Gb(e,1).state,n.Gb(e,1).disabled,"NoopAnimations"===n.Gb(e,1)._animationMode)})}function c(t){return n.Qb(2,[(t()(),n.jb(16777216,null,null,1,null,h)),n.tb(1,16384,null,0,o.k,[n.P,n.M],{ngIf:[0,"ngIf"]},null),(t()(),n.ub(2,0,null,null,1,"span",[["class","mat-option-text"]],null,null,null,null,null)),n.Fb(null,0),(t()(),n.ub(4,0,null,null,1,"div",[["class","mat-option-ripple mat-ripple"],["mat-ripple",""]],[[2,"mat-ripple-unbounded",null]],null,null,null,null)),n.tb(5,212992,null,0,s.r,[n.k,n.y,r.a,[2,s.i],[2,a.a]],{disabled:[0,"disabled"],trigger:[1,"trigger"]},null)],function(t,e){var i=e.component;t(e,1,0,i.multiple),t(e,5,0,i.disabled||i.disableRipple,i._getHostElement())},function(t,e){t(e,4,0,n.Gb(e,5).unbounded)})}var u=n.sb({encapsulation:2,styles:[".mat-pseudo-checkbox{width:16px;height:16px;border:2px solid;border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0,0,.2,.1),background-color 90ms cubic-bezier(0,0,.2,.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:'';border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0,0,.2,.1)}.mat-pseudo-checkbox.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox.mat-pseudo-checkbox-indeterminate{border-color:transparent}._mat-animation-noopable.mat-pseudo-checkbox{transition:none;animation:none}._mat-animation-noopable.mat-pseudo-checkbox::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{top:5px;left:1px;width:10px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{top:2.4px;left:1px;width:8px;height:3px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}"],data:{}});function d(t){return n.Qb(2,[],null,null)}},Ni3L:function(t,e,i){var n=i("/RUG").Konva;n._injectGlobal(n),e.default=n,t.exports=e.default},NtrB:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i("13ei"),s=i("nLhi"),r=i("SXH2"),o=i("6mFz"),a=i("66Qi"),l=i("D/Vs"),h=i("L7LI"),c=i("81y5"),u=i("35O5"),d=i("/OYL"),p=i("7T3k"),f=i("Bvic"),g=i("xSfM"),_=i("9lVk");e.Konva=s.Util._assign(n.Konva,{Collection:s.Collection,Util:s.Util,Node:r.Node,ids:r.ids,names:r.names,Container:o.Container,Stage:a.Stage,stages:a.stages,Layer:l.Layer,FastLayer:h.FastLayer,Group:c.Group,DD:u.DD,Shape:d.Shape,shapes:d.shapes,Animation:p.Animation,Tween:f.Tween,Easings:f.Easings,Context:g.Context,Canvas:_.Canvas})},"OD/x":function(t,e,i){var n=i("mrSG").__extends;Object.defineProperty(e,"__esModule",{value:!0});var s=i("nLhi"),r=i("8LQ0"),o=i("/OYL"),a=i("RUZL"),l=i("13ei"),h=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype._sceneFunc=function(t){var e=this.radiusX(),i=this.radiusY();t.beginPath(),t.save(),e!==i&&t.scale(1,i/e),t.arc(0,0,e,0,2*Math.PI,!1),t.restore(),t.closePath(),t.fillStrokeShape(this)},e.prototype.getWidth=function(){return 2*this.radiusX()},e.prototype.getHeight=function(){return 2*this.radiusY()},e.prototype.setWidth=function(t){this.radiusX(t/2)},e.prototype.setHeight=function(t){this.radiusY(t/2)},e}(o.Shape);e.Ellipse=h,h.prototype.className="Ellipse",h.prototype._centroid=!0,h.prototype._attrsAffectingSize=["radiusX","radiusY"],l._registerNode(h),r.Factory.addComponentsGetterSetter(h,"radius",["x","y"]),r.Factory.addGetterSetter(h,"radiusX",0,a.getNumberValidator()),r.Factory.addGetterSetter(h,"radiusY",0,a.getNumberValidator()),s.Collection.mapMethods(h)},POq0:function(t,e,i){"use strict";i.d(e,"c",function(){return l}),i.d(e,"b",function(){return h}),i.d(e,"a",function(){return c}),i.d(e,"d",function(){return u});var n=i("KCVW"),s=i("8Y7J"),r=i("HDdC"),o=i("XNiG"),a=i("Kj3r");let l=(()=>{class t{create(t){return"undefined"==typeof MutationObserver?null:new MutationObserver(t)}}return t.ngInjectableDef=Object(s.Ub)({factory:function(){return new t},token:t,providedIn:"root"}),t})(),h=(()=>{class t{constructor(t){this._mutationObserverFactory=t,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((t,e)=>this._cleanupObserver(e))}observe(t){const e=Object(n.d)(t);return new r.a(t=>{const i=this._observeElement(e).subscribe(t);return()=>{i.unsubscribe(),this._unobserveElement(e)}})}_observeElement(t){if(this._observedElements.has(t))this._observedElements.get(t).count++;else{const e=new o.a,i=this._mutationObserverFactory.create(t=>e.next(t));i&&i.observe(t,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(t,{observer:i,stream:e,count:1})}return this._observedElements.get(t).stream}_unobserveElement(t){this._observedElements.has(t)&&(this._observedElements.get(t).count--,this._observedElements.get(t).count||this._cleanupObserver(t))}_cleanupObserver(t){if(this._observedElements.has(t)){const{observer:e,stream:i}=this._observedElements.get(t);e&&e.disconnect(),i.complete(),this._observedElements.delete(t)}}}return t.ngInjectableDef=Object(s.Ub)({factory:function(){return new t(Object(s.Vb)(l))},token:t,providedIn:"root"}),t})();class c{constructor(t,e,i){this._contentObserver=t,this._elementRef=e,this._ngZone=i,this.event=new s.m,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(t){this._disabled=Object(n.b)(t),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(t){this._debounce=Object(n.e)(t),this._subscribe()}ngAfterContentInit(){this._currentSubscription||this.disabled||this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const t=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?t.pipe(Object(a.a)(this.debounce)):t).subscribe(this.event)})}_unsubscribe(){this._currentSubscription&&this._currentSubscription.unsubscribe()}}class u{}},QFpT:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i("8LQ0"),s=i("nLhi"),r=i("SXH2"),o=i("RUZL");e.Pixelate=function(t){var e,i,n,r,o,a,l,h,c,u,d,p,f,g,_=Math.ceil(this.pixelSize()),m=t.width,b=t.height,v=Math.ceil(m/_),y=Math.ceil(b/_),w=t.data;if(_<=0)s.Util.error("pixelSize value can not be <= 0");else for(p=0;p<v;p+=1)for(f=0;f<y;f+=1){for(r=0,o=0,a=0,l=0,c=(h=p*_)+_,d=(u=f*_)+_,g=0,e=h;e<c;e+=1)if(!(e>=m))for(i=u;i<d;i+=1)i>=b||(r+=w[0+(n=4*(m*i+e))],o+=w[n+1],a+=w[n+2],l+=w[n+3],g+=1);for(r/=g,o/=g,a/=g,l/=g,e=h;e<c;e+=1)if(!(e>=m))for(i=u;i<d;i+=1)i>=b||(w[0+(n=4*(m*i+e))]=r,w[n+1]=o,w[n+2]=a,w[n+3]=l)}},n.Factory.addGetterSetter(r.Node,"pixelSize",8,o.getNumberValidator(),n.Factory.afterSetFilter)},QQfA:function(t,e,i){"use strict";i.d(e,"c",function(){return V}),i.d(e,"e",function(){return R}),i.d(e,"b",function(){return z}),i.d(e,"a",function(){return H}),i.d(e,"f",function(){return T}),i.d(e,"h",function(){return N}),i.d(e,"d",function(){return C}),i.d(e,"i",function(){return x}),i.d(e,"g",function(){return W}),i.d(e,"j",function(){return U}),i.d(e,"k",function(){return Y});var n=i("KCVW"),s=i("hOhj"),r=i("SVse"),o=i("8Y7J"),a=i("XNiG"),l=i("quSY"),h=i("HDdC"),c=i("VRyK"),u=i("IzEk"),d=i("1G5W"),p=i("/HVE"),f=i("zMNK"),g=i("dvZr");class _{constructor(t,e){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){const t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=Object(n.c)(-this._previousScrollPosition.left),t.style.top=Object(n.c)(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const t=this._document.documentElement,e=t.style,i=this._document.body.style,n=e.scrollBehavior||"",s=i.scrollBehavior||"";this._isEnabled=!1,e.left=this._previousHTMLStyles.left,e.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),e.scrollBehavior=i.scrollBehavior="auto",window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),e.scrollBehavior=n,i.scrollBehavior=s}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const t=this._document.body,e=this._viewportRuler.getViewportSize();return t.scrollHeight>e.height||t.scrollWidth>e.width}}function m(){return Error("Scroll strategy has already been attached.")}class b{constructor(t,e,i,n){this._scrollDispatcher=t,this._ngZone=e,this._viewportRuler=i,this._config=n,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(t){if(this._overlayRef)throw m();this._overlayRef=t}enable(){if(this._scrollSubscription)return;const t=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{const t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class v{enable(){}disable(){}attach(){}}function y(t,e){return e.some(e=>t.bottom<e.top||t.top>e.bottom||t.right<e.left||t.left>e.right)}function w(t,e){return e.some(e=>t.top<e.top||t.bottom>e.bottom||t.left<e.left||t.right>e.right)}class S{constructor(t,e,i,n){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=i,this._config=n,this._scrollSubscription=null}attach(t){if(this._overlayRef)throw m();this._overlayRef=t}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:e,height:i}=this._viewportRuler.getViewportSize();y(t,[{width:e,height:i,bottom:i,right:e,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let x=(()=>{class t{constructor(t,e,i,n){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=i,this.noop=()=>new v,this.close=t=>new b(this._scrollDispatcher,this._ngZone,this._viewportRuler,t),this.block=()=>new _(this._viewportRuler,this._document),this.reposition=t=>new S(this._scrollDispatcher,this._viewportRuler,this._ngZone,t),this._document=n}}return t.ngInjectableDef=Object(o.Ub)({factory:function(){return new t(Object(o.Vb)(s.a),Object(o.Vb)(s.d),Object(o.Vb)(o.y),Object(o.Vb)(r.d))},token:t,providedIn:"root"}),t})();class C{constructor(t){if(this.scrollStrategy=new v,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t){const e=Object.keys(t);for(const i of e)void 0!==t[i]&&(this[i]=t[i])}}}class k{constructor(t,e,i,n,s){this.offsetX=i,this.offsetY=n,this.panelClass=s,this.originX=t.originX,this.originY=t.originY,this.overlayX=e.overlayX,this.overlayY=e.overlayY}}class O{constructor(t,e){this.connectionPair=t,this.scrollableViewProperties=e}}function P(t,e){if("top"!==e&&"bottom"!==e&&"center"!==e)throw Error(`ConnectedPosition: Invalid ${t} "${e}". `+'Expected "top", "bottom" or "center".')}function E(t,e){if("start"!==e&&"end"!==e&&"center"!==e)throw Error(`ConnectedPosition: Invalid ${t} "${e}". `+'Expected "start", "end" or "center".')}let T=(()=>{class t{constructor(t){this._attachedOverlays=[],this._keydownListener=t=>{const e=this._attachedOverlays;for(let i=e.length-1;i>-1;i--)if(e[i]._keydownEventSubscriptions>0){e[i]._keydownEvents.next(t);break}},this._document=t}ngOnDestroy(){this._detach()}add(t){this.remove(t),this._isAttached||(this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0),this._attachedOverlays.push(t)}remove(t){const e=this._attachedOverlays.indexOf(t);e>-1&&this._attachedOverlays.splice(e,1),0===this._attachedOverlays.length&&this._detach()}_detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return t.ngInjectableDef=Object(o.Ub)({factory:function(){return new t(Object(o.Vb)(r.d))},token:t,providedIn:"root"}),t})(),R=(()=>{class t{constructor(t){this._document=t}ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t=this._document.getElementsByClassName("cdk-overlay-container");for(let i=0;i<t.length;i++)t[i].parentNode.removeChild(t[i]);const e=this._document.createElement("div");e.classList.add("cdk-overlay-container"),this._document.body.appendChild(e),this._containerElement=e}}return t.ngInjectableDef=Object(o.Ub)({factory:function(){return new t(Object(o.Vb)(r.d))},token:t,providedIn:"root"}),t})();class M{constructor(t,e,i,n,s,r,o,c){this._portalOutlet=t,this._host=e,this._pane=i,this._config=n,this._ngZone=s,this._keyboardDispatcher=r,this._document=o,this._location=c,this._backdropElement=null,this._backdropClick=new a.a,this._attachments=new a.a,this._detachments=new a.a,this._locationChanges=l.a.EMPTY,this._backdropClickHandler=t=>this._backdropClick.next(t),this._keydownEventsObservable=new h.a(t=>{const e=this._keydownEvents.subscribe(t);return this._keydownEventSubscriptions++,()=>{e.unsubscribe(),this._keydownEventSubscriptions--}}),this._keydownEvents=new a.a,this._keydownEventSubscriptions=0,n.scrollStrategy&&(this._scrollStrategy=n.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=n.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t){let e=this._portalOutlet.attach(t);return this._positionStrategy&&this._positionStrategy.attach(this),!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.asObservable().pipe(Object(u.a)(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&this._location&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),t}dispose(){const t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this.detachBackdrop(),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._host&&this._host.parentNode&&(this._host.parentNode.removeChild(this._host),this._host=null),this._previousHostParent=this._pane=null,t&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick.asObservable()}attachments(){return this._attachments.asObservable()}detachments(){return this._detachments.asObservable()}keydownEvents(){return this._keydownEventsObservable}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config=Object.assign({},this._config,t),this._updateElementSize()}setDirection(t){this._config=Object.assign({},this._config,{direction:t}),this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){const t=this._config.direction;return t?"string"==typeof t?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){const t=this._pane.style;t.width=Object(n.c)(this._config.width),t.height=Object(n.c)(this._config.height),t.minWidth=Object(n.c)(this._config.minWidth),t.minHeight=Object(n.c)(this._config.minHeight),t.maxWidth=Object(n.c)(this._config.maxWidth),t.maxHeight=Object(n.c)(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"auto":"none"}_attachBackdrop(){this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add("cdk-overlay-backdrop-showing")})}):this._backdropElement.classList.add("cdk-overlay-backdrop-showing")}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){let t,e=this._backdropElement;if(!e)return;let i=()=>{e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",i),e.parentNode&&e.parentNode.removeChild(e)),this._backdropElement==e&&(this._backdropElement=null),this._config.backdropClass&&this._toggleClasses(e,this._config.backdropClass,!1),clearTimeout(t)};e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",i)}),e.style.pointerEvents="none",t=this._ngZone.runOutsideAngular(()=>setTimeout(i,500))}_toggleClasses(t,e,i){const s=t.classList;Object(n.a)(e).forEach(t=>{i?s.add(t):s.remove(t)})}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const t=this._ngZone.onStable.asObservable().pipe(Object(d.a)(Object(c.a)(this._attachments,this._detachments))).subscribe(()=>{this._pane&&this._host&&0!==this._pane.children.length||(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._previousHostParent.removeChild(this._host)),t.unsubscribe())})})}_disposeScrollStrategy(){const t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}}const A="cdk-overlay-connected-position-bounding-box";class I{constructor(t,e,i,n,s){this._viewportRuler=e,this._document=i,this._platform=n,this._overlayContainer=s,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new a.a,this._resizeSubscription=l.a.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges.asObservable(),this.setOrigin(t)}get positions(){return this._preferredPositions}attach(t){if(this._overlayRef&&t!==this._overlayRef)throw Error("This position strategy is already attached to an overlay");this._validatePositions(),t.hostElement.classList.add(A),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect();const t=this._originRect,e=this._overlayRect,i=this._viewportRect,n=[];let s;for(let r of this._preferredPositions){let o=this._getOriginPoint(t,r),a=this._getOverlayPoint(o,e,r),l=this._getOverlayFit(a,e,i,r);if(l.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(r,o);this._canFitWithFlexibleDimensions(l,a,i)?n.push({position:r,origin:o,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(o,r)}):(!s||s.overlayFit.visibleArea<l.visibleArea)&&(s={overlayFit:l,overlayPoint:a,originPoint:o,position:r,overlayRect:e})}if(n.length){let t=null,e=-1;for(const i of n){const n=i.boundingBoxRect.width*i.boundingBoxRect.height*(i.position.weight||1);n>e&&(e=n,t=i)}return this._isPushed=!1,void this._applyPosition(t.position,t.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(s.position,s.originPoint);this._applyPosition(s.position,s.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&D(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(A),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(!this._isDisposed&&(!this._platform||this._platform.isBrowser)){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect();const t=this._lastPosition||this._preferredPositions[0],e=this._getOriginPoint(this._originRect,t);this._applyPosition(t,e)}}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,-1===t.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,e){let i,n;if("center"==e.originX)i=t.left+t.width/2;else{const n=this._isRtl()?t.right:t.left,s=this._isRtl()?t.left:t.right;i="start"==e.originX?n:s}return{x:i,y:n="center"==e.originY?t.top+t.height/2:"top"==e.originY?t.top:t.bottom}}_getOverlayPoint(t,e,i){let n,s;return n="center"==i.overlayX?-e.width/2:"start"===i.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,{x:t.x+n,y:t.y+(s="center"==i.overlayY?-e.height/2:"top"==i.overlayY?0:-e.height)}}_getOverlayFit(t,e,i,n){let{x:s,y:r}=t,o=this._getOffset(n,"x"),a=this._getOffset(n,"y");o&&(s+=o),a&&(r+=a);let l=0-r,h=r+e.height-i.height,c=this._subtractOverflows(e.width,0-s,s+e.width-i.width),u=this._subtractOverflows(e.height,l,h),d=c*u;return{visibleArea:d,isCompletelyWithinViewport:e.width*e.height===d,fitsInViewportVertically:u===e.height,fitsInViewportHorizontally:c==e.width}}_canFitWithFlexibleDimensions(t,e,i){if(this._hasFlexibleDimensions){const n=i.bottom-e.y,s=i.right-e.x,r=this._overlayRef.getConfig().minHeight,o=this._overlayRef.getConfig().minWidth,a=t.fitsInViewportHorizontally||null!=o&&o<=s;return(t.fitsInViewportVertically||null!=r&&r<=n)&&a}return!1}_pushOverlayOnScreen(t,e,i){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};const n=this._viewportRect,s=Math.max(t.x+e.width-n.right,0),r=Math.max(t.y+e.height-n.bottom,0),o=Math.max(n.top-i.top-t.y,0),a=Math.max(n.left-i.left-t.x,0);let l=0,h=0;return this._previousPushAmount={x:l=e.width<=n.width?a||-s:t.x<this._viewportMargin?n.left-i.left-t.x:0,y:h=e.height<=n.height?o||-r:t.y<this._viewportMargin?n.top-i.top-t.y:0},{x:t.x+l,y:t.y+h}}_applyPosition(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._lastPosition=t,this._positionChanges.observers.length){const e=this._getScrollVisibility(),i=new O(t,e);this._positionChanges.next(i)}this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;const e=this._boundingBox.querySelectorAll(this._transformOriginSelector);let i,n=t.overlayY;i="center"===t.overlayX?"center":this._isRtl()?"start"===t.overlayX?"right":"left":"start"===t.overlayX?"left":"right";for(let s=0;s<e.length;s++)e[s].style.transformOrigin=`${i} ${n}`}_calculateBoundingBoxRect(t,e){const i=this._viewportRect,n=this._isRtl();let s,r,o,a,l,h;if("top"===e.overlayY)s=i.height-(r=t.y)+this._viewportMargin;else if("bottom"===e.overlayY)s=i.height-(o=i.height-t.y+2*this._viewportMargin)+this._viewportMargin;else{const e=Math.min(i.bottom-t.y+i.top,t.y),n=this._lastBoundingBoxSize.height;r=t.y-e,(s=2*e)>n&&!this._isInitialRender&&!this._growAfterOpen&&(r=t.y-n/2)}if("end"===e.overlayX&&!n||"start"===e.overlayX&&n)h=i.width-t.x+this._viewportMargin,a=t.x-this._viewportMargin;else if("start"===e.overlayX&&!n||"end"===e.overlayX&&n)l=t.x,a=i.right-t.x;else{const e=Math.min(i.right-t.x+i.left,t.x),n=this._lastBoundingBoxSize.width;l=t.x-e,(a=2*e)>n&&!this._isInitialRender&&!this._growAfterOpen&&(l=t.x-n/2)}return{top:r,left:l,bottom:o,right:h,width:a,height:s}}_setBoundingBoxStyles(t,e){const i=this._calculateBoundingBoxRect(t,e);this._isInitialRender||this._growAfterOpen||(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));const s={};if(this._hasExactPosition())s.top=s.left="0",s.bottom=s.right="",s.width=s.height="100%";else{const t=this._overlayRef.getConfig().maxHeight,r=this._overlayRef.getConfig().maxWidth;s.height=Object(n.c)(i.height),s.top=Object(n.c)(i.top),s.bottom=Object(n.c)(i.bottom),s.width=Object(n.c)(i.width),s.left=Object(n.c)(i.left),s.right=Object(n.c)(i.right),s.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",s.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",t&&(s.maxHeight=Object(n.c)(t)),r&&(s.maxWidth=Object(n.c)(r))}this._lastBoundingBoxSize=i,D(this._boundingBox.style,s)}_resetBoundingBoxStyles(){D(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){D(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,e){const i={};if(this._hasExactPosition()){const n=this._viewportRuler.getViewportScrollPosition();D(i,this._getExactOverlayY(e,t,n)),D(i,this._getExactOverlayX(e,t,n))}else i.position="static";let n="",s=this._getOffset(e,"x"),r=this._getOffset(e,"y");s&&(n+=`translateX(${s}px) `),r&&(n+=`translateY(${r}px)`),i.transform=n.trim(),this._hasFlexibleDimensions&&this._overlayRef.getConfig().maxHeight&&(i.maxHeight=""),this._hasFlexibleDimensions&&this._overlayRef.getConfig().maxWidth&&(i.maxWidth=""),D(this._pane.style,i)}_getExactOverlayY(t,e,i){let s={top:null,bottom:null},r=this._getOverlayPoint(e,this._overlayRect,t);this._isPushed&&(r=this._pushOverlayOnScreen(r,this._overlayRect,i));let o=this._overlayContainer.getContainerElement().getBoundingClientRect().top;return r.y-=o,"bottom"===t.overlayY?s.bottom=`${this._document.documentElement.clientHeight-(r.y+this._overlayRect.height)}px`:s.top=Object(n.c)(r.y),s}_getExactOverlayX(t,e,i){let s,r={left:null,right:null},o=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,i)),"right"==(s=this._isRtl()?"end"===t.overlayX?"left":"right":"end"===t.overlayX?"right":"left")?r.right=`${this._document.documentElement.clientWidth-(o.x+this._overlayRect.width)}px`:r.left=Object(n.c)(o.x),r}_getScrollVisibility(){const t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),i=this._scrollables.map(t=>t.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:w(t,i),isOriginOutsideView:y(t,i),isOverlayClipped:w(e,i),isOverlayOutsideView:y(e,i)}}_subtractOverflows(t,...e){return e.reduce((t,e)=>t-Math.max(e,0),t)}_getNarrowedViewportRect(){const t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+t-this._viewportMargin,bottom:i.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,e){return"x"===e?null==t.offsetX?this._offsetX:t.offsetX:null==t.offsetY?this._offsetY:t.offsetY}_validatePositions(){if(!this._preferredPositions.length)throw Error("FlexibleConnectedPositionStrategy: At least one position is required.");this._preferredPositions.forEach(t=>{E("originX",t.originX),P("originY",t.originY),E("overlayX",t.overlayX),P("overlayY",t.overlayY)})}_addPanelClasses(t){this._pane&&Object(n.a)(t).forEach(t=>{""!==t&&-1===this._appliedPanelClasses.indexOf(t)&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){const t=this._origin;return t instanceof o.k?t.nativeElement.getBoundingClientRect():t instanceof HTMLElement?t.getBoundingClientRect():{top:t.y,bottom:t.y,left:t.x,right:t.x,height:0,width:0}}}function D(t,e){for(let i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);return t}class F{constructor(t,e,i,n,s,r,o){this._preferredPositions=[],this._positionStrategy=new I(i,n,s,r,o).withFlexibleDimensions(!1).withPush(!1).withViewportMargin(0),this.withFallbackPosition(t,e)}get _isRtl(){return"rtl"===this._overlayRef.getDirection()}get onPositionChange(){return this._positionStrategy.positionChanges}get positions(){return this._preferredPositions}attach(t){this._overlayRef=t,this._positionStrategy.attach(t),this._direction&&(t.setDirection(this._direction),this._direction=null)}dispose(){this._positionStrategy.dispose()}detach(){this._positionStrategy.detach()}apply(){this._positionStrategy.apply()}recalculateLastPosition(){this._positionStrategy.reapplyLastPosition()}withScrollableContainers(t){this._positionStrategy.withScrollableContainers(t)}withFallbackPosition(t,e,i,n){const s=new k(t,e,i,n);return this._preferredPositions.push(s),this._positionStrategy.withPositions(this._preferredPositions),this}withDirection(t){return this._overlayRef?this._overlayRef.setDirection(t):this._direction=t,this}withOffsetX(t){return this._positionStrategy.withDefaultOffsetX(t),this}withOffsetY(t){return this._positionStrategy.withDefaultOffsetY(t),this}withLockedPosition(t){return this._positionStrategy.withLockedPosition(t),this}withPositions(t){return this._preferredPositions=t.slice(),this._positionStrategy.withPositions(this._preferredPositions),this}setOrigin(t){return this._positionStrategy.setOrigin(t),this}}const L="cdk-global-overlay-wrapper";class G{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}attach(t){const e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add(L),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._rightOffset="",this._leftOffset=t,this._justifyContent="flex-start",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._leftOffset="",this._rightOffset=t,this._justifyContent="flex-end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._justifyContent="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig();t.position=this._cssPosition,t.marginLeft="100%"===i.width?"0":this._leftOffset,t.marginTop="100%"===i.height?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=this._rightOffset,"100%"===i.width?e.justifyContent="flex-start":"center"===this._justifyContent?e.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?e.justifyContent="flex-end":"flex-end"===this._justifyContent&&(e.justifyContent="flex-start"):e.justifyContent=this._justifyContent,e.alignItems="100%"===i.height?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,i=e.style;e.classList.remove(L),i.justifyContent=i.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}}let N=(()=>{class t{constructor(t,e,i,n){this._viewportRuler=t,this._document=e,this._platform=i,this._overlayContainer=n}global(){return new G}connectedTo(t,e,i){return new F(e,i,t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}flexibleConnectedTo(t){return new I(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return t.ngInjectableDef=Object(o.Ub)({factory:function(){return new t(Object(o.Vb)(s.d),Object(o.Vb)(r.d),Object(o.Vb)(p.a),Object(o.Vb)(R))},token:t,providedIn:"root"}),t})(),j=0;class V{constructor(t,e,i,n,s,r,o,a,l,h){this.scrollStrategies=t,this._overlayContainer=e,this._componentFactoryResolver=i,this._positionBuilder=n,this._keyboardDispatcher=s,this._injector=r,this._ngZone=o,this._document=a,this._directionality=l,this._location=h}create(t){const e=this._createHostElement(),i=this._createPaneElement(e),n=this._createPortalOutlet(i),s=new C(t);return s.direction=s.direction||this._directionality.value,new M(n,e,i,s,this._ngZone,this._keyboardDispatcher,this._document,this._location)}position(){return this._positionBuilder}_createPaneElement(t){const e=this._document.createElement("div");return e.id=`cdk-overlay-${j++}`,e.classList.add("cdk-overlay-pane"),t.appendChild(e),e}_createHostElement(){const t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(o.g)),new f.d(t,this._componentFactoryResolver,this._appRef,this._injector)}}const B=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],U=new o.p("cdk-connected-overlay-scroll-strategy");class z{constructor(t){this.elementRef=t}}class H{constructor(t,e,i,n,s){this._overlay=t,this._dir=s,this._hasBackdrop=!1,this._lockPosition=!1,this._growAfterOpen=!1,this._flexibleDimensions=!1,this._push=!1,this._backdropSubscription=l.a.EMPTY,this.viewportMargin=0,this.open=!1,this.backdropClick=new o.m,this.positionChange=new o.m,this.attach=new o.m,this.detach=new o.m,this.overlayKeydown=new o.m,this._templatePortal=new f.g(e,i),this._scrollStrategyFactory=n,this.scrollStrategy=this._scrollStrategyFactory()}get offsetX(){return this._offsetX}set offsetX(t){this._offsetX=t,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(t){this._offsetY=t,this._position&&this._updatePositionStrategy(this._position)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(t){this._hasBackdrop=Object(n.b)(t)}get lockPosition(){return this._lockPosition}set lockPosition(t){this._lockPosition=Object(n.b)(t)}get flexibleDimensions(){return this._flexibleDimensions}set flexibleDimensions(t){this._flexibleDimensions=Object(n.b)(t)}get growAfterOpen(){return this._growAfterOpen}set growAfterOpen(t){this._growAfterOpen=Object(n.b)(t)}get push(){return this._push}set push(t){this._push=Object(n.b)(t)}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._overlayRef&&this._overlayRef.dispose(),this._backdropSubscription.unsubscribe()}ngOnChanges(t){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),t.origin&&this.open&&this._position.apply()),t.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){this.positions&&this.positions.length||(this.positions=B),this._overlayRef=this._overlay.create(this._buildConfig()),this._overlayRef.keydownEvents().subscribe(t=>{this.overlayKeydown.next(t),t.keyCode!==g.e||Object(g.q)(t)||(t.preventDefault(),this._detachOverlay())})}_buildConfig(){const t=this._position=this._createPositionStrategy(),e=new C({direction:this._dir,positionStrategy:t,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop});return(this.width||0===this.width)&&(e.width=this.width),(this.height||0===this.height)&&(e.height=this.height),(this.minWidth||0===this.minWidth)&&(e.minWidth=this.minWidth),(this.minHeight||0===this.minHeight)&&(e.minHeight=this.minHeight),this.backdropClass&&(e.backdropClass=this.backdropClass),this.panelClass&&(e.panelClass=this.panelClass),e}_updatePositionStrategy(t){const e=this.positions.map(t=>({originX:t.originX,originY:t.originY,overlayX:t.overlayX,overlayY:t.overlayY,offsetX:t.offsetX||this.offsetX,offsetY:t.offsetY||this.offsetY,panelClass:t.panelClass||void 0}));return t.setOrigin(this.origin.elementRef).withPositions(e).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition)}_createPositionStrategy(){const t=this._overlay.position().flexibleConnectedTo(this.origin.elementRef);return this._updatePositionStrategy(t),t.positionChanges.subscribe(t=>this.positionChange.emit(t)),t}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||(this._overlayRef.attach(this._templatePortal),this.attach.emit()),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(t=>{this.backdropClick.emit(t)}):this._backdropSubscription.unsubscribe()}_detachOverlay(){this._overlayRef&&(this._overlayRef.detach(),this.detach.emit()),this._backdropSubscription.unsubscribe()}}function Y(t){return()=>t.scrollStrategies.reposition()}class W{}},RUZL:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i("13ei"),s=i("nLhi");function r(t){return s.Util._isString(t)?'"'+t+'"':"[object Number]"===Object.prototype.toString.call(t)?t:s.Util._isBoolean(t)?t:Object.prototype.toString.call(t)}e.RGBComponent=function(t){return t>255?255:t<0?0:Math.round(t)},e.alphaComponent=function(t){return t>1?1:t<1e-4?1e-4:t},e.getNumberValidator=function(){if(n.Konva.isUnminified)return function(t,e){return s.Util._isNumber(t)||s.Util.warn(r(t)+' is a not valid value for "'+e+'" attribute. The value should be a number.'),t}},e.getNumberOrAutoValidator=function(){if(n.Konva.isUnminified)return function(t,e){return s.Util._isNumber(t)||"auto"===t||s.Util.warn(r(t)+' is a not valid value for "'+e+'" attribute. The value should be a number or "auto".'),t}},e.getStringValidator=function(){if(n.Konva.isUnminified)return function(t,e){return s.Util._isString(t)||s.Util.warn(r(t)+' is a not valid value for "'+e+'" attribute. The value should be a string.'),t}},e.getFunctionValidator=function(){if(n.Konva.isUnminified)return function(t,e){return s.Util._isFunction(t)||s.Util.warn(r(t)+' is a not valid value for "'+e+'" attribute. The value should be a function.'),t}},e.getNumberArrayValidator=function(){if(n.Konva.isUnminified)return function(t,e){return s.Util._isArray(t)?t.forEach(function(t){s.Util._isNumber(t)||s.Util.warn('"'+e+'" attribute has non numeric element '+t+". Make sure that all elements are numbers.")}):s.Util.warn(r(t)+' is a not valid value for "'+e+'" attribute. The value should be a array of numbers.'),t}},e.getBooleanValidator=function(){if(n.Konva.isUnminified)return function(t,e){return!0===t||!1===t||s.Util.warn(r(t)+' is a not valid value for "'+e+'" attribute. The value should be a boolean.'),t}},e.getComponentValidator=function(t){if(n.Konva.isUnminified)return function(e,i){return s.Util.isObject(e)||s.Util.warn(r(e)+' is a not valid value for "'+i+'" attribute. The value should be an object with properties '+t),e}}},Rh49:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i("8LQ0"),s=i("SXH2"),r=i("RUZL");e.HSV=function(t){var e,i,n,s,r,o=t.data,a=o.length,l=Math.pow(2,this.value()),h=Math.pow(2,this.saturation()),c=Math.abs(this.hue()+360)%360,u=l*h*Math.cos(c*Math.PI/180),d=l*h*Math.sin(c*Math.PI/180),p=.299*l+.701*u+.167*d,f=.587*l-.587*u+.33*d,g=.114*l-.114*u-.497*d,_=.299*l-.299*u-.328*d,m=.587*l+.413*u+.035*d,b=.114*l-.114*u+.293*d,v=.299*l-.3*u+1.25*d,y=.587*l-.586*u-1.05*d,w=.114*l+.886*u-.2*d;for(e=0;e<a;e+=4)r=o[e+3],o[e+0]=p*(i=o[e+0])+f*(n=o[e+1])+g*(s=o[e+2]),o[e+1]=_*i+m*n+b*s,o[e+2]=v*i+y*n+w*s,o[e+3]=r},n.Factory.addGetterSetter(s.Node,"hue",0,r.getNumberValidator(),n.Factory.afterSetFilter),n.Factory.addGetterSetter(s.Node,"saturation",0,r.getNumberValidator(),n.Factory.afterSetFilter),n.Factory.addGetterSetter(s.Node,"value",0,r.getNumberValidator(),n.Factory.afterSetFilter)},SXH2:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i("nLhi"),s=i("8LQ0"),r=i("9lVk"),o=i("13ei"),a=i("35O5"),l=i("RUZL");e.ids={},e.names={},e._removeId=function(t,i){t&&e.ids[t]===i&&delete e.ids[t]},e._addName=function(t,i){i&&(e.names[i]||(e.names[i]=[]),e.names[i].push(t))},e._removeName=function(t,i){if(t){var n=e.names[t];if(n){for(var s=0;s<n.length;s++)n[s]._id===i&&n.splice(s,1);0===n.length&&delete e.names[t]}}};var h="absoluteOpacity",c="absoluteTransform",u="absoluteScale",d="listening",p="transform",f="visible",g=["id"],_=["xChange.konva","yChange.konva","scaleXChange.konva","scaleYChange.konva","skewXChange.konva","skewYChange.konva","rotationChange.konva","offsetXChange.konva","offsetYChange.konva","transformsEnabledChange.konva"].join(" "),m=["scaleXChange.konva","scaleYChange.konva"].join(" "),b=new n.Collection,v=1,y=function(){function t(t){var e=this;this._id=v++,this.eventListeners={},this.attrs={},this.index=0,this.parent=null,this._cache=new Map,this._lastPos=null,this._filterUpToDate=!1,this._isUnderCache=!1,this.children=b,this._dragEventId=null,this.setAttrs(t),this.on(_,function(){e._clearCache(p),e._clearSelfAndDescendantCache(c)}),this.on(m,function(){e._clearSelfAndDescendantCache(u)}),this.on("visibleChange.konva",function(){e._clearSelfAndDescendantCache(f)}),this.on("listeningChange.konva",function(){e._clearSelfAndDescendantCache(d)}),this.on("opacityChange.konva",function(){e._clearSelfAndDescendantCache(h)})}return t.prototype.hasChildren=function(){return!1},t.prototype.getChildren=function(){return b},t.prototype._clearCache=function(t){t?this._cache.delete(t):this._cache.clear()},t.prototype._getCache=function(t,e){var i=this._cache.get(t);return void 0===i&&(i=e.call(this),this._cache.set(t,i)),i},t.prototype._getCanvasCache=function(){return this._cache.get("canvas")},t.prototype._clearSelfAndDescendantCache=function(t){this._clearCache(t),this._getCanvasCache()||this.children&&this.children.each(function(e){e._clearSelfAndDescendantCache(t)})},t.prototype.clearCache=function(){return this._cache.delete("canvas"),this._clearSelfAndDescendantCache(),this},t.prototype.cache=function(t){var e=t||{},i={};void 0!==e.x&&void 0!==e.y&&void 0!==e.width&&void 0!==e.height||(i=this.getClientRect({skipTransform:!0,relativeTo:this.getParent()}));var s=e.width||i.width,o=e.height||i.height,a=e.pixelRatio,l=void 0===e.x?i.x:e.x,c=void 0===e.y?i.y:e.y,d=e.offset||0,p=e.drawBorder||!1;if(s&&o){l-=d,c-=d;var f=new r.SceneCanvas({pixelRatio:a,width:s+=2*d,height:o+=2*d}),g=new r.SceneCanvas({pixelRatio:a,width:s,height:o}),_=new r.HitCanvas({pixelRatio:1,width:s,height:o}),m=f.getContext(),b=_.getContext();return _.isCache=!0,this._cache.delete("canvas"),this._filterUpToDate=!1,!1===e.imageSmoothingEnabled&&(f.getContext()._context.imageSmoothingEnabled=!1,g.getContext()._context.imageSmoothingEnabled=!1,_.getContext()._context.imageSmoothingEnabled=!1),m.save(),b.save(),m.translate(-l,-c),b.translate(-l,-c),this._isUnderCache=!0,this._clearSelfAndDescendantCache(h),this._clearSelfAndDescendantCache(u),this.drawScene(f,this,!0),this.drawHit(_,this,!0),this._isUnderCache=!1,m.restore(),b.restore(),p&&(m.save(),m.beginPath(),m.rect(0,0,s,o),m.closePath(),m.setAttr("strokeStyle","red"),m.setAttr("lineWidth",5),m.stroke(),m.restore()),this._cache.set("canvas",{scene:f,filter:g,hit:_,x:l,y:c}),this}n.Util.error("Can not cache the node. Width or height of the node equals 0. Caching is skipped.")},t.prototype.isCached=function(){return this._cache.has("canvas")},t.prototype.getClientRect=function(t){throw new Error('abstract "getClientRect" method call')},t.prototype._transformedRect=function(t,e){var i,n,s,r,o=[{x:t.x,y:t.y},{x:t.x+t.width,y:t.y},{x:t.x+t.width,y:t.y+t.height},{x:t.x,y:t.y+t.height}],a=this.getAbsoluteTransform(e);return o.forEach(function(t){var e=a.point(t);void 0===i&&(i=s=e.x,n=r=e.y),i=Math.min(i,e.x),n=Math.min(n,e.y),s=Math.max(s,e.x),r=Math.max(r,e.y)}),{x:i,y:n,width:s-i,height:r-n}},t.prototype._drawCachedSceneCanvas=function(t){t.save(),t._applyOpacity(this),t._applyGlobalCompositeOperation(this);var e=this._getCanvasCache();t.translate(e.x,e.y);var i=this._getCachedSceneCanvas(),n=i.pixelRatio;t.drawImage(i._canvas,0,0,i.width/n,i.height/n),t.restore()},t.prototype._drawCachedHitCanvas=function(t){var e=this._getCanvasCache(),i=e.hit;t.save(),t._applyGlobalCompositeOperation(this),t.translate(e.x,e.y),t.drawImage(i._canvas,0,0),t.restore()},t.prototype._getCachedSceneCanvas=function(){var t,e,i,s,r=this.filters(),o=this._getCanvasCache(),a=o.scene,l=o.filter,h=l.getContext();if(r){if(!this._filterUpToDate){var c=a.pixelRatio;try{for(t=r.length,h.clear(),h.drawImage(a._canvas,0,0,a.getWidth()/c,a.getHeight()/c),e=h.getImageData(0,0,l.getWidth(),l.getHeight()),i=0;i<t;i++)"function"==typeof(s=r[i])?(s.call(this,e),h.putImageData(e,0,0)):n.Util.error("Filter should be type of function, but got "+typeof s+" insted. Please check correct filters")}catch(u){n.Util.error("Unable to apply filter. "+u.message)}this._filterUpToDate=!0}return l}return a},t.prototype.on=function(t,e){if(3===arguments.length)return this._delegate.apply(this,arguments);var i,n,s,r,o=t.split(" "),a=o.length;for(i=0;i<a;i++)r=(n=o[i].split("."))[1]||"",this.eventListeners[s=n[0]]||(this.eventListeners[s]=[]),this.eventListeners[s].push({name:r,handler:e});return this},t.prototype.off=function(t,e){var i,n,s,r,o,a=(t||"").split(" "),l=a.length;if(!t)for(n in this.eventListeners)this._off(n);for(i=0;i<l;i++)if(o=(s=a[i].split("."))[1],r=s[0])this.eventListeners[r]&&this._off(r,o,e);else for(n in this.eventListeners)this._off(n,o,e);return this},t.prototype.dispatchEvent=function(t){return this.fire(t.type,{target:this,type:t.type,evt:t}),this},t.prototype.addEventListener=function(t,e){return this.on(t,function(t){e.call(this,t.evt)}),this},t.prototype.removeEventListener=function(t){return this.off(t),this},t.prototype._delegate=function(t,e,i){var s=this;this.on(t,function(t){for(var r=t.target.findAncestors(e,!0,s),o=0;o<r.length;o++)(t=n.Util.cloneObject(t)).currentTarget=r[o],i.call(r[o],t)})},t.prototype.remove=function(){return this.isDragging()&&this.stopDrag(),a.DD._dragElements.delete(this._id),this._remove(),this},t.prototype._remove=function(){this._clearSelfAndDescendantCache("stage"),this._clearSelfAndDescendantCache(c),this._clearSelfAndDescendantCache(f),this._clearSelfAndDescendantCache(d),this._clearSelfAndDescendantCache(h);var t=this.getParent();t&&t.children&&(t.children.splice(this.index,1),t._setChildrenIndices(),this.parent=null)},t.prototype.destroy=function(){e._removeId(this.id(),this);for(var t=(this.name()||"").split(/\s/g),i=0;i<t.length;i++)e._removeName(t[i],this._id);return this.remove(),this},t.prototype.getAttr=function(t){var e="get"+n.Util._capitalize(t);return n.Util._isFunction(this[e])?this[e]():this.attrs[t]},t.prototype.getAncestors=function(){for(var t=this.getParent(),e=new n.Collection;t;)e.push(t),t=t.getParent();return e},t.prototype.getAttrs=function(){return this.attrs||{}},t.prototype.setAttrs=function(t){var e,i;if(!t)return this;for(e in t)"children"!==e&&(i="set"+n.Util._capitalize(e),n.Util._isFunction(this[i])?this[i](t[e]):this._setAttr(e,t[e]));return this},t.prototype.isListening=function(){return this._getCache(d,this._isListening)},t.prototype._isListening=function(){var t=this.listening(),e=this.getParent();return"inherit"===t?!e||e.isListening():t},t.prototype.isVisible=function(){return this._getCache(f,this._isVisible)},t.prototype._isVisible=function(t){var e=this.visible(),i=this.getParent();return"inherit"===e?!i||i===t||i._isVisible(t):e},t.prototype.shouldDrawHit=function(){var t=this.getLayer();return!t&&this.isListening()&&this.isVisible()||t&&t.hitGraphEnabled()&&this.isListening()&&this.isVisible()},t.prototype.show=function(){return this.visible(!0),this},t.prototype.hide=function(){return this.visible(!1),this},t.prototype.getZIndex=function(){return this.index||0},t.prototype.getAbsoluteZIndex=function(){var t,e,i,n,s=this.getDepth(),r=this,o=0;return"Stage"!==r.nodeType&&function a(l){for(t=[],e=l.length,i=0;i<e;i++)o++,"Shape"!==(n=l[i]).nodeType&&(t=t.concat(n.getChildren().toArray())),n._id===r._id&&(i=e);t.length>0&&t[0].getDepth()<=s&&a(t)}(r.getStage().getChildren()),o},t.prototype.getDepth=function(){for(var t=0,e=this.parent;e;)t++,e=e.parent;return t},t.prototype.setPosition=function(t){return this.x(t.x),this.y(t.y),this},t.prototype.getPosition=function(){return{x:this.x(),y:this.y()}},t.prototype.getAbsolutePosition=function(t){var e=this.getAbsoluteTransform(t).getMatrix(),i=new n.Transform,s=this.offset();return i.m=e.slice(),i.translate(s.x,s.y),i.getTranslation()},t.prototype.setAbsolutePosition=function(t){var e,i=this._clearTransform();return this.attrs.x=i.x,this.attrs.y=i.y,delete i.x,delete i.y,(e=this.getAbsoluteTransform()).invert(),e.translate(t.x,t.y),t={x:this.attrs.x+e.getTranslation().x,y:this.attrs.y+e.getTranslation().y},this.setPosition({x:t.x,y:t.y}),this._setTransform(i),this},t.prototype._setTransform=function(t){var e;for(e in t)this.attrs[e]=t[e];this._clearCache(p),this._clearSelfAndDescendantCache(c)},t.prototype._clearTransform=function(){var t={x:this.x(),y:this.y(),rotation:this.rotation(),scaleX:this.scaleX(),scaleY:this.scaleY(),offsetX:this.offsetX(),offsetY:this.offsetY(),skewX:this.skewX(),skewY:this.skewY()};return this.attrs.x=0,this.attrs.y=0,this.attrs.rotation=0,this.attrs.scaleX=1,this.attrs.scaleY=1,this.attrs.offsetX=0,this.attrs.offsetY=0,this.attrs.skewX=0,this.attrs.skewY=0,this._clearCache(p),this._clearSelfAndDescendantCache(c),t},t.prototype.move=function(t){var e=t.x,i=t.y,n=this.x(),s=this.y();return void 0!==e&&(n+=e),void 0!==i&&(s+=i),this.setPosition({x:n,y:s}),this},t.prototype._eachAncestorReverse=function(t,e){var i,n,s=[],r=this.getParent();if(e&&e._id===this._id)t(this);else{for(s.unshift(this);r&&(!e||r._id!==e._id);)s.unshift(r),r=r.parent;for(i=s.length,n=0;n<i;n++)t(s[n])}},t.prototype.rotate=function(t){return this.rotation(this.rotation()+t),this},t.prototype.moveToTop=function(){return this.parent?(this.parent.children.splice(this.index,1),this.parent.children.push(this),this.parent._setChildrenIndices(),!0):(n.Util.warn("Node has no parent. moveToTop function is ignored."),!1)},t.prototype.moveUp=function(){if(!this.parent)return n.Util.warn("Node has no parent. moveUp function is ignored."),!1;var t=this.index;return t<this.parent.getChildren().length-1&&(this.parent.children.splice(t,1),this.parent.children.splice(t+1,0,this),this.parent._setChildrenIndices(),!0)},t.prototype.moveDown=function(){if(!this.parent)return n.Util.warn("Node has no parent. moveDown function is ignored."),!1;var t=this.index;return t>0&&(this.parent.children.splice(t,1),this.parent.children.splice(t-1,0,this),this.parent._setChildrenIndices(),!0)},t.prototype.moveToBottom=function(){if(!this.parent)return n.Util.warn("Node has no parent. moveToBottom function is ignored."),!1;var t=this.index;return t>0&&(this.parent.children.splice(t,1),this.parent.children.unshift(this),this.parent._setChildrenIndices(),!0)},t.prototype.setZIndex=function(t){return this.parent?((t<0||t>=this.parent.children.length)&&n.Util.warn("Unexpected value "+t+" for zIndex property. zIndex is just index of a node in children of its parent. Expected value is from 0 to "+(this.parent.children.length-1)+"."),this.parent.children.splice(this.index,1),this.parent.children.splice(t,0,this),this.parent._setChildrenIndices(),this):(n.Util.warn("Node has no parent. zIndex parameter is ignored."),this)},t.prototype.getAbsoluteOpacity=function(){return this._getCache(h,this._getAbsoluteOpacity)},t.prototype._getAbsoluteOpacity=function(){var t=this.opacity(),e=this.getParent();return e&&!e._isUnderCache&&(t*=e.getAbsoluteOpacity()),t},t.prototype.moveTo=function(t){return this.getParent()!==t&&(this._remove(),t.add(this)),this},t.prototype.toObject=function(){var t,e,i,s,r={},o=this.getAttrs();for(t in r.attrs={},o)n.Util.isObject(e=o[t])&&!n.Util._isPlainObject(e)&&!n.Util._isArray(e)||(i="function"==typeof this[t]&&this[t],delete o[t],s=i?i.call(this):null,o[t]=e,s!==e&&(r.attrs[t]=e));return r.className=this.getClassName(),n.Util._prepareToStringify(r)},t.prototype.toJSON=function(){return JSON.stringify(this.toObject())},t.prototype.getParent=function(){return this.parent},t.prototype.findAncestors=function(t,e,i){var n=[];e&&this._isMatch(t)&&n.push(this);for(var s=this.parent;s;){if(s===i)return n;s._isMatch(t)&&n.push(s),s=s.parent}return n},t.prototype.isAncestorOf=function(t){return!1},t.prototype.findAncestor=function(t,e,i){return this.findAncestors(t,e,i)[0]},t.prototype._isMatch=function(t){if(!t)return!1;if("function"==typeof t)return t(this);var e,i,s=t.replace(/ /g,"").split(","),r=s.length;for(e=0;e<r;e++)if(n.Util.isValidSelector(i=s[e])||(n.Util.warn('Selector "'+i+'" is invalid. Allowed selectors examples are "#foo", ".bar" or "Group".'),n.Util.warn('If you have a custom shape with such className, please change it to start with upper letter like "Triangle".'),n.Util.warn("Konva is awesome, right?")),"#"===i.charAt(0)){if(this.id()===i.slice(1))return!0}else if("."===i.charAt(0)){if(this.hasName(i.slice(1)))return!0}else if(this.className===t||this.nodeType===t)return!0;return!1},t.prototype.getLayer=function(){var t=this.getParent();return t?t.getLayer():null},t.prototype.getStage=function(){return this._getCache("stage",this._getStage)},t.prototype._getStage=function(){var t=this.getParent();return t?t.getStage():void 0},t.prototype.fire=function(t,e,i){return(e=e||{}).target=e.target||this,i?this._fireAndBubble(t,e):this._fire(t,e),this},t.prototype.getAbsoluteTransform=function(t){return t?this._getAbsoluteTransform(t):this._getCache(c,this._getAbsoluteTransform)},t.prototype._getAbsoluteTransform=function(t){var e=new n.Transform;return this._eachAncestorReverse(function(t){var i=t.getTransformsEnabled();"all"===i?e.multiply(t.getTransform()):"position"===i&&e.translate(t.getX()-t.getOffsetX(),t.getY()-t.getOffsetY())},t),e},t.prototype.getAbsoluteScale=function(t){return t?this._getAbsoluteScale(t):this._getCache(u,this._getAbsoluteScale)},t.prototype._getAbsoluteScale=function(t){for(var e=this;e;)e._isUnderCache&&(t=e),e=e.getParent();var i=1,n=1;return this._eachAncestorReverse(function(t){i*=t.scaleX(),n*=t.scaleY()},t),{x:i,y:n}},t.prototype.getTransform=function(){return this._getCache(p,this._getTransform)},t.prototype._getTransform=function(){var t=new n.Transform,e=this.x(),i=this.y(),s=o.Konva.getAngle(this.rotation()),r=this.scaleX(),a=this.scaleY(),l=this.skewX(),h=this.skewY(),c=this.offsetX(),u=this.offsetY();return 0===e&&0===i||t.translate(e,i),0!==s&&t.rotate(s),0===l&&0===h||t.skew(l,h),1===r&&1===a||t.scale(r,a),0===c&&0===u||t.translate(-1*c,-1*u),t},t.prototype.clone=function(t){var e,i,s,r,o,a=n.Util.cloneObject(this.attrs);for(var l in g)delete a[g[l]];for(e in t)a[e]=t[e];var h=new this.constructor(a);for(e in this.eventListeners)for(s=(i=this.eventListeners[e]).length,r=0;r<s;r++)(o=i[r]).name.indexOf("konva")<0&&(h.eventListeners[e]||(h.eventListeners[e]=[]),h.eventListeners[e].push(o));return h},t.prototype._toKonvaCanvas=function(t){t=t||{};var e=this.getClientRect(),i=this.getStage(),n=void 0!==t.x?t.x:e.x,s=void 0!==t.y?t.y:e.y,o=t.pixelRatio||1,a=new r.SceneCanvas({width:t.width||e.width||(i?i.width():0),height:t.height||e.height||(i?i.height():0),pixelRatio:o}),l=a.getContext();return l.save(),(n||s)&&l.translate(-1*n,-1*s),this.drawScene(a),l.restore(),a},t.prototype.toCanvas=function(t){return this._toKonvaCanvas(t)._canvas},t.prototype.toDataURL=function(t){var e=(t=t||{}).mimeType||null,i=t.quality||null,n=this._toKonvaCanvas(t).toDataURL(e,i);return t.callback&&t.callback(n),n},t.prototype.toImage=function(t){if(!t||!t.callback)throw"callback required for toImage method config argument";var e=t.callback;delete t.callback,n.Util._urlToImage(this.toDataURL(t),function(t){e(t)})},t.prototype.setSize=function(t){return this.width(t.width),this.height(t.height),this},t.prototype.getSize=function(){return{width:this.width(),height:this.height()}},t.prototype.getClassName=function(){return this.className||this.nodeType},t.prototype.getType=function(){return this.nodeType},t.prototype.getDragDistance=function(){return void 0!==this.attrs.dragDistance?this.attrs.dragDistance:this.parent?this.parent.getDragDistance():o.Konva.dragDistance},t.prototype._off=function(t,e,i){var n,s,r=this.eventListeners[t];for(n=0;n<r.length;n++)if(!("konva"===(s=r[n].name)&&"konva"!==e||e&&s!==e||i&&i!==r[n].handler)){if(r.splice(n,1),0===r.length){delete this.eventListeners[t];break}n--}},t.prototype._fireChangeEvent=function(t,e,i){this._fire(t+"Change",{oldVal:e,newVal:i})},t.prototype.setId=function(t){var i=this.id();return e._removeId(i,this),function(t,i){i&&(e.ids[i]=t)}(this,t),this._setAttr("id",t),this},t.prototype.setName=function(t){var i,n,s=(this.name()||"").split(/\s/g),r=(t||"").split(/\s/g);for(n=0;n<s.length;n++)-1===r.indexOf(i=s[n])&&i&&e._removeName(i,this._id);for(n=0;n<r.length;n++)-1===s.indexOf(i=r[n])&&i&&e._addName(this,i);return this._setAttr("name",t),this},t.prototype.addName=function(t){if(!this.hasName(t)){var e=this.name();this.setName(e?e+" "+t:t)}return this},t.prototype.hasName=function(t){if(!t)return!1;var e=this.name();return!!e&&-1!==(e||"").split(/\s/g).indexOf(t)},t.prototype.removeName=function(t){var e=(this.name()||"").split(/\s/g),i=e.indexOf(t);return-1!==i&&(e.splice(i,1),this.setName(e.join(" "))),this},t.prototype.setAttr=function(t,e){var i=this["set"+n.Util._capitalize(t)];return n.Util._isFunction(i)?i.call(this,e):this._setAttr(t,e),this},t.prototype._setAttr=function(t,e){var i=this.attrs[t];(i!==e||n.Util.isObject(e))&&(null==e?delete this.attrs[t]:this.attrs[t]=e,this._fireChangeEvent(t,i,e))},t.prototype._setComponentAttr=function(t,e,i){var n;void 0!==i&&((n=this.attrs[t])||(this.attrs[t]=this.getAttr(t)),this.attrs[t][e]=i,this._fireChangeEvent(t,n,i))},t.prototype._fireAndBubble=function(t,e,i){if(e&&"Shape"===this.nodeType&&(e.target=this),"mouseenter"!==t&&"mouseleave"!==t||!(i&&(this===i||this.isAncestorOf&&this.isAncestorOf(i))||"Stage"===this.nodeType&&!i)){this._fire(t,e);var n=("mouseenter"===t||"mouseleave"===t)&&i&&i.isAncestorOf&&i.isAncestorOf(this)&&!i.isAncestorOf(this.parent);(e&&!e.cancelBubble||!e)&&this.parent&&this.parent.isListening()&&!n&&(i&&i.parent?this._fireAndBubble.call(this.parent,t,e,i.parent):this._fireAndBubble.call(this.parent,t,e))}},t.prototype._fire=function(t,e){var i,n=this.eventListeners[t];if(n)for((e=e||{}).currentTarget=this,e.type=t,i=0;i<n.length;i++)n[i].handler.call(this,e)},t.prototype.draw=function(){return this.drawScene(),this.drawHit(),this},t.prototype.startDrag=function(t){var e=!t,i=t?t.pointerId:void 0,n=this.getStage()._getPointerById(i),s=this.getAbsolutePosition();(n||e)&&a.DD._dragElements.set(this._id,{node:this,startPointerPos:n,offset:e?{x:0,y:0}:{x:n.x-s.x,y:n.y-s.y},isDragging:!!e,pointerId:i,dragStopped:!1})},t.prototype._setDragPosition=function(t,e){var i=this.getStage()._getPointerById(e.pointerId),n=this.dragBoundFunc();if(i){var s={x:i.x-e.offset.x,y:i.y-e.offset.y};void 0!==n&&(s=n.call(this,s,t)),this._lastPos&&this._lastPos.x===s.x&&this._lastPos.y===s.y||(this.setAbsolutePosition(s),this.getLayer()?this.getLayer().batchDraw():this.getStage()&&this.getStage().batchDraw()),this._lastPos=s}},t.prototype.stopDrag=function(){var t={},e=a.DD._dragElements.get(this._id);e&&(e.dragStopped=!0),a.DD._endDragBefore(t),a.DD._endDragAfter(t)},t.prototype.setDraggable=function(t){this._setAttr("draggable",t),this._dragChange()},t.prototype.isDragging=function(){var t=a.DD._dragElements.get(this._id);return!!t&&t.isDragging},t.prototype._listenDrag=function(){this._dragCleanup(),this.on("mousedown.konva touchstart.konva",function(t){var e=this;if((void 0===t.evt.button||o.Konva.dragButtons.indexOf(t.evt.button)>=0)&&!this.isDragging()){var i=!1;a.DD._dragElements.forEach(function(t){e.isAncestorOf(t.node)&&(i=!0)}),i||this.startDrag(t)}})},t.prototype._dragChange=function(){this.attrs.draggable?this._listenDrag():(this._dragCleanup(),this.getStage()&&a.DD._dragElements.has(this._id)&&this.stopDrag())},t.prototype._dragCleanup=function(){this.off("mousedown.konva"),this.off("touchstart.konva")},t.create=function(t,e){return n.Util._isString(t)&&(t=JSON.parse(t)),this._createNode(t,e)},t._createNode=function(e,i){var s,r,a,l=t.prototype.getClassName.call(e),h=e.children;if(i&&(e.attrs.container=i),o._NODES_REGISTRY[l]||(n.Util.warn('Can not find a node with class name "'+l+'". Fallback to "Shape".'),l="Shape"),s=new(0,o._NODES_REGISTRY[l])(e.attrs),h)for(r=h.length,a=0;a<r;a++)s.add(t._createNode(h[a]));return s},t}();e.Node=y,y.prototype.nodeType="Node",y.prototype._attrsAffectingSize=[],s.Factory.addGetterSetter(y,"zIndex"),s.Factory.addGetterSetter(y,"absolutePosition"),s.Factory.addGetterSetter(y,"position"),s.Factory.addGetterSetter(y,"x",0,l.getNumberValidator()),s.Factory.addGetterSetter(y,"y",0,l.getNumberValidator()),s.Factory.addGetterSetter(y,"globalCompositeOperation","source-over",l.getStringValidator()),s.Factory.addGetterSetter(y,"opacity",1,l.getNumberValidator()),s.Factory.addGetterSetter(y,"name","",l.getStringValidator()),s.Factory.addGetterSetter(y,"id","",l.getStringValidator()),s.Factory.addGetterSetter(y,"rotation",0,l.getNumberValidator()),s.Factory.addComponentsGetterSetter(y,"scale",["x","y"]),s.Factory.addGetterSetter(y,"scaleX",1,l.getNumberValidator()),s.Factory.addGetterSetter(y,"scaleY",1,l.getNumberValidator()),s.Factory.addComponentsGetterSetter(y,"skew",["x","y"]),s.Factory.addGetterSetter(y,"skewX",0,l.getNumberValidator()),s.Factory.addGetterSetter(y,"skewY",0,l.getNumberValidator()),s.Factory.addComponentsGetterSetter(y,"offset",["x","y"]),s.Factory.addGetterSetter(y,"offsetX",0,l.getNumberValidator()),s.Factory.addGetterSetter(y,"offsetY",0,l.getNumberValidator()),s.Factory.addGetterSetter(y,"dragDistance",null,l.getNumberValidator()),s.Factory.addGetterSetter(y,"width",0,l.getNumberValidator()),s.Factory.addGetterSetter(y,"height",0,l.getNumberValidator()),s.Factory.addGetterSetter(y,"listening","inherit",function(t){return!0===t||!1===t||"inherit"===t||n.Util.warn(t+' is a not valid value for "listening" attribute. The value may be true, false or "inherit".'),t}),s.Factory.addGetterSetter(y,"preventDefault",!0,l.getBooleanValidator()),s.Factory.addGetterSetter(y,"filters",null,function(t){return this._filterUpToDate=!1,t}),s.Factory.addGetterSetter(y,"visible","inherit",function(t){return!0===t||!1===t||"inherit"===t||n.Util.warn(t+' is a not valid value for "visible" attribute. The value may be true, false or "inherit".'),t}),s.Factory.addGetterSetter(y,"transformsEnabled","all",l.getStringValidator()),s.Factory.addGetterSetter(y,"size"),s.Factory.addGetterSetter(y,"dragBoundFunc"),s.Factory.addGetterSetter(y,"draggable",!1,l.getBooleanValidator()),s.Factory.backCompat(y,{rotateDeg:"rotate",setRotationDeg:"setRotation",getRotationDeg:"getRotation"}),n.Collection.mapMethods(y)},VBTO:function(t,e,i){var n=i("mrSG").__extends;Object.defineProperty(e,"__esModule",{value:!0});var s,r=i("nLhi"),o=i("8LQ0"),a=i("/OYL"),l=i("13ei"),h=i("RUZL"),c=i("13ei"),u="Change.konva",d="2d",p=["fontFamily","fontSize","fontStyle","fontVariant","padding","align","verticalAlign","lineHeight","text","width","height","wrap","ellipsis","letterSpacing"],f=p.length;function g(){return s||(s=r.Util.createCanvasElement().getContext(d))}var _=function(t){function e(e){var i=t.call(this,function(t){return(t=t||{}).fillLinearGradientColorStops||t.fillRadialGradientColorStops||t.fillPatternImage||(t.fill=t.fill||"black"),t}(e))||this;i._partialTextX=0,i._partialTextY=0;for(var n=0;n<f;n++)i.on(p[n]+u,i._setTextData);return i._setTextData(),i}return n(e,t),e.prototype._sceneFunc=function(t){var e,i=this.padding(),n=this.fontSize(),s=this.lineHeight()*n,r=this.textArr,o=r.length,a=this.verticalAlign(),l=0,h=this.align(),c=this.getWidth(),u=this.letterSpacing(),d=this.fill(),p=this.textDecoration(),f=-1!==p.indexOf("underline"),g=-1!==p.indexOf("line-through"),_=0,m=(_=s/2,0),b=0;for(t.setAttr("font",this._getContextFont()),t.setAttr("textBaseline","middle"),t.setAttr("textAlign","left"),"middle"===a?l=(this.getHeight()-o*s-2*i)/2:"bottom"===a&&(l=this.getHeight()-o*s-2*i),t.translate(i,l+i),e=0;e<o;e++){m=0,b=0;var v,y,w,S=r[e],x=S.text,C=S.width,k=e!==o-1;if(t.save(),"right"===h?m+=c-C-2*i:"center"===h&&(m+=(c-C-2*i)/2),f&&(t.save(),t.beginPath(),t.moveTo(m,_+b+Math.round(n/2)),y=0==(v=x.split(" ").length-1),w="justify"===h&&k&&!y?c-2*i:C,t.lineTo(m+Math.round(w),_+b+Math.round(n/2)),t.lineWidth=n/15,t.strokeStyle=d,t.stroke(),t.restore()),g&&(t.save(),t.beginPath(),t.moveTo(m,_+b),y=0==(v=x.split(" ").length-1),w="justify"===h&&k&&!y?c-2*i:C,t.lineTo(m+Math.round(w),_+b),t.lineWidth=n/15,t.strokeStyle=d,t.stroke(),t.restore()),0!==u||"justify"===h){v=x.split(" ").length-1;for(var O=0;O<x.length;O++){var P=x[O];" "===P&&e!==o-1&&"justify"===h&&(m+=Math.floor((c-2*i-C)/v)),this._partialTextX=m,this._partialTextY=_+b,this._partialText=P,t.fillStrokeShape(this),m+=Math.round(this.measureSize(P).width)+u}}else this._partialTextX=m,this._partialTextY=_+b,this._partialText=x,t.fillStrokeShape(this);t.restore(),o>1&&(_+=s)}},e.prototype._hitFunc=function(t){var e=this.getWidth(),i=this.getHeight();t.beginPath(),t.rect(0,0,e,i),t.closePath(),t.fillStrokeShape(this)},e.prototype.setText=function(t){var e=r.Util._isString(t)?t:(t||"").toString();return this._setAttr("text",e),this},e.prototype.getWidth=function(){return"auto"===this.attrs.width||void 0===this.attrs.width?this.getTextWidth()+2*this.padding():this.attrs.width},e.prototype.getHeight=function(){return"auto"===this.attrs.height||void 0===this.attrs.height?this.fontSize()*this.textArr.length*this.lineHeight()+2*this.padding():this.attrs.height},e.prototype.getTextWidth=function(){return this.textWidth},e.prototype.getTextHeight=function(){return r.Util.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight},e.prototype.measureSize=function(t){var e,i=g(),n=this.fontSize();return i.save(),i.font=this._getContextFont(),e=i.measureText(t),i.restore(),{width:e.width,height:n}},e.prototype._getContextFont=function(){return l.Konva.UA.isIE?this.fontStyle()+" "+this.fontSize()+"px "+this.fontFamily():this.fontStyle()+" "+this.fontVariant()+" "+this.fontSize()+"px "+this.fontFamily()},e.prototype._addTextLine=function(t){"justify"===this.align()&&(t=t.trim());var e=this._getTextWidth(t);return this.textArr.push({text:t,width:e})},e.prototype._getTextWidth=function(t){var e=this.letterSpacing(),i=t.length;return g().measureText(t).width+(i?e*(i-1):0)},e.prototype._setTextData=function(){var t=this.text().split("\n"),e=+this.fontSize(),i=0,n=this.lineHeight()*e,s=this.attrs.width,r=this.attrs.height,o="auto"!==s&&void 0!==s,a="auto"!==r&&void 0!==r,l=this.padding(),h=s-2*l,c=r-2*l,u=0,d=this.wrap(),p="none"!==d,f="char"!==d&&p,_=this.ellipsis()&&!p;this.textArr=[],g().font=this._getContextFont();for(var m=_?this._getTextWidth("\u2026"):0,b=0,v=t.length;b<v;++b){var y=t[b],w=this._getTextWidth(y);if(o&&w>h)for(;y.length>0;){for(var S=0,x=y.length,C="",k=0;S<x;){var O=S+x>>>1,P=y.slice(0,O+1),E=this._getTextWidth(P)+m;E<=h?(S=O+1,C=P+(_?"\u2026":""),k=E):x=O}if(!C)break;if(f){var T,R=y[C.length];(T=(" "===R||"-"===R)&&k<=h?C.length:Math.max(C.lastIndexOf(" "),C.lastIndexOf("-"))+1)>0&&(C=C.slice(0,S=T),k=this._getTextWidth(C))}if(C=C.trimRight(),this._addTextLine(C),i=Math.max(i,k),u+=n,!p||a&&u+n>c)break;if((y=(y=y.slice(S)).trimLeft()).length>0&&(w=this._getTextWidth(y))<=h){this._addTextLine(y),u+=n,i=Math.max(i,w);break}}else this._addTextLine(y),u+=n,i=Math.max(i,w);if(a&&u+n>c)break}this.textHeight=e,this.textWidth=i},e.prototype.getStrokeScaleEnabled=function(){return!0},e}(a.Shape);e.Text=_,_.prototype._fillFunc=function(t){t.fillText(this._partialText,this._partialTextX,this._partialTextY)},_.prototype._strokeFunc=function(t){t.strokeText(this._partialText,this._partialTextX,this._partialTextY)},_.prototype.className="Text",_.prototype._attrsAffectingSize=["text","fontSize","padding","wrap","lineHeight"],c._registerNode(_),o.Factory.overWriteSetter(_,"width",h.getNumberOrAutoValidator()),o.Factory.overWriteSetter(_,"height",h.getNumberOrAutoValidator()),o.Factory.addGetterSetter(_,"fontFamily","Arial"),o.Factory.addGetterSetter(_,"fontSize",12,h.getNumberValidator()),o.Factory.addGetterSetter(_,"fontStyle","normal"),o.Factory.addGetterSetter(_,"fontVariant","normal"),o.Factory.addGetterSetter(_,"padding",0,h.getNumberValidator()),o.Factory.addGetterSetter(_,"align","left"),o.Factory.addGetterSetter(_,"verticalAlign","top"),o.Factory.addGetterSetter(_,"lineHeight",1,h.getNumberValidator()),o.Factory.addGetterSetter(_,"wrap","word"),o.Factory.addGetterSetter(_,"ellipsis",!1),o.Factory.addGetterSetter(_,"letterSpacing",0,h.getNumberValidator()),o.Factory.addGetterSetter(_,"text","",h.getStringValidator()),o.Factory.addGetterSetter(_,"textDecoration",""),r.Collection.mapMethods(_)},VZdl:function(t,e,i){"use strict";i.d(e,"a",function(){return l});var n=i("EL1w"),s=i("IzEk"),r=i("IY7X"),o=i("XNiG"),a=i("DnKK");class l{constructor(t){this.matDialog=t,this.changes$=new o.a,this.touches$=new o.a,this.isAdmin=!1,this.readonly=!1,this.tables=[],this.availableTables=0,this.anyTableSelected=!1}ngOnInit(){}selectTable(t){this.matDialog.open(n.a,{width:"100vw",maxWidth:"100vw",height:"100vh",panelClass:"dialog-padding-0",data:this.state}).beforeClosed().pipe(Object(s.a)(1)).subscribe(t=>{t&&(this.anyTableSelected=!1,this.writeValue(t))})}registerOnChange(t){this.changes$.pipe(Object(a.a)(this)).subscribe(t)}registerOnTouched(t){this.touches$.pipe(Object(a.a)(this)).subscribe(t)}setDisabledState(t){this.disabled=t}updateValue(t,e=!1){this.state=e?this.tables.find(e=>e.id===t.value):t,this.changes$.next(this.state)}writeValue(t){if(this.state=t,!this.state||this.state.deposit)this.changes$.next(t);else{const e=this.tables.find(e=>e.id===t.id);this.changes$.next(e)}}deleteSelectedTable(t){t.preventDefault(),this.updateValue(null)}ngOnChanges(t){t&&t.tables&&(this.availableTables=t.tables.currentValue.filter(t=>t._numGuestsEnabled&&t.isActive&&t.status!==r.a.BLOCKED).length)}ngOnDestroy(){}}},WHBh:function(t,e,i){"use strict";i.d(e,"a",function(){return n});class n{}},XVrQ:function(t,e,i){var n=i("mrSG").__extends;Object.defineProperty(e,"__esModule",{value:!0});var s=i("nLhi"),r=i("8LQ0"),o=i("/OYL"),a=i("13ei"),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype._sceneFunc=function(t){var e=this.cornerRadius(),i=this.width(),n=this.height();if(t.beginPath(),e){var s=0,r=0,o=0,a=0;"number"==typeof e?s=r=o=a=Math.min(e,i/2,n/2):(s=Math.min(e[0],i/2,n/2),r=Math.min(e[1],i/2,n/2),a=Math.min(e[2],i/2,n/2),o=Math.min(e[3],i/2,n/2)),t.moveTo(s,0),t.lineTo(i-r,0),t.arc(i-r,r,r,3*Math.PI/2,0,!1),t.lineTo(i,n-a),t.arc(i-a,n-a,a,0,Math.PI/2,!1),t.lineTo(o,n),t.arc(o,n-o,o,Math.PI/2,Math.PI,!1),t.lineTo(0,s),t.arc(s,s,s,Math.PI,3*Math.PI/2,!1)}else t.rect(0,0,i,n);t.closePath(),t.fillStrokeShape(this)},e}(o.Shape);e.Rect=l,l.prototype.className="Rect",a._registerNode(l),r.Factory.addGetterSetter(l,"cornerRadius",0),s.Collection.mapMethods(l)},Xd0L:function(t,e,i){"use strict";var n=i("8Y7J");i("cUpR");const s=new n.O("8.1.3");var r=i("KCVW"),o=i("XNiG"),a=(i("HDdC"),i("/HVE")),l=(i("JX91"),i("5GAg")),h=i("dvZr");i.d(e,"j",function(){return d}),i.d(e,"c",function(){return u}),i.d(e,"z",function(){return p}),i.d(e,"x",function(){return f}),i.d(e,"y",function(){return g}),i.d(e,"B",function(){return _}),i.d(e,"A",function(){return m}),i.d(e,"u",function(){return T}),i.d(e,"l",function(){return R}),i.d(e,"e",function(){return b}),i.d(e,"a",function(){return v}),i.d(e,"d",function(){return y}),i.d(e,"t",function(){return P}),i.d(e,"g",function(){return E}),i.d(e,"b",function(){return M}),i.d(e,"k",function(){return A}),i.d(e,"o",function(){return tt}),i.d(e,"v",function(){return q}),i.d(e,"w",function(){return J}),i.d(e,"h",function(){return Z}),i.d(e,"n",function(){return Q}),i.d(e,"m",function(){return X}),i.d(e,"f",function(){return et}),i.d(e,"s",function(){return B}),i.d(e,"i",function(){return j}),i.d(e,"r",function(){return V}),i.d(e,"q",function(){return z}),i.d(e,"p",function(){return U});const c=new n.O("8.1.3"),u=new n.p("mat-sanity-checks",{providedIn:"root",factory:function(){return!0}});class d{constructor(t,e){this._sanityChecksEnabled=t,this._hammerLoader=e,this._hasDoneGlobalChecks=!1,this._hasCheckedHammer=!1,this._document="object"==typeof document&&document?document:null,this._window="object"==typeof window&&window?window:null,this._areChecksEnabled()&&!this._hasDoneGlobalChecks&&(this._checkDoctypeIsDefined(),this._checkThemeIsPresent(),this._checkCdkVersionMatch(),this._hasDoneGlobalChecks=!0)}_areChecksEnabled(){return this._sanityChecksEnabled&&Object(n.Y)()&&!this._isTestEnv()}_isTestEnv(){const t=this._window;return t&&(t.__karma__||t.jasmine)}_checkDoctypeIsDefined(){this._document&&!this._document.doctype&&console.warn("Current document does not have a doctype. This may cause some Angular Material components not to behave as expected.")}_checkThemeIsPresent(){if(!this._document||!this._document.body||"function"!=typeof getComputedStyle)return;const t=this._document.createElement("div");t.classList.add("mat-theme-loaded-marker"),this._document.body.appendChild(t);const e=getComputedStyle(t);e&&"none"!==e.display&&console.warn("Could not find Angular Material core theme. Most Material components may not work as expected. For more info refer to the theming guide: https://material.angular.io/guide/theming"),this._document.body.removeChild(t)}_checkCdkVersionMatch(){c.full!==s.full&&console.warn("The Angular Material version ("+c.full+") does not match the Angular CDK version ("+s.full+").\nPlease ensure the versions of these two packages exactly match.")}_checkHammerIsAvailable(){!this._hasCheckedHammer&&this._window&&(!this._areChecksEnabled()||this._window.Hammer||this._hammerLoader||console.warn("Could not find HammerJS. Certain Angular Material components may not work correctly."),this._hasCheckedHammer=!0)}}function p(t){return class extends t{constructor(...t){super(...t),this._disabled=!1}get disabled(){return this._disabled}set disabled(t){this._disabled=Object(r.b)(t)}}}function f(t,e){return class extends t{get color(){return this._color}set color(t){const i=t||e;i!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),i&&this._elementRef.nativeElement.classList.add(`mat-${i}`),this._color=i)}constructor(...t){super(...t),this.color=e}}}function g(t){return class extends t{constructor(...t){super(...t),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=Object(r.b)(t)}}}function _(t,e=0){return class extends t{constructor(...t){super(...t),this._tabIndex=e}get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(t){this._tabIndex=null!=t?t:e}}}function m(t){return class extends t{constructor(...t){super(...t),this.errorState=!1,this.stateChanges=new o.a}updateErrorState(){const t=this.errorState,e=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);e!==t&&(this.errorState=e,this.stateChanges.next())}}}const b=new n.p("MAT_DATE_LOCALE",{providedIn:"root",factory:function(){return Object(n.X)(n.t)}});class v{constructor(){this._localeChanges=new o.a}get localeChanges(){return this._localeChanges}deserialize(t){return null==t||this.isDateInstance(t)&&this.isValid(t)?t:this.invalid()}setLocale(t){this.locale=t,this._localeChanges.next()}compareDate(t,e){return this.getYear(t)-this.getYear(e)||this.getMonth(t)-this.getMonth(e)||this.getDate(t)-this.getDate(e)}sameDate(t,e){if(t&&e){let i=this.isValid(t),n=this.isValid(e);return i&&n?!this.compareDate(t,e):i==n}return t==e}clampDate(t,e,i){return e&&this.compareDate(t,e)<0?e:i&&this.compareDate(t,i)>0?i:t}}const y=new n.p("mat-date-formats");let w;try{w="undefined"!=typeof Intl}catch(it){w=!1}const S={long:["January","February","March","April","May","June","July","August","September","October","November","December"],short:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],narrow:["J","F","M","A","M","J","J","A","S","O","N","D"]},x=O(31,t=>String(t+1)),C={long:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],short:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],narrow:["S","M","T","W","T","F","S"]},k=/^\d{4}-\d{2}-\d{2}(?:T\d{2}:\d{2}:\d{2}(?:\.\d+)?(?:Z|(?:(?:\+|-)\d{2}:\d{2}))?)?$/;function O(t,e){const i=Array(t);for(let n=0;n<t;n++)i[n]=e(n);return i}class P extends v{constructor(t,e){super(),this.useUtcForDisplay=!0,super.setLocale(t),this.useUtcForDisplay=!e.TRIDENT,this._clampDate=e.TRIDENT||e.EDGE}getYear(t){return t.getFullYear()}getMonth(t){return t.getMonth()}getDate(t){return t.getDate()}getDayOfWeek(t){return t.getDay()}getMonthNames(t){if(w){const e=new Intl.DateTimeFormat(this.locale,{month:t,timeZone:"utc"});return O(12,t=>this._stripDirectionalityCharacters(this._format(e,new Date(2017,t,1))))}return S[t]}getDateNames(){if(w){const t=new Intl.DateTimeFormat(this.locale,{day:"numeric",timeZone:"utc"});return O(31,e=>this._stripDirectionalityCharacters(this._format(t,new Date(2017,0,e+1))))}return x}getDayOfWeekNames(t){if(w){const e=new Intl.DateTimeFormat(this.locale,{weekday:t,timeZone:"utc"});return O(7,t=>this._stripDirectionalityCharacters(this._format(e,new Date(2017,0,t+1))))}return C[t]}getYearName(t){if(w){const e=new Intl.DateTimeFormat(this.locale,{year:"numeric",timeZone:"utc"});return this._stripDirectionalityCharacters(this._format(e,t))}return String(this.getYear(t))}getFirstDayOfWeek(){return 0}getNumDaysInMonth(t){return this.getDate(this._createDateWithOverflow(this.getYear(t),this.getMonth(t)+1,0))}clone(t){return new Date(t.getTime())}createDate(t,e,i){if(e<0||e>11)throw Error(`Invalid month index "${e}". Month index has to be between 0 and 11.`);if(i<1)throw Error(`Invalid date "${i}". Date has to be greater than 0.`);let n=this._createDateWithOverflow(t,e,i);if(n.getMonth()!=e)throw Error(`Invalid date "${i}" for month with index "${e}".`);return n}today(){return new Date}parse(t){return"number"==typeof t?new Date(t):t?new Date(Date.parse(t)):null}format(t,e){if(!this.isValid(t))throw Error("NativeDateAdapter: Cannot format invalid date.");if(w){this._clampDate&&(t.getFullYear()<1||t.getFullYear()>9999)&&(t=this.clone(t)).setFullYear(Math.max(1,Math.min(9999,t.getFullYear()))),e=Object.assign({},e,{timeZone:"utc"});const i=new Intl.DateTimeFormat(this.locale,e);return this._stripDirectionalityCharacters(this._format(i,t))}return this._stripDirectionalityCharacters(t.toDateString())}addCalendarYears(t,e){return this.addCalendarMonths(t,12*e)}addCalendarMonths(t,e){let i=this._createDateWithOverflow(this.getYear(t),this.getMonth(t)+e,this.getDate(t));return this.getMonth(i)!=((this.getMonth(t)+e)%12+12)%12&&(i=this._createDateWithOverflow(this.getYear(i),this.getMonth(i),0)),i}addCalendarDays(t,e){return this._createDateWithOverflow(this.getYear(t),this.getMonth(t),this.getDate(t)+e)}toIso8601(t){return[t.getUTCFullYear(),this._2digit(t.getUTCMonth()+1),this._2digit(t.getUTCDate())].join("-")}deserialize(t){if("string"==typeof t){if(!t)return null;if(k.test(t)){let e=new Date(t);if(this.isValid(e))return e}}return super.deserialize(t)}isDateInstance(t){return t instanceof Date}isValid(t){return!isNaN(t.getTime())}invalid(){return new Date(NaN)}_createDateWithOverflow(t,e,i){const n=new Date(t,e,i);return t>=0&&t<100&&n.setFullYear(this.getYear(n)-1900),n}_2digit(t){return("00"+t).slice(-2)}_stripDirectionalityCharacters(t){return t.replace(/[\u200e\u200f]/g,"")}_format(t,e){const i=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.format(i)}}const E={parse:{dateInput:null},display:{dateInput:{year:"numeric",month:"numeric",day:"numeric"},monthYearLabel:{year:"numeric",month:"short"},dateA11yLabel:{year:"numeric",month:"long",day:"numeric"},monthYearA11yLabel:{year:"numeric",month:"long"}}};class T{}class R{}let M=(()=>{class t{isErrorState(t,e){return!!(t&&t.invalid&&(t.touched||e&&e.submitted))}}return t.ngInjectableDef=Object(n.Ub)({factory:function(){return new t},token:t,providedIn:"root"}),t})();class A{}const I=function(){var t={FADING_IN:0,VISIBLE:1,FADING_OUT:2,HIDDEN:3};return t[t.FADING_IN]="FADING_IN",t[t.VISIBLE]="VISIBLE",t[t.FADING_OUT]="FADING_OUT",t[t.HIDDEN]="HIDDEN",t}();class D{constructor(t,e,i){this._renderer=t,this.element=e,this.config=i,this.state=I.HIDDEN}fadeOut(){this._renderer.fadeOutRipple(this)}}const F={enterDuration:450,exitDuration:400},L=800,G=Object(a.f)({passive:!0});class N{constructor(t,e,i,n){this._target=t,this._ngZone=e,this._isPointerDown=!1,this._triggerEvents=new Map,this._activeRipples=new Set,this._onMousedown=t=>{const e=Object(l.i)(t),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+L;this._target.rippleDisabled||e||i||(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))},this._onTouchStart=t=>{if(!this._target.rippleDisabled){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const e=t.changedTouches;for(let t=0;t<e.length;t++)this.fadeInRipple(e[t].clientX,e[t].clientY,this._target.rippleConfig)}},this._onPointerUp=()=>{this._isPointerDown&&(this._isPointerDown=!1,this._activeRipples.forEach(t=>{!t.config.persistent&&(t.state===I.VISIBLE||t.config.terminateOnPointerUp&&t.state===I.FADING_IN)&&t.fadeOut()}))},n.isBrowser&&(this._containerElement=i.nativeElement,this._triggerEvents.set("mousedown",this._onMousedown).set("mouseup",this._onPointerUp).set("mouseleave",this._onPointerUp).set("touchstart",this._onTouchStart).set("touchend",this._onPointerUp).set("touchcancel",this._onPointerUp))}fadeInRipple(t,e,i={}){const n=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),s=Object.assign({},F,i.animation);i.centered&&(t=n.left+n.width/2,e=n.top+n.height/2);const r=i.radius||function(t,e,i){const n=Math.max(Math.abs(t-i.left),Math.abs(t-i.right)),s=Math.max(Math.abs(e-i.top),Math.abs(e-i.bottom));return Math.sqrt(n*n+s*s)}(t,e,n),o=t-n.left,a=e-n.top,l=s.enterDuration,h=document.createElement("div");h.classList.add("mat-ripple-element"),h.style.left=`${o-r}px`,h.style.top=`${a-r}px`,h.style.height=`${2*r}px`,h.style.width=`${2*r}px`,h.style.backgroundColor=i.color||null,h.style.transitionDuration=`${l}ms`,this._containerElement.appendChild(h),window.getComputedStyle(h).getPropertyValue("opacity"),h.style.transform="scale(1)";const c=new D(this,h,i);return c.state=I.FADING_IN,this._activeRipples.add(c),i.persistent||(this._mostRecentTransientRipple=c),this._runTimeoutOutsideZone(()=>{const t=c===this._mostRecentTransientRipple;c.state=I.VISIBLE,i.persistent||t&&this._isPointerDown||c.fadeOut()},l),c}fadeOutRipple(t){const e=this._activeRipples.delete(t);if(t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),!e)return;const i=t.element,n=Object.assign({},F,t.config.animation);i.style.transitionDuration=`${n.exitDuration}ms`,i.style.opacity="0",t.state=I.FADING_OUT,this._runTimeoutOutsideZone(()=>{t.state=I.HIDDEN,i.parentNode.removeChild(i)},n.exitDuration)}fadeOutAll(){this._activeRipples.forEach(t=>t.fadeOut())}setupTriggerEvents(t){t&&t!==this._triggerElement&&(this._removeTriggerEvents(),this._ngZone.runOutsideAngular(()=>{this._triggerEvents.forEach((e,i)=>{t.addEventListener(i,e,G)})}),this._triggerElement=t)}_runTimeoutOutsideZone(t,e=0){this._ngZone.runOutsideAngular(()=>setTimeout(t,e))}_removeTriggerEvents(){this._triggerElement&&this._triggerEvents.forEach((t,e)=>{this._triggerElement.removeEventListener(e,t,G)})}}const j=new n.p("mat-ripple-global-options");class V{constructor(t,e,i,n,s){this._elementRef=t,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=n||{},this._rippleRenderer=new N(this,e,t,i),"NoopAnimations"===s&&(this._globalOptions.animation={enterDuration:0,exitDuration:0})}get disabled(){return this._disabled}set disabled(t){this._disabled=t,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Object.assign({},this._globalOptions.animation,this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,e=0,i){return"number"==typeof t?this._rippleRenderer.fadeInRipple(t,e,Object.assign({},this.rippleConfig,i)):this._rippleRenderer.fadeInRipple(0,0,Object.assign({},this.rippleConfig,t))}}class B{}class U{constructor(t){this._animationMode=t,this.state="unchecked",this.disabled=!1}}class z{}class H{}const Y=p(H);let W=0;class X extends Y{constructor(){super(...arguments),this._labelId=`mat-optgroup-label-${W++}`}}let K=0;class ${constructor(t,e=!1){this.source=t,this.isUserInput=e}}const Z=new n.p("MAT_OPTION_PARENT_COMPONENT");class Q{constructor(t,e,i,s){this._element=t,this._changeDetectorRef=e,this._parent=i,this.group=s,this._selected=!1,this._active=!1,this._disabled=!1,this._mostRecentViewValue="",this.id=`mat-option-${K++}`,this.onSelectionChange=new n.m,this._stateChanges=new o.a}get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(t){this._disabled=Object(r.b)(t)}get disableRipple(){return this._parent&&this._parent.disableRipple}get active(){return this._active}get viewValue(){return(this._getHostElement().textContent||"").trim()}select(){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}deselect(){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}focus(t,e){const i=this._getHostElement();"function"==typeof i.focus&&i.focus(e)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(t){t.keyCode!==h.d&&t.keyCode!==h.l||Object(h.q)(t)||(this._selectViaInteraction(),t.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=!this.multiple||!this._selected,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getAriaSelected(){return this.selected||!this.multiple&&null}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){const t=this.viewValue;t!==this._mostRecentViewValue&&(this._mostRecentViewValue=t,this._stateChanges.next())}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(t=!1){this.onSelectionChange.emit(new $(this,t))}}function q(t,e,i){if(i.length){let n=e.toArray(),s=i.toArray(),r=0;for(let e=0;e<t+1;e++)n[e].group&&n[e].group===s[r]&&r++;return r}return 0}function J(t,e,i,n){const s=t*e;return s<i?s:s+e>i+n?Math.max(0,s-n+e):i}class tt{}const et=new n.p("mat-label-global-options")},Zy1z:function(t,e,i){"use strict";i.d(e,"a",function(){return s});var n=i("7o/Q");function s(){return t=>t.lift(new r)}class r{call(t,e){return e.subscribe(new o(t))}}class o extends n.a{constructor(t){super(t),this.hasPrev=!1}_next(t){let e;this.hasPrev?e=[this.prev,t]:this.hasPrev=!0,this.prev=t,e&&this.destination.next(e)}}},a34h:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i("8LQ0"),s=i("SXH2"),r=i("RUZL");e.Brighten=function(t){var e,i=255*this.brightness(),n=t.data,s=n.length;for(e=0;e<s;e+=4)n[e]+=i,n[e+1]+=i,n[e+2]+=i},n.Factory.addGetterSetter(s.Node,"brightness",0,r.getNumberValidator(),n.Factory.afterSetFilter)},bOtU:function(t,e,i){"use strict";i.d(e,"a",function(){return a}),i.d(e,"b",function(){return u}),i.d(e,"c",function(){return p}),i.d(e,"d",function(){return d}),i.d(e,"e",function(){return o}),i.d(e,"f",function(){return f}),i.d(e,"g",function(){return g}),i.d(e,"h",function(){return r}),i.d(e,"i",function(){return l});var n=i("8Y7J"),s=i("mrSG");const r=new n.p("config"),o=new n.p("NEW_CONFIG"),a=new n.p("INITIAL_CONFIG"),l={suffix:"",prefix:"",thousandSeparator:" ",decimalMarker:".",clearIfNotMatch:!1,showTemplate:!1,showMaskTyped:!1,placeHolderCharacter:"_",dropSpecialCharacters:!0,hiddenInput:void 0,shownMaskExpression:"",separatorLimit:"",validation:!0,specialCharacters:["-","/","(",")",".",":"," ","+",",","@","[","]",'"',"'"],patterns:{0:{pattern:new RegExp("\\d")},9:{pattern:new RegExp("\\d"),optional:!0},X:{pattern:new RegExp("\\d"),symbol:"*"},A:{pattern:new RegExp("[a-zA-Z0-9]")},S:{pattern:new RegExp("[a-zA-Z]")},d:{pattern:new RegExp("\\d")},m:{pattern:new RegExp("\\d")},M:{pattern:new RegExp("\\d")},H:{pattern:new RegExp("\\d")},h:{pattern:new RegExp("\\d")},s:{pattern:new RegExp("\\d")}}},h=["Hh:m0:s0","Hh:m0","m0:s0"],c=["percent","Hh","s0","m0","separator","d0/M0/0000","d0/M0","d0","M0"];class u{constructor(t){this._config=t,this.maskExpression="",this.actualValue="",this.shownMaskExpression="",this._formatWithSeparators=(t,e,i,n)=>{const s=t.split(i),r=s.length>1?`${i}${s[1]}`:"";let o=s[0];const a=this.separatorLimit.replace(/\s/g,"");a&&+a&&(o=o.slice(0,a.length));const l=/(\d+)(\d{3})/;for(;l.test(o);)o=o.replace(l,"$1"+e+"$2");return void 0===n?o+r:0===n?o:o+r.substr(0,n+1)},this.percentage=t=>Number(t)>=0&&Number(t)<=100,this.getPrecision=t=>{const e=t.split(".");return e.length>1?Number(e[e.length-1]):1/0},this.checkInputPrecision=(t,e,i)=>{if(e<1/0){const n=new RegExp(this._charToRegExpExpression(i)+`\\d{${e}}.*$`),s=t.match(n);s&&s[0].length-1>e?t=t.substring(0,t.length-1):0===e&&t.endsWith(i)&&(t=t.substring(0,t.length-1))}return t},this._shift=new Set,this.clearIfNotMatch=this._config.clearIfNotMatch,this.dropSpecialCharacters=this._config.dropSpecialCharacters,this.maskSpecialCharacters=this._config.specialCharacters,this.maskAvailablePatterns=this._config.patterns,this.prefix=this._config.prefix,this.suffix=this._config.suffix,this.thousandSeparator=this._config.thousandSeparator,this.decimalMarker=this._config.decimalMarker,this.hiddenInput=this._config.hiddenInput,this.showMaskTyped=this._config.showMaskTyped,this.placeHolderCharacter=this._config.placeHolderCharacter,this.validation=this._config.validation,this.separatorLimit=this._config.separatorLimit}applyMaskWithPattern(t,e){const[i,n]=e;return this.customPattern=n,this.applyMask(t,i)}applyMask(t,e,i=0,n=(()=>{})){if(null==t||void 0===e)return"";let s=0,r="",o=!1,a=!1,l=1,h=!1;t.slice(0,this.prefix.length)===this.prefix&&(t=t.slice(this.prefix.length,t.length)),this.suffix&&t.endsWith(this.suffix)&&(t=t.slice(0,t.length-this.suffix.length));const c=t.toString().split("");if("IP"===e&&(this.ipError=!!(c.filter(t=>"."===t).length<3&&c.length<7),e="099.099.099.099"),e.startsWith("percent")){if(t.match("[a-z]|[A-Z]")||t.match(/[-!$%^&*()_+|~=`{}\[\]:";'<>?,\/]/)){t=this._stripToDecimal(t);const i=this.getPrecision(e);t=this.checkInputPrecision(t,i,".")}if(t.indexOf(".")>0&&!this.percentage(t.substring(0,t.indexOf(".")))){const e=t.substring(0,t.indexOf(".")-1);t=`${e}${t.substring(t.indexOf("."),t.length)}`}r=this.percentage(t)?t:t.substring(0,t.length-1)}else if(e.startsWith("separator")){(t.match("[w\u0430-\u044f\u0410-\u042f]")||t.match("[\u0401\u0451\u0410-\u044f]")||t.match("[a-z]|[A-Z]")||t.match(/[-@#!$%\\^&*()_\xa3\xac'+|~=`{}\[\]:";<>.?\/]/)||t.match("[^A-Za-z0-9,]"))&&(t=this._stripToDecimal(t)),t=t.length>1&&"0"===t[0]&&t[1]!==this.decimalMarker?t.slice(1,t.length):t;const n=this._charToRegExpExpression(this.thousandSeparator),s=this._charToRegExpExpression(this.decimalMarker),o='@#!$%^&*()_+|~=`{}\\[\\]:\\s,";<>?\\/'.replace(n,"").replace(s,""),h=new RegExp("["+o+"]");t.match(h)&&(t=t.substring(0,t.length-1));const c=this.getPrecision(e),u=(t=this.checkInputPrecision(t,c,this.decimalMarker)).replace(new RegExp(n,"g"),""),d=(r=this._formatWithSeparators(u,this.thousandSeparator,this.decimalMarker,c)).indexOf(",")-t.indexOf(","),p=r.length-t.length;if(p>0&&","!==r[i]){a=!0;let t=0;do{this._shift.add(i+t),t++}while(t<p)}else 0!==d&&i>0&&!(r.indexOf(",")>=i&&i>3)||!(r.indexOf(".")>=i&&i>3)&&p<=0?(this._shift.clear(),a=!0,l=p,this._shift.add(i+=p)):this._shift.clear()}else for(let f=0,g=c[0];f<c.length&&s!==e.length;g=c[++f])if(this._checkSymbolMask(g,e[s])&&"?"===e[s+1])r+=g,s+=2;else if("*"===e[s+1]&&o&&this._checkSymbolMask(g,e[s+2]))r+=g,s+=3,o=!1;else if(this._checkSymbolMask(g,e[s])&&"*"===e[s+1])r+=g,o=!0;else if("?"===e[s+1]&&this._checkSymbolMask(g,e[s+2]))r+=g,s+=3;else if(this._checkSymbolMask(g,e[s])||this.hiddenInput&&this.maskAvailablePatterns[e[s]]&&this.maskAvailablePatterns[e[s]].symbol===g){if("H"===e[s]&&Number(g)>2){const t=/[*?]/g.test(e.slice(0,s+=1))?c.length:s;this._shift.add(t+this.prefix.length||0),f--;continue}if("h"===e[s]&&"2"===r&&Number(g)>3){s+=1,f--;continue}if("m"===e[s]&&Number(g)>5){const t=/[*?]/g.test(e.slice(0,s+=1))?c.length:s;this._shift.add(t+this.prefix.length||0),f--;continue}if("s"===e[s]&&Number(g)>5){const t=/[*?]/g.test(e.slice(0,s+=1))?c.length:s;this._shift.add(t+this.prefix.length||0),f--;continue}const i=31;if("d"===e[s]&&(Number(t.slice(s,s+2))>i||"/"===t[s+1])){const t=/[*?]/g.test(e.slice(0,s+=1))?c.length:s;this._shift.add(t+this.prefix.length||0),f--;continue}if("M"===e[s]){const n=12,r=0===s&&(Number(g)>2||Number(t.slice(s,s+2))>n||"/"===t[s+1]),o=t.slice(s-3,s-1).includes("/")&&("/"===t[s-2]&&Number(t.slice(s-1,s+1))>n&&"/"!==t[s]||"/"===t[s]||"/"===t[s-3]&&Number(t.slice(s-2,s))>n&&"/"!==t[s-1]||"/"===t[s-1]),a=Number(t.slice(s-3,s-1))<=i&&!t.slice(s-3,s-1).includes("/")&&"/"===t[s-1]&&(Number(t.slice(s,s+2))>n||"/"===t[s+1]),l=Number(t.slice(s-3,s-1))>i&&!t.slice(s-3,s-1).includes("/")&&!t.slice(s-2,s).includes("/")&&Number(t.slice(s-2,s))>n,h=Number(t.slice(s-3,s-1))<=i&&!t.slice(s-3,s-1).includes("/")&&"/"!==t[s-1]&&Number(t.slice(s-1,s+1))>n;if(r||o||a||l||h){const t=/[*?]/g.test(e.slice(0,s+=1))?c.length:s;this._shift.add(t+this.prefix.length||0),f--;continue}}r+=g,s++}else if(-1!==this.maskSpecialCharacters.indexOf(e[s])){r+=e[s];const t=/[*?]/g.test(e.slice(0,++s))?c.length:s;this._shift.add(t+this.prefix.length||0),f--}else this.maskSpecialCharacters.indexOf(g)>-1&&this.maskAvailablePatterns[e[s]]&&this.maskAvailablePatterns[e[s]].optional?(c[s]&&"099.099.099.099"!==e&&(r+=c[s]),s++,f--):"*"===this.maskExpression[s+1]&&this._findSpecialChar(this.maskExpression[s+2])&&this._findSpecialChar(g)===this.maskExpression[s+2]&&o?(s+=3,r+=g):"?"===this.maskExpression[s+1]&&this._findSpecialChar(this.maskExpression[s+2])&&this._findSpecialChar(g)===this.maskExpression[s+2]&&o?(s+=3,r+=g):this.showMaskTyped&&this.maskSpecialCharacters.indexOf(g)<0&&g!==this.placeHolderCharacter&&(h=!0);r.length+1===e.length&&-1!==this.maskSpecialCharacters.indexOf(e[e.length-1])&&(r+=e[e.length-1]);let u=i+1;for(;this._shift.has(u);)l++,u++;let d=this._shift.has(i)?l:0;h&&d--,n(d,a),l<0&&this._shift.clear();let p=`${this.prefix}${r}${this.suffix}`;return 0===r.length&&(p=`${this.prefix}${r}`),p}_findSpecialChar(t){return this.maskSpecialCharacters.find(e=>e===t)}_checkSymbolMask(t,e){return this.maskAvailablePatterns=this.customPattern?this.customPattern:this.maskAvailablePatterns,this.maskAvailablePatterns[e]&&this.maskAvailablePatterns[e].pattern&&this.maskAvailablePatterns[e].pattern.test(t)}_stripToDecimal(t){return t.split("").filter(t=>t.match("\\d")||"."===t||","===t).join("")}_charToRegExpExpression(t){return" "===t?"\\s":"[\\^$.|?*+()".indexOf(t)>=0?"\\"+t:t}}class d extends u{constructor(t,e,i,n){super(e),this.document=t,this._config=e,this._elementRef=i,this._renderer=n,this.validation=!0,this.maskExpression="",this.isNumberValue=!1,this.showMaskTyped=!1,this.placeHolderCharacter="_",this.maskIsShown="",this.selStart=null,this.selEnd=null,this.onChange=t=>{},this._formElement=this._elementRef.nativeElement}applyMask(t,e,i=0,n=(()=>{})){if(!e)return t;if(this.maskIsShown=this.showMaskTyped?this.showMaskInInput():"","IP"===this.maskExpression&&this.showMaskTyped&&(this.maskIsShown=this.showMaskInInput(t||"#")),!t&&this.showMaskTyped)return this.formControlResult(this.prefix),this.prefix+this.maskIsShown;const s=t&&"number"==typeof this.selStart?t[this.selStart]:"";let r="";if(void 0!==this.hiddenInput){let e=this.actualValue.split("");""!==t&&e.length?"number"==typeof this.selStart&&"number"==typeof this.selEnd&&(t.length>e.length?e.splice(this.selStart,0,s):t.length<e.length&&(e.length-t.length==1?e.splice(this.selStart-1,1):e.splice(this.selStart,this.selEnd-this.selStart))):e=[],r=this.actualValue.length?this.shiftTypedSymbols(e.join("")):t}r=Boolean(r)&&r.length?r:t;const o=super.applyMask(r,e,i,n);if(this.actualValue=this.getActualValue(o),"."===this.thousandSeparator&&"."===this.decimalMarker&&(this.decimalMarker=","),this.maskExpression.startsWith("separator")&&!0===this.dropSpecialCharacters&&(this.maskSpecialCharacters=this.maskSpecialCharacters.filter(t=>t!==this.decimalMarker)),this.formControlResult(o),!this.showMaskTyped)return this.hiddenInput&&o&&o.length?this.hideInput(o,this.maskExpression):o;const a=this.prefix+this.maskIsShown;return o+("IP"===this.maskExpression?a:a.slice(o.length))}applyValueChanges(t=0,e=(()=>{})){this._formElement.value=this.applyMask(this._formElement.value,this.maskExpression,t,e),this._formElement!==this.document.activeElement&&this.clearIfNotMatchFn()}hideInput(t,e){return t.split("").map((t,i)=>this.maskAvailablePatterns&&this.maskAvailablePatterns[e[i]]&&this.maskAvailablePatterns[e[i]].symbol?this.maskAvailablePatterns[e[i]].symbol:t).join("")}getActualValue(t){const e=t.split("").filter((t,e)=>this._checkSymbolMask(t,this.maskExpression[e])||this.maskSpecialCharacters.includes(this.maskExpression[e])&&t===this.maskExpression[e]);return e.join("")===t?e.join(""):t}shiftTypedSymbols(t){let e="";return(t&&t.split("").map((i,n)=>{if(this.maskSpecialCharacters.includes(t[n+1])&&t[n+1]!==this.maskExpression[n+1])return e=i,t[n+1];if(e.length){const t=e;return e="",t}return i})||[]).join("")}showMaskInInput(t){if(this.showMaskTyped&&this.shownMaskExpression){if(this.maskExpression.length!==this.shownMaskExpression.length)throw new Error("Mask expression must match mask placeholder length");return this.shownMaskExpression}return this.showMaskTyped?t?this._checkForIp(t):this.maskExpression.replace(/\w/g,this.placeHolderCharacter):""}clearIfNotMatchFn(){this.clearIfNotMatch&&this.prefix.length+this.maskExpression.length+this.suffix.length!==this._formElement.value.replace(/_/g,"").length&&(this.formElementProperty=["value",""],this.applyMask(this._formElement.value,this.maskExpression))}set formElementProperty([t,e]){this._renderer.setProperty(this._formElement,t,e)}checkSpecialCharAmount(t){return t.split("").filter(t=>this._findSpecialChar(t)).length}_checkForIp(t){if("#"===t)return`${this.placeHolderCharacter}.${this.placeHolderCharacter}.${this.placeHolderCharacter}.${this.placeHolderCharacter}`;const e=[];for(let i=0;i<t.length;i++)t[i].match("\\d")&&e.push(t[i]);return e.length<=3?`${this.placeHolderCharacter}.${this.placeHolderCharacter}.${this.placeHolderCharacter}`:e.length>3&&e.length<=6?`${this.placeHolderCharacter}.${this.placeHolderCharacter}`:e.length>6&&e.length<=9?this.placeHolderCharacter:""}formControlResult(t){Array.isArray(this.dropSpecialCharacters)?this.onChange(this._removeMask(this._removeSuffix(this._removePrefix(t)),this.dropSpecialCharacters)):this.onChange(this.dropSpecialCharacters?this._checkSymbols(t):this._removeSuffix(this._removePrefix(t)))}_removeMask(t,e){return t?t.replace(this._regExpForRemove(e),""):t}_removePrefix(t){return this.prefix&&t?t.replace(this.prefix,""):t}_removeSuffix(t){return this.suffix&&t?t.replace(this.suffix,""):t}_retrieveSeparatorValue(t){return this._removeMask(this._removeSuffix(this._removePrefix(t)),this.maskSpecialCharacters)}_regExpForRemove(t){return new RegExp(t.map(t=>`\\${t}`).join("|"),"gi")}_checkSymbols(t){if(""===t)return t;const e=this._retrieveSeparatorPrecision(this.maskExpression);let i=this._retrieveSeparatorValue(t);return"."!==this.decimalMarker&&(i=i.replace(this.decimalMarker,".")),this.isNumberValue?e?t===this.decimalMarker?null:this._checkPrecision(this.maskExpression,i):Number(i):i}_retrieveSeparatorPrecision(t){const e=t.match(new RegExp("^separator\\.([^d]*)"));return e?Number(e[1]):null}_checkPrecision(t,e){return t.indexOf("2")>0?Number(e).toFixed(2):Number(e)}}class p{constructor(t,e,i){this.document=t,this._maskService=e,this._config=i,this.maskExpression="",this.specialCharacters=[],this.patterns={},this.prefix="",this.suffix="",this.thousandSeparator=" ",this.decimalMarker=".",this.dropSpecialCharacters=null,this.hiddenInput=null,this.showMaskTyped=null,this.placeHolderCharacter=null,this.shownMaskExpression=null,this.showTemplate=null,this.clearIfNotMatch=null,this.validation=null,this.separatorLimit=null,this._maskValue="",this._position=null,this.onChange=t=>{},this.onTouch=()=>{}}ngOnChanges(t){const{maskExpression:e,specialCharacters:i,patterns:n,prefix:s,suffix:r,thousandSeparator:o,decimalMarker:a,dropSpecialCharacters:l,hiddenInput:h,showMaskTyped:c,placeHolderCharacter:u,shownMaskExpression:d,showTemplate:p,clearIfNotMatch:f,validation:g,separatorLimit:_}=t;if(e&&(this._maskValue=t.maskExpression.currentValue||""),i){if(!i.currentValue||!Array.isArray(i.currentValue))return;this._maskService.maskSpecialCharacters=t.specialCharacters.currentValue||[]}n&&(this._maskService.maskAvailablePatterns=n.currentValue),s&&(this._maskService.prefix=s.currentValue),r&&(this._maskService.suffix=r.currentValue),o&&(this._maskService.thousandSeparator=o.currentValue),a&&(this._maskService.decimalMarker=a.currentValue),l&&(this._maskService.dropSpecialCharacters=l.currentValue),h&&(this._maskService.hiddenInput=h.currentValue),c&&(this._maskService.showMaskTyped=c.currentValue),u&&(this._maskService.placeHolderCharacter=u.currentValue),d&&(this._maskService.shownMaskExpression=d.currentValue),p&&(this._maskService.showTemplate=p.currentValue),f&&(this._maskService.clearIfNotMatch=f.currentValue),g&&(this._maskService.validation=g.currentValue),_&&(this._maskService.separatorLimit=_.currentValue),this._applyMask()}validate({value:t}){if(!this._maskService.validation)return null;if(this._maskService.ipError)return{"Mask error":!0};if(this._maskValue.startsWith("separator"))return null;if(c.includes(this._maskValue))return null;if(this._maskService.clearIfNotMatch)return null;if(h.includes(this._maskValue))return this._validateTime(t);if(t&&t.toString().length>=1){let e=0;for(const i in this._maskService.maskAvailablePatterns)if(this._maskService.maskAvailablePatterns[i].optional&&!0===this._maskService.maskAvailablePatterns[i].optional){if(this._maskValue.indexOf(i)!==this._maskValue.lastIndexOf(i)?e+=this._maskValue.split("").filter(t=>t===i).join("").length:-1!==this._maskValue.indexOf(i)&&e++,-1!==this._maskValue.indexOf(i)&&t.toString().length>=this._maskValue.indexOf(i))return null;if(e===this._maskValue.length)return null}if(1===this._maskValue.indexOf("{")&&t.toString().length===this._maskValue.length+Number(this._maskValue.split("{")[1].split("}")[0])-4)return null;if(1===this._maskValue.indexOf("*")||1===this._maskValue.indexOf("?"))return null;if(this._maskValue.indexOf("*")>1&&t.toString().length<this._maskValue.indexOf("*")||this._maskValue.indexOf("?")>1&&t.toString().length<this._maskValue.indexOf("?")||1===this._maskValue.indexOf("{"))return{"Mask error":!0};if(-1===this._maskValue.indexOf("*")||-1===this._maskValue.indexOf("?")){const i=this._maskService.dropSpecialCharacters?this._maskValue.length-this._maskService.checkSpecialCharAmount(this._maskValue)-e:this._maskValue.length-e;if(t.toString().length<i)return{"Mask error":!0}}}return null}onInput(t){const e=t.target;if(this._inputValue=e.value,!this._maskValue)return void this.onChange(e.value);const i=1===e.selectionStart?e.selectionStart+this._maskService.prefix.length:e.selectionStart;let n=0,s=!1;if(this._maskService.applyValueChanges(i,(t,e)=>{n=t,s=e}),this.document.activeElement!==e)return;this._position=1===this._position&&1===this._inputValue.length?null:this._position;const r=this._position?this._inputValue.length+i+n:i+("Backspace"!==this._code||s?n:0);e.setSelectionRange(r,r),(this.maskExpression.includes("H")||this.maskExpression.includes("M"))&&0===n&&e.setSelectionRange(e.selectionStart+1,e.selectionStart+1),this._position=null}onBlur(){this._maskService.clearIfNotMatchFn(),this.onTouch()}onFocus(t){const e=t.target;null!==e&&null!==e.selectionStart&&e.selectionStart===e.selectionEnd&&e.selectionStart>this._maskService.prefix.length&&38!==t.keyCode&&this._maskService.showMaskTyped&&(this._maskService.maskIsShown=this._maskService.showMaskInInput(),e.setSelectionRange&&this._maskService.prefix+this._maskService.maskIsShown===e.value?(e.focus(),e.setSelectionRange(0,0)):e.selectionStart>this._maskService.actualValue.length&&e.setSelectionRange(this._maskService.actualValue.length,this._maskService.actualValue.length));const i=e.value&&e.value!==this._maskService.prefix?e.value:this._maskService.prefix+this._maskService.maskIsShown;e.value!==i&&(e.value=i),(e.selectionStart||e.selectionEnd)<=this._maskService.prefix.length&&(e.selectionStart=this._maskService.prefix.length)}onKeyDown(t){this._code=t.code?t.code:t.key;const e=t.target;if(this._inputValue=e.value,38===t.keyCode&&t.preventDefault(),37===t.keyCode||8===t.keyCode||46===t.keyCode){if(8===t.keyCode&&0===e.value.length&&(e.selectionStart=e.selectionEnd),8===t.keyCode&&0!==e.selectionStart)if(this.specialCharacters=this.specialCharacters||this._config.specialCharacters,this.prefix.length>1&&e.selectionStart<=this.prefix.length)e.setSelectionRange(this.prefix.length,this.prefix.length);else{if(this._inputValue.length!==e.selectionStart&&1!==e.selectionStart)for(;this.specialCharacters.includes(this._inputValue[e.selectionStart-1].toString())&&(this.prefix.length>=1&&e.selectionStart>this.prefix.length||0===this.prefix.length);)e.setSelectionRange(e.selectionStart-1,e.selectionStart-1);this.suffixCheckOnPressDelete(t.keyCode,e)}this.suffixCheckOnPressDelete(t.keyCode,e),e.selectionStart<=this._maskService.prefix.length&&e.selectionEnd<=this._maskService.prefix.length&&t.preventDefault();const i=e.selectionStart;8!==t.keyCode||e.readOnly||0!==i||e.selectionEnd!==e.value.length||0===e.value.length||(this._position=this._maskService.prefix?this._maskService.prefix.length:0,this._maskService.applyMask(this._maskService.prefix,this._maskService.maskExpression,this._position))}this.suffix&&this.suffix.length>1&&this._inputValue.length-this.suffix.length<e.selectionStart&&e.setSelectionRange(this._inputValue.length-this.suffix.length,this._inputValue.length),this._maskService.selStart=e.selectionStart,this._maskService.selEnd=e.selectionEnd}writeValue(t){return Object(s.__awaiter)(this,void 0,void 0,function*(){void 0===t&&(t=""),"number"==typeof t&&(t=String(t),t="."!==this.decimalMarker?t.replace(".",this.decimalMarker):t,this._maskService.isNumberValue=!0),this._maskService.formElementProperty=t&&this._maskService.maskExpression||this._maskService.maskExpression&&(this._maskService.prefix||this._maskService.showMaskTyped)?["value",this._maskService.applyMask(t,this._maskService.maskExpression)]:["value",t],this._inputValue=t})}registerOnChange(t){this.onChange=t,this._maskService.onChange=this.onChange}registerOnTouched(t){this.onTouch=t}suffixCheckOnPressDelete(t,e){46===t&&this.suffix.length>0&&this._inputValue.length-this.suffix.length<=e.selectionStart&&e.setSelectionRange(this._inputValue.length-this.suffix.length,this._inputValue.length),8===t&&(this.suffix.length>1&&this._inputValue.length-this.suffix.length<e.selectionStart&&e.setSelectionRange(this._inputValue.length-this.suffix.length,this._inputValue.length),1===this.suffix.length&&this._inputValue.length===e.selectionStart&&e.setSelectionRange(e.selectionStart-1,e.selectionStart-1))}setDisabledState(t){this._maskService.formElementProperty=["disabled",t]}onModelChange(t){t||(this._maskService.actualValue="")}_repeatPatternSymbols(t){return t.match(/{[0-9]+}/)&&t.split("").reduce((e,i,n)=>{if(this._start="{"===i?n:this._start,"}"!==i)return this._maskService._findSpecialChar(i)?e+i:e;this._end=n;const s=Number(t.slice(this._start+1,this._end));return e+new Array(s+1).join(t[this._start-1])},"")||t}_applyMask(){this._maskService.maskExpression=this._repeatPatternSymbols(this._maskValue||""),this._maskService.formElementProperty=["value",this._maskService.applyMask(this._inputValue,this._maskService.maskExpression)]}_validateTime(t){const e=this._maskValue.split("").filter(t=>":"!==t).length;return 0==+t[t.length-1]&&t.length<e?{"Mask error":!0}:t.length<=e-2?{"Mask error":!0}:null}}class f{static forRoot(t){return{ngModule:f,providers:[{provide:o,useValue:t},{provide:a,useValue:l},{provide:r,useFactory:g,deps:[a,o]},u]}}static forChild(t){return{ngModule:f}}}function g(t,e){return e instanceof Function?Object.assign({},t,e()):Object.assign({},t,e)}"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self&&self},bxfH:function(t,e,i){"use strict";var n=i("8Y7J");i("s7LF"),i("tYla"),i("BkKC"),i.d(e,"a",function(){return s}),i.d(e,"b",function(){return r});var s=n.sb({encapsulation:0,styles:[['.circle-button[_ngcontent-%COMP%]{background:#f0f0f0;border-radius:100%;width:50px;height:50px;border:none}.icon[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;flex-shrink:0}.icon-minus[_ngcontent-%COMP%], .icon-plus[_ngcontent-%COMP%]{position:relative;width:20px;height:20px;display:inline-block;vertical-align:middle}.icon-minus[_ngcontent-%COMP%]:after, .icon-minus[_ngcontent-%COMP%]:before, .icon-plus[_ngcontent-%COMP%]:after, .icon-plus[_ngcontent-%COMP%]:before{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);height:2px;width:100%;background-color:#000;content:"";display:block;border-radius:2px}.icon-plus[_ngcontent-%COMP%]:after{height:100%;width:2px}']],data:{}});function r(t){return n.Qb(0,[(t()(),n.ub(0,0,null,null,7,"div",[["class","pt-3 pb-3 d-flex justify-content-between align-items-center"]],null,null,null,null,null)),(t()(),n.ub(1,0,null,null,1,"div",[["class","caption-medium"]],null,null,null,null,null)),(t()(),n.Ob(2,null,[""," ",""])),(t()(),n.ub(3,0,null,null,4,"div",[],null,null,null,null,null)),(t()(),n.ub(4,0,null,null,1,"button",[["class","d-inline-flex justify-content-center align-items-center circle-button mr-2"],["type","button"]],null,[[null,"click"]],function(t,e,i){var n=!0;return"click"===e&&(n=!1!==t.component.decrease(i)&&n),n},null,null)),(t()(),n.ub(5,0,null,null,0,"i",[["class","icon icon-minus"]],null,null,null,null,null)),(t()(),n.ub(6,0,null,null,1,"button",[["class","d-inline-flex justify-content-center align-items-center circle-button"],["type","button"]],null,[[null,"click"]],function(t,e,i){var n=!0;return"click"===e&&(n=!1!==t.component.increase(i)&&n),n},null,null)),(t()(),n.ub(7,0,null,null,0,"i",[["class","icon icon-plus"]],null,null,null,null,null))],null,function(t,e){var i=e.component;t(e,2,0,i.state,i.ending)})}},dp1g:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Sepia=function(t){var e,i,n,s,r=t.data,o=r.length;for(e=0;e<o;e+=4)i=r[e+0],n=r[e+1],s=r[e+2],r[e+0]=Math.min(255,.393*i+.769*n+.189*s),r[e+1]=Math.min(255,.349*i+.686*n+.168*s),r[e+2]=Math.min(255,.272*i+.534*n+.131*s)}},dvZr:function(t,e,i){"use strict";i.d(e,"m",function(){return n}),i.d(e,"d",function(){return s}),i.d(e,"e",function(){return r}),i.d(e,"l",function(){return o}),i.d(e,"j",function(){return a}),i.d(e,"i",function(){return l}),i.d(e,"c",function(){return h}),i.d(e,"f",function(){return c}),i.d(e,"g",function(){return u}),i.d(e,"n",function(){return d}),i.d(e,"k",function(){return p}),i.d(e,"b",function(){return f}),i.d(e,"p",function(){return g}),i.d(e,"h",function(){return _}),i.d(e,"a",function(){return m}),i.d(e,"o",function(){return b}),i.d(e,"q",function(){return v});const n=9,s=13,r=27,o=32,a=33,l=34,h=35,c=36,u=37,d=38,p=39,f=40,g=48,_=57,m=65,b=90;function v(t,...e){return e.length?e.some(e=>t[e]):t.altKey||t.shiftKey||t.ctrlKey||t.metaKey}},ex3n:function(t,e,i){"use strict";i.d(e,"a",function(){return n});class n{}},fMHL:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Solarize=function(t){var e=t.data,i=t.width,n=4*i,s=t.height;do{var r=(s-1)*n,o=i;do{var a=r+4*(o-1),l=e[a],h=e[a+1],c=e[a+2];l>127&&(l=255-l),h>127&&(h=255-h),c>127&&(c=255-c),e[a]=l,e[a+1]=h,e[a+2]=c}while(--o)}while(--s)}},fSr5:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i("13ei"),s=new Map,r=void 0!==n.Konva._global.PointerEvent;function o(t){return{evt:t,pointerId:t.pointerId}}function a(t,e){var i=s.get(t);i&&(i.getStage(),s.delete(t),r&&i._fire("lostpointercapture",o(new PointerEvent("lostpointercapture"))))}e.getCapturedShape=function(t){return s.get(t)},e.createEvent=o,e.hasPointerCapture=function(t,e){return s.get(t)===e},e.setPointerCapture=function(t,e){a(t),e.getStage()&&(s.set(t,e),r&&e._fire("gotpointercapture",o(new PointerEvent("gotpointercapture"))))},e.releaseCapture=a},hOhj:function(t,e,i){"use strict";var n=i("8Y7J"),s=(i("KCVW"),i("XNiG")),r=i("LRne"),o=i("HDdC"),a=i("xgIS");i("3N8a"),i("IjjT");var l=i("VRyK"),h=(i("/uUt"),i("3UWI")),c=i("pLZG"),u=(i("1G5W"),i("JX91"),i("Zy1z"),i("eIep"),i("UXun"),i("/HVE"));i("8bJo"),i.d(e,"a",function(){return p}),i.d(e,"b",function(){return f}),i.d(e,"d",function(){return _}),i.d(e,"c",function(){return m});const d=20;let p=(()=>{class t{constructor(t,e){this._ngZone=t,this._platform=e,this._scrolled=new s.a,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const e=this.scrollContainers.get(t);e&&(e.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=d){return this._platform.isBrowser?new o.a(e=>{this._globalSubscription||this._addGlobalListener();const i=t>0?this._scrolled.pipe(Object(h.a)(t)).subscribe(e):this._scrolled.subscribe(e);return this._scrolledCount++,()=>{i.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):Object(r.a)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,e)=>this.deregister(e)),this._scrolled.complete()}ancestorScrolled(t,e){const i=this.getAncestorScrollContainers(t);return this.scrolled(e).pipe(Object(c.a)(t=>!t||i.indexOf(t)>-1))}getAncestorScrollContainers(t){const e=[];return this.scrollContainers.forEach((i,n)=>{this._scrollableContainsElement(n,t)&&e.push(n)}),e}_scrollableContainsElement(t,e){let i=e.nativeElement,n=t.getElementRef().nativeElement;do{if(i==n)return!0}while(i=i.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>Object(a.a)(window.document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return t.ngInjectableDef=Object(n.Ub)({factory:function(){return new t(Object(n.Vb)(n.y),Object(n.Vb)(u.a))},token:t,providedIn:"root"}),t})();class f{}const g=20;let _=(()=>{class t{constructor(t,e){this._platform=t,e.runOutsideAngular(()=>{this._change=t.isBrowser?Object(l.a)(Object(a.a)(window,"resize"),Object(a.a)(window,"orientationchange")):Object(r.a)(),this._invalidateCache=this.change().subscribe(()=>this._updateViewportSize())})}ngOnDestroy(){this._invalidateCache.unsubscribe()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:e,height:i}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+i,right:t.left+e,height:i,width:e}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=document.documentElement,e=t.getBoundingClientRect();return{top:-e.top||document.body.scrollTop||window.scrollY||t.scrollTop||0,left:-e.left||document.body.scrollLeft||window.scrollX||t.scrollLeft||0}}change(t=g){return t>0?this._change.pipe(Object(h.a)(t)):this._change}_updateViewportSize(){this._viewportSize=this._platform.isBrowser?{width:window.innerWidth,height:window.innerHeight}:{width:0,height:0}}}return t.ngInjectableDef=Object(n.Ub)({factory:function(){return new t(Object(n.Vb)(u.a),Object(n.Vb)(n.y))},token:t,providedIn:"root"}),t})();const m={provide:_,deps:[[new n.z,new n.J,_],u.a,n.y],useFactory:function(t,e,i){return t||new _(e,i)}}},hgNY:function(t,e,i){var n=i("mrSG").__extends;Object.defineProperty(e,"__esModule",{value:!0});var s=i("nLhi"),r=i("8LQ0"),o=i("/OYL"),a=i("13ei"),l=i("RUZL"),h=i("13ei"),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype._sceneFunc=function(t){var e=a.Konva.getAngle(this.angle()),i=this.clockwise();t.beginPath(),t.arc(0,0,this.outerRadius(),0,e,i),t.arc(0,0,this.innerRadius(),e,0,!i),t.closePath(),t.fillStrokeShape(this)},e.prototype.getWidth=function(){return 2*this.outerRadius()},e.prototype.getHeight=function(){return 2*this.outerRadius()},e.prototype.setWidth=function(t){this.outerRadius(t/2)},e.prototype.setHeight=function(t){this.outerRadius(t/2)},e}(o.Shape);e.Arc=c,c.prototype._centroid=!0,c.prototype.className="Arc",c.prototype._attrsAffectingSize=["innerRadius","outerRadius"],h._registerNode(c),r.Factory.addGetterSetter(c,"innerRadius",0,l.getNumberValidator()),r.Factory.addGetterSetter(c,"outerRadius",0,l.getNumberValidator()),r.Factory.addGetterSetter(c,"angle",0,l.getNumberValidator()),r.Factory.addGetterSetter(c,"clockwise",!1,l.getBooleanValidator()),s.Collection.mapMethods(c)},"iG/B":function(t,e,i){"use strict";i.d(e,"a",function(){return n});class n{}},icHu:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Invert=function(t){var e,i=t.data,n=i.length;for(e=0;e<n;e+=4)i[e]=255-i[e],i[e+1]=255-i[e+1],i[e+2]=255-i[e+2]}},jBiz:function(t,e,i){var n=i("mrSG").__extends;Object.defineProperty(e,"__esModule",{value:!0});var s=i("nLhi"),r=i("8LQ0"),o=i("/OYL"),a=i("13ei"),l=function(t){function e(i){var n=t.call(this,i)||this;n.dataArray=[],n.pathLength=0,n.dataArray=e.parsePathData(n.data()),n.pathLength=0;for(var s=0;s<n.dataArray.length;++s)n.pathLength+=n.dataArray[s].pathLength;return n.on("dataChange.konva",function(){this.dataArray=e.parsePathData(this.data()),this.pathLength=0;for(var t=0;t<this.dataArray.length;++t)this.pathLength+=this.dataArray[t].pathLength}),n}return n(e,t),e.prototype._sceneFunc=function(t){var e=this.dataArray;t.beginPath();for(var i=0;i<e.length;i++){var n=e[i].points;switch(e[i].command){case"L":t.lineTo(n[0],n[1]);break;case"M":t.moveTo(n[0],n[1]);break;case"C":t.bezierCurveTo(n[0],n[1],n[2],n[3],n[4],n[5]);break;case"Q":t.quadraticCurveTo(n[0],n[1],n[2],n[3]);break;case"A":var s=n[0],r=n[1],o=n[2],a=n[3],l=n[4],h=n[5],c=n[6],u=n[7],d=o>a?o:a,p=o>a?1:o/a,f=o>a?a/o:1;t.translate(s,r),t.rotate(c),t.scale(p,f),t.arc(0,0,d,l,l+h,1-u),t.scale(1/p,1/f),t.rotate(-c),t.translate(-s,-r);break;case"z":t.closePath()}}t.fillStrokeShape(this)},e.prototype.getSelfRect=function(){var t=[];this.dataArray.forEach(function(e){t=t.concat(e.points)});for(var e,i,n=t[0],s=t[0],r=t[1],o=t[1],a=0;a<t.length/2;a++)e=t[2*a],i=t[2*a+1],isNaN(e)||(n=Math.min(n,e),s=Math.max(s,e)),isNaN(i)||(r=Math.min(r,i),o=Math.max(o,i));return{x:Math.round(n),y:Math.round(r),width:Math.round(s-n),height:Math.round(o-r)}},e.prototype.getLength=function(){return this.pathLength},e.prototype.getPointAtLength=function(t){var i,n=0,s=this.dataArray.length;if(!s)return null;for(;n<s&&t>this.dataArray[n].pathLength;)t-=this.dataArray[n].pathLength,++n;if(n===s)return{x:(i=this.dataArray[n-1].points.slice(-2))[0],y:i[1]};if(t<.01)return{x:(i=this.dataArray[n].points.slice(0,2))[0],y:i[1]};var r=this.dataArray[n],o=r.points;switch(r.command){case"L":return e.getPointOnLine(t,r.start.x,r.start.y,o[0],o[1]);case"C":return e.getPointOnCubicBezier(t/r.pathLength,r.start.x,r.start.y,o[0],o[1],o[2],o[3],o[4],o[5]);case"Q":return e.getPointOnQuadraticBezier(t/r.pathLength,r.start.x,r.start.y,o[0],o[1],o[2],o[3]);case"A":var a=o[4];return e.getPointOnEllipticalArc(o[0],o[1],o[2],o[3],a+=o[5]*t/r.pathLength,o[6])}return null},e.getLineLength=function(t,e,i,n){return Math.sqrt((i-t)*(i-t)+(n-e)*(n-e))},e.getPointOnLine=function(t,e,i,n,s,r,o){void 0===r&&(r=e),void 0===o&&(o=i);var a=(s-i)/(n-e+1e-8),l=Math.sqrt(t*t/(1+a*a));n<e&&(l*=-1);var h,c=a*l;if(n===e)h={x:r,y:o+c};else if((o-i)/(r-e+1e-8)===a)h={x:r+l,y:o+c};else{var u,d,p=this.getLineLength(e,i,n,s);if(p<1e-8)return;var f=(r-e)*(n-e)+(o-i)*(s-i),g=this.getLineLength(r,o,u=e+(f/=p*p)*(n-e),d=i+f*(s-i)),_=Math.sqrt(t*t-g*g);l=Math.sqrt(_*_/(1+a*a)),n<e&&(l*=-1),h={x:u+l,y:d+(c=a*l)}}return h},e.getPointOnCubicBezier=function(t,e,i,n,s,r,o,a,l){function h(t){return t*t*t}function c(t){return 3*t*t*(1-t)}function u(t){return 3*t*(1-t)*(1-t)}function d(t){return(1-t)*(1-t)*(1-t)}return{x:a*h(t)+r*c(t)+n*u(t)+e*d(t),y:l*h(t)+o*c(t)+s*u(t)+i*d(t)}},e.getPointOnQuadraticBezier=function(t,e,i,n,s,r,o){function a(t){return t*t}function l(t){return 2*t*(1-t)}function h(t){return(1-t)*(1-t)}return{x:r*a(t)+n*l(t)+e*h(t),y:o*a(t)+s*l(t)+i*h(t)}},e.getPointOnEllipticalArc=function(t,e,i,n,s,r){var o=Math.cos(r),a=Math.sin(r),l=i*Math.cos(s),h=n*Math.sin(s);return{x:t+(l*o-h*a),y:e+(l*a+h*o)}},e.parsePathData=function(t){if(!t)return[];var e=t,i=["m","M","l","L","v","V","h","H","z","Z","c","C","q","Q","t","T","s","S","a","A"];e=e.replace(new RegExp(" ","g"),",");for(var n=0;n<i.length;n++)e=e.replace(new RegExp(i[n],"g"),"|"+i[n]);var s,r=e.split("|"),o=[],a=[],l=0,h=0,c=/([-+]?((\d+\.\d+)|((\d+)|(\.\d+)))(?:e[-+]?\d+)?)/gi;for(n=1;n<r.length;n++){var u=r[n],d=u.charAt(0);for(u=u.slice(1),a.length=0;s=c.exec(u);)a.push(s[0]);for(var p=[],f=0,g=a.length;f<g;f++){var _=parseFloat(a[f]);isNaN(_)?p.push(0):p.push(_)}for(;p.length>0&&!isNaN(p[0]);){var m,b,v,y,w,S,x,C,k,O,P=null,E=[],T=l,R=h;switch(d){case"l":l+=p.shift(),h+=p.shift(),P="L",E.push(l,h);break;case"L":l=p.shift(),h=p.shift(),E.push(l,h);break;case"m":var M=p.shift(),A=p.shift();if(l+=M,h+=A,P="M",o.length>2&&"z"===o[o.length-1].command)for(var I=o.length-2;I>=0;I--)if("M"===o[I].command){l=o[I].points[0]+M,h=o[I].points[1]+A;break}E.push(l,h),d="l";break;case"M":l=p.shift(),h=p.shift(),P="M",E.push(l,h),d="L";break;case"h":l+=p.shift(),P="L",E.push(l,h);break;case"H":l=p.shift(),P="L",E.push(l,h);break;case"v":h+=p.shift(),P="L",E.push(l,h);break;case"V":h=p.shift(),P="L",E.push(l,h);break;case"C":E.push(p.shift(),p.shift(),p.shift(),p.shift()),l=p.shift(),h=p.shift(),E.push(l,h);break;case"c":E.push(l+p.shift(),h+p.shift(),l+p.shift(),h+p.shift()),l+=p.shift(),h+=p.shift(),P="C",E.push(l,h);break;case"S":b=l,v=h,"C"===(m=o[o.length-1]).command&&(b=l+(l-m.points[2]),v=h+(h-m.points[3])),E.push(b,v,p.shift(),p.shift()),l=p.shift(),h=p.shift(),P="C",E.push(l,h);break;case"s":b=l,v=h,"C"===(m=o[o.length-1]).command&&(b=l+(l-m.points[2]),v=h+(h-m.points[3])),E.push(b,v,l+p.shift(),h+p.shift()),l+=p.shift(),h+=p.shift(),P="C",E.push(l,h);break;case"Q":E.push(p.shift(),p.shift()),l=p.shift(),h=p.shift(),E.push(l,h);break;case"q":E.push(l+p.shift(),h+p.shift()),l+=p.shift(),h+=p.shift(),P="Q",E.push(l,h);break;case"T":b=l,v=h,"Q"===(m=o[o.length-1]).command&&(b=l+(l-m.points[0]),v=h+(h-m.points[1])),l=p.shift(),h=p.shift(),P="Q",E.push(b,v,l,h);break;case"t":b=l,v=h,"Q"===(m=o[o.length-1]).command&&(b=l+(l-m.points[0]),v=h+(h-m.points[1])),l+=p.shift(),h+=p.shift(),P="Q",E.push(b,v,l,h);break;case"A":y=p.shift(),w=p.shift(),S=p.shift(),x=p.shift(),C=p.shift(),k=l,O=h,l=p.shift(),h=p.shift(),P="A",E=this.convertEndpointToCenterParameterization(k,O,l,h,x,C,y,w,S);break;case"a":y=p.shift(),w=p.shift(),S=p.shift(),x=p.shift(),C=p.shift(),k=l,O=h,l+=p.shift(),h+=p.shift(),P="A",E=this.convertEndpointToCenterParameterization(k,O,l,h,x,C,y,w,S)}o.push({command:P||d,points:E,start:{x:T,y:R},pathLength:this.calcLength(T,R,P||d,E)})}"z"!==d&&"Z"!==d||o.push({command:"z",points:[],start:void 0,pathLength:0})}return o},e.calcLength=function(t,i,n,s){var r,o,a,l,h=e;switch(n){case"L":return h.getLineLength(t,i,s[0],s[1]);case"C":for(r=0,o=h.getPointOnCubicBezier(0,t,i,s[0],s[1],s[2],s[3],s[4],s[5]),l=.01;l<=1;l+=.01)a=h.getPointOnCubicBezier(l,t,i,s[0],s[1],s[2],s[3],s[4],s[5]),r+=h.getLineLength(o.x,o.y,a.x,a.y),o=a;return r;case"Q":for(r=0,o=h.getPointOnQuadraticBezier(0,t,i,s[0],s[1],s[2],s[3]),l=.01;l<=1;l+=.01)a=h.getPointOnQuadraticBezier(l,t,i,s[0],s[1],s[2],s[3]),r+=h.getLineLength(o.x,o.y,a.x,a.y),o=a;return r;case"A":r=0;var c=s[4],u=s[5],d=s[4]+u,p=Math.PI/180;if(Math.abs(c-d)<p&&(p=Math.abs(c-d)),o=h.getPointOnEllipticalArc(s[0],s[1],s[2],s[3],c,0),u<0)for(l=c-p;l>d;l-=p)a=h.getPointOnEllipticalArc(s[0],s[1],s[2],s[3],l,0),r+=h.getLineLength(o.x,o.y,a.x,a.y),o=a;else for(l=c+p;l<d;l+=p)a=h.getPointOnEllipticalArc(s[0],s[1],s[2],s[3],l,0),r+=h.getLineLength(o.x,o.y,a.x,a.y),o=a;return a=h.getPointOnEllipticalArc(s[0],s[1],s[2],s[3],d,0),r+h.getLineLength(o.x,o.y,a.x,a.y)}return 0},e.convertEndpointToCenterParameterization=function(t,e,i,n,s,r,o,a,l){var h=l*(Math.PI/180),c=Math.cos(h)*(t-i)/2+Math.sin(h)*(e-n)/2,u=-1*Math.sin(h)*(t-i)/2+Math.cos(h)*(e-n)/2,d=c*c/(o*o)+u*u/(a*a);d>1&&(o*=Math.sqrt(d),a*=Math.sqrt(d));var p=Math.sqrt((o*o*(a*a)-o*o*(u*u)-a*a*(c*c))/(o*o*(u*u)+a*a*(c*c)));s===r&&(p*=-1),isNaN(p)&&(p=0);var f=p*o*u/a,g=p*-a*c/o,_=(t+i)/2+Math.cos(h)*f-Math.sin(h)*g,m=(e+n)/2+Math.sin(h)*f+Math.cos(h)*g,b=function(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])},v=function(t,e){return(t[0]*e[0]+t[1]*e[1])/(b(t)*b(e))},y=function(t,e){return(t[0]*e[1]<t[1]*e[0]?-1:1)*Math.acos(v(t,e))},w=y([1,0],[(c-f)/o,(u-g)/a]),S=[(c-f)/o,(u-g)/a],x=[(-1*c-f)/o,(-1*u-g)/a],C=y(S,x);return v(S,x)<=-1&&(C=Math.PI),v(S,x)>=1&&(C=0),0===r&&C>0&&(C-=2*Math.PI),1===r&&C<0&&(C+=2*Math.PI),[_,m,o,a,w,C,h,r]},e}(o.Shape);e.Path=l,l.prototype.className="Path",l.prototype._attrsAffectingSize=["data"],a._registerNode(l),r.Factory.addGetterSetter(l,"data"),s.Collection.mapMethods(l)},joQ7:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i("8LQ0"),s=i("SXH2"),r=i("RUZL");e.RGB=function(t){var e,i,n=t.data,s=n.length,r=this.red(),o=this.green(),a=this.blue();for(e=0;e<s;e+=4)n[e]=(i=(.34*n[e]+.5*n[e+1]+.16*n[e+2])/255)*r,n[e+1]=i*o,n[e+2]=i*a,n[e+3]=n[e+3]},n.Factory.addGetterSetter(s.Node,"red",0,function(t){return this._filterUpToDate=!1,t>255?255:t<0?0:Math.round(t)}),n.Factory.addGetterSetter(s.Node,"green",0,function(t){return this._filterUpToDate=!1,t>255?255:t<0?0:Math.round(t)}),n.Factory.addGetterSetter(s.Node,"blue",0,r.RGBComponent,n.Factory.afterSetFilter)},kbZ1:function(t,e,i){"use strict";i.d(e,"a",function(){return n});class n{}},kmuw:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i("8LQ0"),s=i("SXH2"),r=i("RUZL");n.Factory.addGetterSetter(s.Node,"hue",0,r.getNumberValidator(),n.Factory.afterSetFilter),n.Factory.addGetterSetter(s.Node,"saturation",0,r.getNumberValidator(),n.Factory.afterSetFilter),n.Factory.addGetterSetter(s.Node,"luminance",0,r.getNumberValidator(),n.Factory.afterSetFilter),e.HSL=function(t){var e,i,n,s,r,o=t.data,a=o.length,l=Math.pow(2,this.saturation()),h=Math.abs(this.hue()+360)%360,c=127*this.luminance(),u=1*l*Math.cos(h*Math.PI/180),d=1*l*Math.sin(h*Math.PI/180),p=.299+.701*u+.167*d,f=.587-.587*u+.33*d,g=.114-.114*u-.497*d,_=.299-.299*u-.328*d,m=.587+.413*u+.035*d,b=.114-.114*u+.293*d,v=.299-.3*u+1.25*d,y=.587-.586*u-1.05*d,w=.114+.886*u-.2*d;for(e=0;e<a;e+=4)r=o[e+3],o[e+0]=p*(i=o[e+0])+f*(n=o[e+1])+g*(s=o[e+2])+c,o[e+1]=_*i+m*n+b*s+c,o[e+2]=v*i+y*n+w*s+c,o[e+3]=r}},lHCc:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i("8LQ0"),s=i("SXH2"),r=i("RUZL");function o(t,e,i){var n=4*(i*t.width+e),s=[];return s.push(t.data[n++],t.data[n++],t.data[n++],t.data[n++]),s}function a(t,e){return Math.sqrt(Math.pow(t[0]-e[0],2)+Math.pow(t[1]-e[1],2)+Math.pow(t[2]-e[2],2))}e.Mask=function(t){var e=function(t,e){var i=o(t,0,0),n=o(t,t.width-1,0),s=o(t,0,t.height-1),r=o(t,t.width-1,t.height-1),l=e||10;if(a(i,n)<l&&a(n,r)<l&&a(r,s)<l&&a(s,i)<l){for(var h=function(t){for(var e=[0,0,0],i=0;i<t.length;i++)e[0]+=t[i][0],e[1]+=t[i][1],e[2]+=t[i][2];return e[0]/=t.length,e[1]/=t.length,e[2]/=t.length,e}([n,i,r,s]),c=[],u=0;u<t.width*t.height;u++){var d=a(h,[t.data[4*u],t.data[4*u+1],t.data[4*u+2]]);c[u]=d<l?0:255}return c}}(t,this.threshold());return e&&function(t,e){for(var i=0;i<t.width*t.height;i++)t.data[4*i+3]=e[i]}(t,e=function(t,e,i){for(var n=[1/9,1/9,1/9,1/9,1/9,1/9,1/9,1/9,1/9],s=Math.round(Math.sqrt(n.length)),r=Math.floor(s/2),o=[],a=0;a<i;a++)for(var l=0;l<e;l++){for(var h=a*e+l,c=0,u=0;u<s;u++)for(var d=0;d<s;d++){var p=a+u-r,f=l+d-r;p>=0&&p<i&&f>=0&&f<e&&(c+=t[p*e+f]*n[u*s+d])}o[h]=c}return o}(e=function(t,e,i){for(var n=[1,1,1,1,1,1,1,1,1],s=Math.round(Math.sqrt(n.length)),r=Math.floor(s/2),o=[],a=0;a<i;a++)for(var l=0;l<e;l++){for(var h=a*e+l,c=0,u=0;u<s;u++)for(var d=0;d<s;d++){var p=a+u-r,f=l+d-r;p>=0&&p<i&&f>=0&&f<e&&(c+=t[p*e+f]*n[u*s+d])}o[h]=c>=1020?255:0}return o}(e=function(t,e,i){for(var n=[1,1,1,1,0,1,1,1,1],s=Math.round(Math.sqrt(n.length)),r=Math.floor(s/2),o=[],a=0;a<i;a++)for(var l=0;l<e;l++){for(var h=a*e+l,c=0,u=0;u<s;u++)for(var d=0;d<s;d++){var p=a+u-r,f=l+d-r;p>=0&&p<i&&f>=0&&f<e&&(c+=t[p*e+f]*n[u*s+d])}o[h]=2040===c?255:0}return o}(e,t.width,t.height),t.width,t.height),t.width,t.height)),t},n.Factory.addGetterSetter(s.Node,"threshold",0,r.getNumberValidator(),n.Factory.afterSetFilter)},lawv:function(t,e,i){"use strict";i.d(e,"a",function(){return o}),i.d(e,"b",function(){return l}),i.d(e,"d",function(){return u}),i.d(e,"c",function(){return c});var n=i("8Y7J"),s=i("wd/R");const r=s;class o{transform(t,...e){return t?r(t).format(e[0]):""}}const a=new n.p("NGX_MOMENT_OPTIONS");class l{transform(t,...e){return"string"==typeof t&&(t=+t),Object(s.unix)(t)}}const h=s;class c{transform(t,e){return h(t).locale(e)}}class u{static forRoot(t){return{ngModule:u,providers:[{provide:a,useValue:Object.assign({},t)}]}}}},lu6O:function(t,e,i){var n=i("mrSG").__extends;Object.defineProperty(e,"__esModule",{value:!0});var s=i("nLhi"),r=i("8LQ0"),o=i("/OYL"),a=i("13ei"),l=i("RUZL"),h=i("13ei"),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype._sceneFunc=function(t){t.beginPath(),t.arc(0,0,this.radius(),0,a.Konva.getAngle(this.angle()),this.clockwise()),t.lineTo(0,0),t.closePath(),t.fillStrokeShape(this)},e.prototype.getWidth=function(){return 2*this.radius()},e.prototype.getHeight=function(){return 2*this.radius()},e.prototype.setWidth=function(t){this.radius(t/2)},e.prototype.setHeight=function(t){this.radius(t/2)},e}(o.Shape);e.Wedge=c,c.prototype.className="Wedge",c.prototype._centroid=!0,c.prototype._attrsAffectingSize=["radius"],h._registerNode(c),r.Factory.addGetterSetter(c,"radius",0,l.getNumberValidator()),r.Factory.addGetterSetter(c,"angle",0,l.getNumberValidator()),r.Factory.addGetterSetter(c,"clockwise",!1),r.Factory.backCompat(c,{angleDeg:"angle",getAngleDeg:"getAngle",setAngleDeg:"setAngle"}),s.Collection.mapMethods(c)},nLhi:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i("13ei"),s=function(){function t(){}return t.toCollection=function(e){var i,n=new t,s=e.length;for(i=0;i<s;i++)n.push(e[i]);return n},t._mapMethod=function(e){t.prototype[e]=function(){var t,i=this.length,n=[].slice.call(arguments);for(t=0;t<i;t++)this[t][e].apply(this[t],n);return this}},t.mapMethods=function(e){var i=e.prototype;for(var n in i)t._mapMethod(n)},t}();e.Collection=s,s.prototype=[],s.prototype.each=function(t){for(var e=0;e<this.length;e++)t(this[e],e)},s.prototype.toArray=function(){var t,e=[],i=this.length;for(t=0;t<i;t++)e.push(this[t]);return e},e.Transform=function(){function t(t){void 0===t&&(t=[1,0,0,1,0,0]),this.m=t&&t.slice()||[1,0,0,1,0,0]}return t.prototype.copy=function(){return new t(this.m)},t.prototype.point=function(t){var e=this.m;return{x:e[0]*t.x+e[2]*t.y+e[4],y:e[1]*t.x+e[3]*t.y+e[5]}},t.prototype.translate=function(t,e){return this.m[4]+=this.m[0]*t+this.m[2]*e,this.m[5]+=this.m[1]*t+this.m[3]*e,this},t.prototype.scale=function(t,e){return this.m[0]*=t,this.m[1]*=t,this.m[2]*=e,this.m[3]*=e,this},t.prototype.rotate=function(t){var e=Math.cos(t),i=Math.sin(t),n=this.m[1]*e+this.m[3]*i,s=this.m[0]*-i+this.m[2]*e,r=this.m[1]*-i+this.m[3]*e;return this.m[0]=this.m[0]*e+this.m[2]*i,this.m[1]=n,this.m[2]=s,this.m[3]=r,this},t.prototype.getTranslation=function(){return{x:this.m[4],y:this.m[5]}},t.prototype.skew=function(t,e){var i=this.m[1]+this.m[3]*e,n=this.m[2]+this.m[0]*t,s=this.m[3]+this.m[1]*t;return this.m[0]=this.m[0]+this.m[2]*e,this.m[1]=i,this.m[2]=n,this.m[3]=s,this},t.prototype.multiply=function(t){var e=this.m[1]*t.m[0]+this.m[3]*t.m[1],i=this.m[0]*t.m[2]+this.m[2]*t.m[3],n=this.m[1]*t.m[2]+this.m[3]*t.m[3],s=this.m[0]*t.m[4]+this.m[2]*t.m[5]+this.m[4],r=this.m[1]*t.m[4]+this.m[3]*t.m[5]+this.m[5];return this.m[0]=this.m[0]*t.m[0]+this.m[2]*t.m[1],this.m[1]=e,this.m[2]=i,this.m[3]=n,this.m[4]=s,this.m[5]=r,this},t.prototype.invert=function(){var t=1/(this.m[0]*this.m[3]-this.m[1]*this.m[2]),e=-this.m[1]*t,i=-this.m[2]*t,n=this.m[0]*t,s=t*(this.m[2]*this.m[5]-this.m[3]*this.m[4]),r=t*(this.m[1]*this.m[4]-this.m[0]*this.m[5]);return this.m[0]=this.m[3]*t,this.m[1]=e,this.m[2]=i,this.m[3]=n,this.m[4]=s,this.m[5]=r,this},t.prototype.getMatrix=function(){return this.m},t.prototype.setAbsolutePosition=function(t,e){var i=this.m[0],n=this.m[1],s=this.m[2],r=this.m[4],o=(i*(e-this.m[5])-n*(t-r))/(i*this.m[3]-n*s);return this.translate((t-r-s*o)/i,o)},t}();var r=Math.PI/180,o=180/Math.PI,a={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,132,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,255,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,203],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[119,128,144],slategrey:[119,128,144],snow:[255,255,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],transparent:[255,255,255,0],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,5]},l=/rgb\((\d{1,3}),(\d{1,3}),(\d{1,3})\)/,h=[];e.Util={_isElement:function(t){return!(!t||1!=t.nodeType)},_isFunction:function(t){return!!(t&&t.constructor&&t.call&&t.apply)},_isPlainObject:function(t){return!!t&&t.constructor===Object},_isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)},_isNumber:function(t){return"[object Number]"===Object.prototype.toString.call(t)&&!isNaN(t)&&isFinite(t)},_isString:function(t){return"[object String]"===Object.prototype.toString.call(t)},_isBoolean:function(t){return"[object Boolean]"===Object.prototype.toString.call(t)},isObject:function(t){return t instanceof Object},isValidSelector:function(t){if("string"!=typeof t)return!1;var e=t[0];return"#"===e||"."===e||e===e.toUpperCase()},_sign:function(t){return 0===t?0:t>0?1:-1},requestAnimFrame:function(t){h.push(t),1===h.length&&requestAnimationFrame(function(){var t=h;h=[],t.forEach(function(t){t()})})},createCanvasElement:function(){var t=document.createElement("canvas");try{t.style=t.style||{}}catch(e){}return t},createImageElement:function(){return document.createElement("img")},_isInDocument:function(t){for(;t=t.parentNode;)if(t==document)return!0;return!1},_simplifyArray:function(t){var i,n,s=[],r=t.length,o=e.Util;for(i=0;i<r;i++)o._isNumber(n=t[i])?n=Math.round(1e3*n)/1e3:o._isString(n)||(n=n.toString()),s.push(n);return s},_urlToImage:function(t,e){var i=new n.glob.Image;i.onload=function(){e(i)},i.src=t},_rgbToHex:function(t,e,i){return((1<<24)+(t<<16)+(e<<8)+i).toString(16).slice(1)},_hexToRgb:function(t){t=t.replace("#","");var e=parseInt(t,16);return{r:e>>16&255,g:e>>8&255,b:255&e}},getRandomColor:function(){for(var t=(16777215*Math.random()<<0).toString(16);t.length<6;)t="0"+t;return"#"+t},get:function(t,e){return void 0===t?e:t},getRGB:function(t){var e;return t in a?{r:(e=a[t])[0],g:e[1],b:e[2]}:"#"===t[0]?this._hexToRgb(t.substring(1)):"rgb("===t.substr(0,4)?(e=l.exec(t.replace(/ /g,"")),{r:parseInt(e[1],10),g:parseInt(e[2],10),b:parseInt(e[3],10)}):{r:0,g:0,b:0}},colorToRGBA:function(t){return e.Util._namedColorToRBA(t=t||"black")||e.Util._hex3ColorToRGBA(t)||e.Util._hex6ColorToRGBA(t)||e.Util._rgbColorToRGBA(t)||e.Util._rgbaColorToRGBA(t)||e.Util._hslColorToRGBA(t)},_namedColorToRBA:function(t){var e=a[t.toLowerCase()];return e?{r:e[0],g:e[1],b:e[2],a:1}:null},_rgbColorToRGBA:function(t){if(0===t.indexOf("rgb(")){var e=(t=t.match(/rgb\(([^)]+)\)/)[1]).split(/ *, */).map(Number);return{r:e[0],g:e[1],b:e[2],a:1}}},_rgbaColorToRGBA:function(t){if(0===t.indexOf("rgba(")){var e=(t=t.match(/rgba\(([^)]+)\)/)[1]).split(/ *, */).map(Number);return{r:e[0],g:e[1],b:e[2],a:e[3]}}},_hex6ColorToRGBA:function(t){if("#"===t[0]&&7===t.length)return{r:parseInt(t.slice(1,3),16),g:parseInt(t.slice(3,5),16),b:parseInt(t.slice(5,7),16),a:1}},_hex3ColorToRGBA:function(t){if("#"===t[0]&&4===t.length)return{r:parseInt(t[1]+t[1],16),g:parseInt(t[2]+t[2],16),b:parseInt(t[3]+t[3],16),a:1}},_hslColorToRGBA:function(t){if(/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.test(t)){var e,i=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(t).slice(1),n=Number(i[0])/360,s=Number(i[1])/100,r=Number(i[2])/100,o=void 0,a=void 0;if(0===s)return a=255*r,{r:Math.round(a),g:Math.round(a),b:Math.round(a),a:1};for(var l=2*r-(e=r<.5?r*(1+s):r+s-r*s),h=[0,0,0],c=0;c<3;c++)(o=n+1/3*-(c-1))<0&&o++,o>1&&o--,h[c]=255*(a=6*o<1?l+6*(e-l)*o:2*o<1?e:3*o<2?l+(e-l)*(2/3-o)*6:l);return{r:Math.round(h[0]),g:Math.round(h[1]),b:Math.round(h[2]),a:1}}},haveIntersection:function(t,e){return!(e.x>t.x+t.width||e.x+e.width<t.x||e.y>t.y+t.height||e.y+e.height<t.y)},cloneObject:function(t){var e={};for(var i in t)e[i]=this._isPlainObject(t[i])?this.cloneObject(t[i]):this._isArray(t[i])?this.cloneArray(t[i]):t[i];return e},cloneArray:function(t){return t.slice(0)},_degToRad:function(t){return t*r},_radToDeg:function(t){return t*o},_capitalize:function(t){return t.charAt(0).toUpperCase()+t.slice(1)},throw:function(t){throw new Error("Konva error: "+t)},error:function(t){console.error("Konva error: "+t)},warn:function(t){n.Konva.showWarnings&&console.warn("Konva warning: "+t)},extend:function(t,e){function i(){this.constructor=t}i.prototype=e.prototype;var n=t.prototype;for(var s in t.prototype=new i,n)n.hasOwnProperty(s)&&(t.prototype[s]=n[s]);t.__super__=e.prototype,t.super=e},_getControlPoints:function(t,e,i,n,s,r,o){var a=Math.sqrt(Math.pow(i-t,2)+Math.pow(n-e,2)),l=Math.sqrt(Math.pow(s-i,2)+Math.pow(r-n,2)),h=o*a/(a+l),c=o*l/(a+l);return[i-h*(s-t),n-h*(r-e),i+c*(s-t),n+c*(r-e)]},_expandPoints:function(t,i){var n,s,r=t.length,o=[];for(n=2;n<r-2;n+=2)s=e.Util._getControlPoints(t[n-2],t[n-1],t[n],t[n+1],t[n+2],t[n+3],i),o.push(s[0]),o.push(s[1]),o.push(t[n]),o.push(t[n+1]),o.push(s[2]),o.push(s[3]);return o},each:function(t,e){for(var i in t)e(i,t[i])},_inRange:function(t,e,i){return e<=t&&t<i},_getProjectionToSegment:function(t,e,i,n,s,r){var o,a,l,h=(t-i)*(t-i)+(e-n)*(e-n);if(0==h)o=t,a=e,l=(s-i)*(s-i)+(r-n)*(r-n);else{var c=((s-t)*(i-t)+(r-e)*(n-e))/h;c<0?(o=t,a=e,l=(t-s)*(t-s)+(e-r)*(e-r)):c>1?(o=i,a=n,l=(i-s)*(i-s)+(n-r)*(n-r)):l=((o=t+c*(i-t))-s)*(o-s)+((a=e+c*(n-e))-r)*(a-r)}return[o,a,l]},_getProjectionToLine:function(t,i,n){var s=e.Util.cloneObject(t),r=Number.MAX_VALUE;return i.forEach(function(o,a){if(n||a!==i.length-1){var l=i[(a+1)%i.length],h=e.Util._getProjectionToSegment(o.x,o.y,l.x,l.y,t.x,t.y),c=h[1],u=h[2];u<r&&(s.x=h[0],s.y=c,r=u)}}),s},_prepareArrayForTween:function(t,i,n){var s,r=[],o=[];if(t.length>i.length){var a=i;i=t,t=a}for(s=0;s<t.length;s+=2)r.push({x:t[s],y:t[s+1]});for(s=0;s<i.length;s+=2)o.push({x:i[s],y:i[s+1]});var l=[];return o.forEach(function(t){var i=e.Util._getProjectionToLine(t,r,n);l.push(i.x),l.push(i.y)}),l},_prepareToStringify:function(t){var i;for(var n in t.visitedByCircularReferenceRemoval=!0,t)if(t.hasOwnProperty(n)&&t[n]&&"object"==typeof t[n])if(i=Object.getOwnPropertyDescriptor(t,n),t[n].visitedByCircularReferenceRemoval||e.Util._isElement(t[n])){if(!i.configurable)return null;delete t[n]}else if(null===e.Util._prepareToStringify(t[n])){if(!i.configurable)return null;delete t[n]}return delete t.visitedByCircularReferenceRemoval,t},_assign:function(t,e){for(var i in e)t[i]=e[i];return t},_getFirstPointerId:function(t){return t.touches?t.changedTouches[0].identifier:999}}},nwRE:function(t,e,i){"use strict";var n=i("8Y7J"),s=i("Ni3L"),r=i.n(s),o=i("IY7X");let a=(()=>{class t{constructor(){}getDistance(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}}return t.ngInjectableDef=n.Ub({factory:function(){return new t},token:t,providedIn:"root"}),t})();class l{constructor(t,e){this.elRef=t,this.touchS=e,this.preview=new n.m,this.scale=1,this.lastDist=0,this.style={[o.a.DEFAULT]:{table:{strokeWidth:1,stroke:"#333",fill:"#FFFFFF"},text:{fill:"#333"}},[o.a.ACTIVE]:{table:{strokeWidth:1,stroke:"#333",fill:"#1EC025"},text:{fill:"#fff"}},[o.a.BLOCKED]:{table:{strokeWidth:1,stroke:"#333",fill:"#444"},text:{fill:"#fff"}}}}ngOnInit(){setTimeout(()=>{this.init()},500)}init(){const t=this;this.stage=new r.a.Stage({draggable:!0,dragBoundFunc:function(e){let i,n;return[i,n]=t.scale>1?t.countPosition(e):[this.absolutePosition().x,this.absolutePosition().y],{x:i,y:n}},scale:{x:this.scale,y:this.scale},x:-this.elRef.nativeElement.closest("#client-map").clientWidth*(this.scale-1)/2,y:-this.elRef.nativeElement.closest("#client-map").clientHeight*(this.scale-1)/2,width:this.elRef.nativeElement.closest("#client-map").clientWidth,height:this.elRef.nativeElement.closest("#client-map").clientHeight,container:"table-map"}),this.mapLayer=new r.a.Layer,this.stage.add(this.mapLayer),this.tablesLayer=new r.a.Layer,this.stage.add(this.tablesLayer);const e=new Image;this.image=e,e.src="./assets/resto.jpg",e.onload=()=>{const t=Math.min(this.stage.width()/e.width,this.stage.height()/e.height);this.mapScale=t;const i=new r.a.Image({image:e,x:(this.stage.width()-e.width*t)/2,y:(this.stage.height()-e.height*t)/2,width:e.width*t,height:e.height*t});this.imageLayer=i,this.mapLayer.add(i),this.mapLayer.draw(),this.drawTables()},this.stage.getContent().addEventListener("touchmove",t=>{const e=t.touches[0],i=t.touches[1];if(e&&i){this.stage.draggable(!1);const t=this.touchS.getDistance({x:e.clientX,y:e.clientY},{x:i.clientX,y:i.clientY});this.lastDist||(this.lastDist=t);const n=this.stage.scaleX();this.scale=this.stage.scaleX()*t/this.lastDist,this.scale=this.scale<1?1:this.scale>4?4:this.scale,this.stage.scale({x:this.scale,y:this.scale}),this.stage.x(this.stage.x()-(this.stage.width()*this.scale-this.stage.width()*n)/2),this.stage.y(this.stage.y()-(this.stage.height()*this.scale-this.stage.height()*n)/2);const s=this.countPosition(this.stage.position());this.stage.position({x:s[0],y:s[1]}),this.stage.draw(),this.lastDist=t}},!1),this.stage.getContent().addEventListener("touchend",()=>{this.stage.draggable(!0),this.lastDist=0},!1),this.tablesLayer.on("click tap",t=>{this.preview.emit(this.tables.find(e=>e.id===t.target.parent.id())),this.selectedTable&&this.setTableInactive(this.selectedTable.id),this.setTableActive(t.target.parent.id()),this.stage.draw()})}setTableActive(t){this.tables.find(e=>e.id===t&&e.status!==o.a.BLOCKED&&e._numGuestsEnabled)&&this._setTableStyle(t,o.a.ACTIVE)}setTableInactive(t){this._setTableStyle(t,o.a.DEFAULT)}_setTableStyle(t,e){this.stage.findOne("#table-"+t)&&(this.stage.findOne("#table-"+t).attrs=Object.assign({},this.stage.findOne("#table-"+t).attrs,this.style[e].table,{strokeWidth:this.style[e].table.strokeWidth*this.mapScale})),this.stage.findOne("#text-"+t)&&(this.stage.findOne("#text-"+t).attrs=Object.assign({},this.stage.findOne("#text-"+t).attrs,this.style[e].text))}countPosition(t){let e,i;return[i=this.imageLayer.width()*this.scale<=this.stage.width()?this.stage.width()/2*(1-this.scale):t.x<-(this.imageLayer.x()+this.imageLayer.width())*this.scale+this.stage.width()?-(this.imageLayer.x()+this.imageLayer.width())*this.scale+this.stage.width():t.x>-this.imageLayer.x()*this.scale?-this.imageLayer.x()*this.scale:t.x,e=this.imageLayer.height()*this.scale<=this.stage.height()?this.stage.height()/2*(1-this.scale):t.y<-(this.imageLayer.y()+this.imageLayer.height())*this.scale+this.stage.height()?-(this.imageLayer.y()+this.imageLayer.height())*this.scale+this.stage.height():t.y>-this.imageLayer.y()*this.scale?-this.imageLayer.y()*this.scale:t.y]}drawTables(){this.tables.forEach(t=>{let e,i,n={},s={};t.status!==o.a.BLOCKED&&t._numGuestsEnabled?this.selectedTable&&this.selectedTable.id===t.id&&(n=Object.assign({},this.style.selected.table),s=Object.assign({},this.style.selected.text)):(n=Object.assign({},this.style.blocked.table),s=Object.assign({},this.style.blocked.text));let a=new r.a.Group({x:(t.position.x+(t.type===o.b.ROUND?t.position.width/2:0))*this.mapScale+(this.stage.width()-this.image.width*this.mapScale)/2,y:(t.position.y+(t.type===o.b.ROUND?t.position.width/2:0))*this.mapScale+(this.stage.height()-this.image.height*this.mapScale)/2,id:t.id});if(void 0!==t.position.rotate&&a.rotation(t.position.rotate),t.type===o.b.SQUARE||t.type===o.b.POLYGON?e=new r.a.Rect(Object.assign({},this.style[o.a.DEFAULT].table,{width:t.position.width*this.mapScale,height:t.position.height*this.mapScale},n,{strokeWidth:this.style[o.a.DEFAULT].table.strokeWidth*this.mapScale,id:"table-"+t.id,cornerRadius:3*this.mapScale})):t.type===o.b.ROUND&&(e=new r.a.Circle(Object.assign({},this.style[o.a.DEFAULT].table,n,{strokeWidth:this.style[o.a.DEFAULT].table.strokeWidth*this.mapScale,id:"table-"+t.id,radius:t.position.width/2*this.mapScale}))),t.status!==o.a.BLOCKED&&t._numGuestsEnabled)i=new r.a.Text(Object.assign({text:t.number.toString(),fontSize:Math.min(16,32/t.number.toString().split("").filter(t=>"."!==t).length)*this.mapScale,rotation:-t.position.rotate,id:"text-"+t.id},this.style[o.a.DEFAULT].text,s)),this.drawElements(t,i,e,a);else{const n=new Image;n.onload=()=>{i=new r.a.Image({image:n,width:n.width*this.mapScale,height:n.height*this.mapScale}),this.drawElements(t,i,e,a)},n.src="./assets/icons/icon-table-lock.svg"}})}drawElements(t,e,i,n){t.type===o.b.ROUND?(e.x(i.x()),e.y(i.y())):(e.x(i.x()+i.width()/2),e.y(i.y()+i.height()/2)),e.offset({x:e.width()/2,y:e.height()/2-1*this.mapScale}),i&&(n.add(i),n.add(e),this.tablesLayer.add(n),this.tablesLayer.draw())}}var h=n.sb({encapsulation:0,styles:[[""]],data:{}});function c(t){return n.Qb(0,[(t()(),n.ub(0,0,null,null,0,"div",[["id","table-map"]],null,null,null,null,null))],null,null)}var u=i("SVse"),d=i("s6ns"),p=i("EL1w"),f=i("RNJk"),g=i("xjD+");i.d(e,"a",function(){return y});var _=n.sb({encapsulation:0,styles:[[".popup-header[_ngcontent-%COMP%]{padding:10px}"]],data:{}});function m(t){return n.Qb(0,[(t()(),n.ub(0,0,null,null,1,null,null,null,null,null,null,null)),(t()(),n.Ob(1,null,["("," \u20bd)"]))],null,function(t,e){var i=e.component;t(e,1,0,null==i.selectedTable?null:i.selectedTable.deposit)})}function b(t){return n.Qb(0,[(t()(),n.ub(0,0,null,null,26,"div",[["class","d-flex flex-column fw-height-percent-100"]],null,null,null,null,null)),(t()(),n.ub(1,0,null,null,2,"div",[["class","popup-header d-flex justify-content-between align-items-center mb-3 fw-flex-shrink-0"]],null,null,null,null,null)),(t()(),n.ub(2,0,null,null,1,"div",[["class","flex-grow-1 fw-fz-20 text-center flex-shrink-0 fw-font-roboto-slab"]],null,null,null,null,null)),(t()(),n.Ob(-1,null,["\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0441\u0442\u043e\u043b\u0438\u043a"])),(t()(),n.ub(4,0,null,null,3,"div",[["class","flex-grow-1"],["id","client-map"]],null,null,null,null,null)),(t()(),n.ub(5,0,null,null,2,"app-client-map",[["class","d-block"]],null,[[null,"preview"]],function(t,e,i){var n=!0;return"preview"===e&&(n=!1!==t.component.onPreview(i)&&n),n},c,h)),n.tb(6,114688,null,0,l,[n.k,a],{tables:[0,"tables"],selectedTable:[1,"selectedTable"]},{preview:"preview"}),n.Ib(131072,u.b,[n.h]),(t()(),n.ub(8,0,null,null,18,"div",[["class","pl-1 pr-1 pb-1 text-center mt-3 fw-flex-shrink-0"]],null,null,null,null,null)),(t()(),n.ub(9,0,null,null,6,"div",[["class","mb-3"]],null,null,null,null,null)),n.Lb(512,null,u.v,u.w,[n.r,n.s,n.k,n.D]),n.tb(11,278528,null,0,u.i,[u.v],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),n.Jb(12,{"fw-opacity-0":0}),(t()(),n.Ob(13,null,[" "," \u0441\u0442\u043e\u043b\u0438\u043a "])),(t()(),n.ub(14,0,null,null,1,"span",[["class","fw-color-gray"]],null,null,null,null,null)),(t()(),n.Ob(15,null,[" \u043c\u0430\u043a\u0441. "," \u0447\u0435\u043b\u043e\u0432\u0435\u043a\u0430 "])),(t()(),n.ub(16,0,null,null,10,"div",[["class","d-flex"]],null,null,null,null,null)),(t()(),n.ub(17,0,null,null,3,"div",[["class","col-6 pr-1 pl-0"]],null,null,null,null,null)),(t()(),n.ub(18,0,null,null,2,"button",[["class","col btn btn-secondary btn-lg"],["mat-dialog-close",""],["type","button"]],[[1,"aria-label",0]],[[null,"click"]],function(t,e,i){var s=!0;return"click"===e&&(s=!1!==n.Gb(t,19).dialogRef.close(n.Gb(t,19).dialogResult)&&s),s},null,null)),n.tb(19,606208,null,0,d.f,[[2,d.j],n.k,d.e],{dialogResult:[0,"dialogResult"]},null),(t()(),n.Ob(-1,null,["\u041e\u0442\u043c\u0435\u043d\u0430"])),(t()(),n.ub(21,0,null,null,5,"div",[["class","col-6 pr-0 pl-1"]],null,null,null,null,null)),(t()(),n.ub(22,0,null,null,4,"button",[["class","col btn btn-primary btn-lg"],["type","button"]],[[8,"disabled",0],[1,"aria-label",0]],[[null,"click"]],function(t,e,i){var s=!0;return"click"===e&&(s=!1!==n.Gb(t,23).dialogRef.close(n.Gb(t,23).dialogResult)&&s),s},null,null)),n.tb(23,606208,null,0,d.f,[[2,d.j],n.k,d.e],{dialogResult:[0,"dialogResult"]},null),(t()(),n.Ob(-1,null,[" \u0412\u044b\u0431\u0440\u0430\u0442\u044c "])),(t()(),n.jb(16777216,null,null,1,null,m)),n.tb(26,16384,null,0,u.k,[n.P,n.M],{ngIf:[0,"ngIf"]},null)],function(t,e){var i=e.component;t(e,6,0,n.Pb(e,6,0,n.Gb(e,7).transform(i.tables$)),i.selectedTable);var s=t(e,12,0,!i.selectedTable);t(e,11,0,"mb-3",s),t(e,19,0,""),t(e,23,0,i.selectedTable),t(e,26,0,(null==i.selectedTable?null:i.selectedTable.deposit)>0)},function(t,e){var i=e.component;t(e,13,0,null==i.selectedTable?null:i.selectedTable.number),t(e,15,0,null==i.selectedTable?null:i.selectedTable.num_persons),t(e,18,0,n.Gb(e,19).ariaLabel||null),t(e,22,0,!i.selectedTable,n.Gb(e,23).ariaLabel||null)})}function v(t){return n.Qb(0,[(t()(),n.ub(0,0,null,null,1,"app-client-plan",[],null,null,null,b,_)),n.tb(1,114688,null,0,p.a,[d.j,f.a,g.a,d.a],null,null)],function(t,e){t(e,1,0)},null)}var y=n.qb("app-client-plan",p.a,v,{},{},[])},o06L:function(t,e,i){var n=i("mrSG").__extends;Object.defineProperty(e,"__esModule",{value:!0});var s=i("nLhi"),r=i("8LQ0"),o=i("/OYL"),a=i("7T3k"),l=i("RUZL"),h=i("13ei"),c=function(t){function e(e){var i=t.call(this,e)||this;return i._updated=!0,i.anim=new a.Animation(function(){var t=i._updated;return i._updated=!1,t}),i.on("animationChange.konva",function(){this.frameIndex(0)}),i.on("frameIndexChange.konva",function(){this._updated=!0}),i.on("frameRateChange.konva",function(){this.anim.isRunning()&&(clearInterval(this.interval),this._setInterval())}),i}return n(e,t),e.prototype._sceneFunc=function(t){var e=this.animation(),i=this.frameIndex(),n=4*i,s=this.animations()[e],r=this.frameOffsets(),o=s[n+0],a=s[n+1],l=s[n+2],h=s[n+3],c=this.image();if((this.hasFill()||this.hasStroke())&&(t.beginPath(),t.rect(0,0,l,h),t.closePath(),t.fillStrokeShape(this)),c)if(r){var u=r[e],d=2*i;t.drawImage(c,o,a,l,h,u[d+0],u[d+1],l,h)}else t.drawImage(c,o,a,l,h,0,0,l,h)},e.prototype._hitFunc=function(t){var e=this.animation(),i=this.frameIndex(),n=4*i,s=this.animations()[e],r=this.frameOffsets(),o=s[n+2],a=s[n+3];if(t.beginPath(),r){var l=r[e],h=2*i;t.rect(l[h+0],l[h+1],o,a)}else t.rect(0,0,o,a);t.closePath(),t.fillShape(this)},e.prototype._useBufferCanvas=function(){return(this.hasShadow()||1!==this.getAbsoluteOpacity())&&this.hasStroke()},e.prototype._setInterval=function(){var t=this;this.interval=setInterval(function(){t._updateIndex()},1e3/this.frameRate())},e.prototype.start=function(){if(!this.isRunning()){var t=this.getLayer();this.anim.setLayers(t),this._setInterval(),this.anim.start()}},e.prototype.stop=function(){this.anim.stop(),clearInterval(this.interval)},e.prototype.isRunning=function(){return this.anim.isRunning()},e.prototype._updateIndex=function(){var t=this.frameIndex(),e=this.animation(),i=this.animations();this.frameIndex(t<i[e].length/4-1?t+1:0)},e}(o.Shape);e.Sprite=c,c.prototype.className="Sprite",h._registerNode(c),r.Factory.addGetterSetter(c,"animation"),r.Factory.addGetterSetter(c,"animations"),r.Factory.addGetterSetter(c,"frameOffsets"),r.Factory.addGetterSetter(c,"image"),r.Factory.addGetterSetter(c,"frameIndex",0,l.getNumberValidator()),r.Factory.addGetterSetter(c,"frameRate",17,l.getNumberValidator()),r.Factory.backCompat(c,{index:"frameIndex",getIndex:"getFrameIndex",setIndex:"setFrameIndex"}),s.Collection.mapMethods(c)},pMsS:function(t,e,i){"use strict";i.d(e,"a",function(){return o});var n=i("XNiG"),s=i("DnKK"),r=i("Kj3r");class o{constructor(){this.changes$=new n.a,this.touches$=new n.a}ngOnInit(){}writeValue(t){this.state=t,this.changes$.next(t)}updateValue(t){this.writeValue(t)}registerOnChange(t){this.changes$.pipe(Object(s.a)(this),Object(r.a)(300)).subscribe(t)}registerOnTouched(t){this.touches$.pipe(Object(s.a)(this)).subscribe(t)}ngOnDestroy(){}}},s6ns:function(t,e,i){"use strict";i.d(e,"i",function(){return k}),i.d(e,"d",function(){return S}),i.d(e,"a",function(){return v}),i.d(e,"b",function(){return y}),i.d(e,"c",function(){return w}),i.d(e,"e",function(){return x}),i.d(e,"h",function(){return _}),i.d(e,"f",function(){return C}),i.d(e,"g",function(){return f}),i.d(e,"j",function(){return b}),i("GS7A");var n=i("8Y7J"),s=i("zMNK"),r=i("dvZr"),o=i("XNiG"),a=i("NXyV"),l=i("LRne"),h=i("pLZG"),c=i("IzEk"),u=i("JX91"),d=i("IP0z"),p=i("QQfA");class f{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.autoFocus=!0,this.restoreFocus=!0,this.closeOnNavigation=!0}}function g(){throw Error("Attempting to attach dialog content after content is already attached")}class _ extends s.a{constructor(t,e,i,s,r){super(),this._elementRef=t,this._focusTrapFactory=e,this._changeDetectorRef=i,this._document=s,this._config=r,this._elementFocusedBeforeDialogWasOpened=null,this._state="enter",this._animationStateChanged=new n.m,this._ariaLabelledBy=r.ariaLabelledBy||null}attachComponentPortal(t){return this._portalOutlet.hasAttached()&&g(),this._savePreviouslyFocusedElement(),this._portalOutlet.attachComponentPortal(t)}attachTemplatePortal(t){return this._portalOutlet.hasAttached()&&g(),this._savePreviouslyFocusedElement(),this._portalOutlet.attachTemplatePortal(t)}_trapFocus(){const t=this._elementRef.nativeElement;if(this._focusTrap||(this._focusTrap=this._focusTrapFactory.create(t)),this._config.autoFocus)this._focusTrap.focusInitialElementWhenReady();else{const e=this._document.activeElement;e===t||t.contains(e)||t.focus()}}_restoreFocus(){const t=this._elementFocusedBeforeDialogWasOpened;this._config.restoreFocus&&t&&"function"==typeof t.focus&&t.focus(),this._focusTrap&&this._focusTrap.destroy()}_savePreviouslyFocusedElement(){this._document&&(this._elementFocusedBeforeDialogWasOpened=this._document.activeElement,this._elementRef.nativeElement.focus&&Promise.resolve().then(()=>this._elementRef.nativeElement.focus()))}_onAnimationDone(t){"enter"===t.toState?this._trapFocus():"exit"===t.toState&&this._restoreFocus(),this._animationStateChanged.emit(t)}_onAnimationStart(t){this._animationStateChanged.emit(t)}_startExitAnimation(){this._state="exit",this._changeDetectorRef.markForCheck()}}let m=0;class b{constructor(t,e,i,n=`mat-dialog-${m++}`){this._overlayRef=t,this._containerInstance=e,this.id=n,this.disableClose=this._containerInstance._config.disableClose,this._afterOpened=new o.a,this._afterClosed=new o.a,this._beforeClosed=new o.a,e._id=n,e._animationStateChanged.pipe(Object(h.a)(t=>"done"===t.phaseName&&"enter"===t.toState),Object(c.a)(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),e._animationStateChanged.pipe(Object(h.a)(t=>"done"===t.phaseName&&"exit"===t.toState),Object(c.a)(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._overlayRef.dispose()}),t.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._afterClosed.next(this._result),this._afterClosed.complete(),this.componentInstance=null,this._overlayRef.dispose()}),t.keydownEvents().pipe(Object(h.a)(t=>t.keyCode===r.e&&!this.disableClose&&!Object(r.q)(t))).subscribe(t=>{t.preventDefault(),this.close()})}close(t){this._result=t,this._containerInstance._animationStateChanged.pipe(Object(h.a)(t=>"start"===t.phaseName),Object(c.a)(1)).subscribe(e=>{this._beforeClosed.next(t),this._beforeClosed.complete(),this._overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>{this._overlayRef.dispose()},e.totalTime+100)}),this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened.asObservable()}afterClosed(){return this._afterClosed.asObservable()}beforeClosed(){return this._beforeClosed.asObservable()}backdropClick(){return this._overlayRef.backdropClick()}keydownEvents(){return this._overlayRef.keydownEvents()}updatePosition(t){let e=this._getPositionStrategy();return t&&(t.left||t.right)?t.left?e.left(t.left):e.right(t.right):e.centerHorizontally(),t&&(t.top||t.bottom)?t.top?e.top(t.top):e.bottom(t.bottom):e.centerVertically(),this._overlayRef.updatePosition(),this}updateSize(t="",e=""){return this._getPositionStrategy().width(t).height(e),this._overlayRef.updatePosition(),this}addPanelClass(t){return this._overlayRef.addPanelClass(t),this}removePanelClass(t){return this._overlayRef.removePanelClass(t),this}afterOpen(){return this.afterOpened()}beforeClose(){return this.beforeClosed()}_getPositionStrategy(){return this._overlayRef.getConfig().positionStrategy}}const v=new n.p("MatDialogData"),y=new n.p("mat-dialog-default-options"),w=new n.p("mat-dialog-scroll-strategy");function S(t){return()=>t.scrollStrategies.block()}class x{constructor(t,e,i,n,s,r,l){this._overlay=t,this._injector=e,this._location=i,this._defaultOptions=n,this._parentDialog=r,this._overlayContainer=l,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new o.a,this._afterOpenedAtThisLevel=new o.a,this._ariaHiddenElements=new Map,this.afterAllClosed=Object(a.a)(()=>this.openDialogs.length?this._afterAllClosed:this._afterAllClosed.pipe(Object(u.a)(void 0))),this._scrollStrategy=s}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}get afterOpen(){return this.afterOpened}get _afterAllClosed(){const t=this._parentDialog;return t?t._afterAllClosed:this._afterAllClosedAtThisLevel}open(t,e){if((e=function(t,e){return Object.assign({},e,t)}(e,this._defaultOptions||new f)).id&&this.getDialogById(e.id))throw Error(`Dialog with id "${e.id}" exists already. The dialog id must be unique.`);const i=this._createOverlay(e),n=this._attachDialogContainer(i,e),s=this._attachDialogContent(t,n,i,e);return this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(s),s.afterClosed().subscribe(()=>this._removeOpenDialog(s)),this.afterOpened.next(s),s}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(t){return this.openDialogs.find(e=>e.id===t)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_createOverlay(t){const e=this._getOverlayConfig(t);return this._overlay.create(e)}_getOverlayConfig(t){const e=new p.d({positionStrategy:this._overlay.position().global(),scrollStrategy:t.scrollStrategy||this._scrollStrategy(),panelClass:t.panelClass,hasBackdrop:t.hasBackdrop,direction:t.direction,minWidth:t.minWidth,minHeight:t.minHeight,maxWidth:t.maxWidth,maxHeight:t.maxHeight,disposeOnNavigation:t.closeOnNavigation});return t.backdropClass&&(e.backdropClass=t.backdropClass),e}_attachDialogContainer(t,e){const i=new s.e(e&&e.viewContainerRef&&e.viewContainerRef.injector||this._injector,new WeakMap([[f,e]])),n=new s.c(_,e.viewContainerRef,i);return t.attach(n).instance}_attachDialogContent(t,e,i,r){const o=new b(i,e,this._location,r.id);if(r.hasBackdrop&&i.backdropClick().subscribe(()=>{o.disableClose||o.close()}),t instanceof n.M)e.attachTemplatePortal(new s.g(t,null,{$implicit:r.data,dialogRef:o}));else{const i=this._createInjector(r,o,e),n=e.attachComponentPortal(new s.c(t,void 0,i));o.componentInstance=n.instance}return o.updateSize(r.width,r.height).updatePosition(r.position),o}_createInjector(t,e,i){const n=t&&t.viewContainerRef&&t.viewContainerRef.injector,r=new WeakMap([[_,i],[v,t.data],[b,e]]);return!t.direction||n&&n.get(d.b,null)||r.set(d.b,{value:t.direction,change:Object(l.a)()}),new s.e(n||this._injector,r)}_removeOpenDialog(t){const e=this.openDialogs.indexOf(t);e>-1&&(this.openDialogs.splice(e,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((t,e)=>{t?e.setAttribute("aria-hidden",t):e.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),this._afterAllClosed.next()))}_hideNonDialogContentFromAssistiveTechnology(){const t=this._overlayContainer.getContainerElement();if(t.parentElement){const e=t.parentElement.children;for(let i=e.length-1;i>-1;i--){let n=e[i];n===t||"SCRIPT"===n.nodeName||"STYLE"===n.nodeName||n.hasAttribute("aria-live")||(this._ariaHiddenElements.set(n,n.getAttribute("aria-hidden")),n.setAttribute("aria-hidden","true"))}}}_closeDialogs(t){let e=t.length;for(;e--;)t[e].close()}}class C{constructor(t,e,i){this.dialogRef=t,this._elementRef=e,this._dialog=i}ngOnInit(){this.dialogRef||(this.dialogRef=function(t,e){let i=t.nativeElement.parentElement;for(;i&&!i.classList.contains("mat-dialog-container");)i=i.parentElement;return i?e.find(t=>t.id===i.id):null}(this._elementRef,this._dialog.openDialogs))}ngOnChanges(t){const e=t._matDialogClose||t._matDialogCloseResult;e&&(this.dialogResult=e.currentValue)}}class k{}},szsX:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i("8LQ0"),s=i("SXH2"),r=i("RUZL");e.RGBA=function(t){var e,i,n=t.data,s=n.length,r=this.red(),o=this.green(),a=this.blue(),l=this.alpha();for(e=0;e<s;e+=4)n[e]=r*l+n[e]*(i=1-l),n[e+1]=o*l+n[e+1]*i,n[e+2]=a*l+n[e+2]*i},n.Factory.addGetterSetter(s.Node,"red",0,function(t){return this._filterUpToDate=!1,t>255?255:t<0?0:Math.round(t)}),n.Factory.addGetterSetter(s.Node,"green",0,function(t){return this._filterUpToDate=!1,t>255?255:t<0?0:Math.round(t)}),n.Factory.addGetterSetter(s.Node,"blue",0,r.RGBComponent,n.Factory.afterSetFilter),n.Factory.addGetterSetter(s.Node,"alpha",1,function(t){return this._filterUpToDate=!1,t>1?1:t<0?0:t})},t68o:function(t,e,i){"use strict";i.d(e,"a",function(){return d});var n=i("8Y7J"),s=i("s6ns"),r=i("SVse"),o=(i("QQfA"),i("IP0z"),i("zMNK")),a=(i("/HVE"),i("hOhj"),i("Xd0L"),i("cUpR"),i("5GAg")),l=n.sb({encapsulation:2,styles:[".mat-dialog-container{display:block;padding:24px;border-radius:4px;box-sizing:border-box;overflow:auto;outline:0;width:100%;height:100%;min-height:inherit;max-height:inherit}@media (-ms-high-contrast:active){.mat-dialog-container{outline:solid 1px}}.mat-dialog-content{display:block;margin:0 -24px;padding:0 24px;max-height:65vh;overflow:auto;-webkit-overflow-scrolling:touch}.mat-dialog-title{margin:0 0 20px;display:block}.mat-dialog-actions{padding:8px 0;display:flex;flex-wrap:wrap;min-height:52px;align-items:center;margin-bottom:-24px}.mat-dialog-actions[align=end]{justify-content:flex-end}.mat-dialog-actions[align=center]{justify-content:center}.mat-dialog-actions .mat-button+.mat-button,.mat-dialog-actions .mat-button+.mat-raised-button,.mat-dialog-actions .mat-raised-button+.mat-button,.mat-dialog-actions .mat-raised-button+.mat-raised-button{margin-left:8px}[dir=rtl] .mat-dialog-actions .mat-button+.mat-button,[dir=rtl] .mat-dialog-actions .mat-button+.mat-raised-button,[dir=rtl] .mat-dialog-actions .mat-raised-button+.mat-button,[dir=rtl] .mat-dialog-actions .mat-raised-button+.mat-raised-button{margin-left:0;margin-right:8px}"],data:{animation:[{type:7,name:"dialogContainer",definitions:[{type:0,name:"void, exit",styles:{type:6,styles:{opacity:0,transform:"scale(0.7)"},offset:null},options:void 0},{type:0,name:"enter",styles:{type:6,styles:{transform:"none"},offset:null},options:void 0},{type:1,expr:"* => enter",animation:{type:4,styles:{type:6,styles:{transform:"none",opacity:1},offset:null},timings:"150ms cubic-bezier(0, 0, 0.2, 1)"},options:null},{type:1,expr:"* => void, * => exit",animation:{type:4,styles:{type:6,styles:{opacity:0},offset:null},timings:"75ms cubic-bezier(0.4, 0.0, 0.2, 1)"},options:null}],options:{}}]}});function h(t){return n.Qb(0,[(t()(),n.jb(0,null,null,0))],null,null)}function c(t){return n.Qb(0,[n.Mb(402653184,1,{_portalOutlet:0}),(t()(),n.jb(16777216,null,null,1,null,h)),n.tb(2,212992,[[1,4]],0,o.b,[n.j,n.P],{portal:[0,"portal"]},null)],function(t,e){t(e,2,0,"")},null)}function u(t){return n.Qb(0,[(t()(),n.ub(0,0,null,null,1,"mat-dialog-container",[["aria-modal","true"],["class","mat-dialog-container"],["tabindex","-1"]],[[1,"id",0],[1,"role",0],[1,"aria-labelledby",0],[1,"aria-label",0],[1,"aria-describedby",0],[40,"@dialogContainer",0]],[["component","@dialogContainer.start"],["component","@dialogContainer.done"]],function(t,e,i){var s=!0;return"component:@dialogContainer.start"===e&&(s=!1!==n.Gb(t,1)._onAnimationStart(i)&&s),"component:@dialogContainer.done"===e&&(s=!1!==n.Gb(t,1)._onAnimationDone(i)&&s),s},c,l)),n.tb(1,49152,null,0,s.h,[n.k,a.g,n.h,[2,r.d],s.g],null,null)],null,function(t,e){t(e,0,0,n.Gb(e,1)._id,n.Gb(e,1)._config.role,n.Gb(e,1)._config.ariaLabel?null:n.Gb(e,1)._ariaLabelledBy,n.Gb(e,1)._config.ariaLabel,n.Gb(e,1)._config.ariaDescribedBy||null,n.Gb(e,1)._state)})}var d=n.qb("mat-dialog-container",s.h,u,{},{},[])},tYla:function(t,e,i){"use strict";i.d(e,"a",function(){return r});var n=i("XNiG"),s=i("DnKK");i("BkKC");class r{constructor(t){this._wordsH=t,this.changes$=new n.a,this.touches$=new n.a,this.state=1}ngOnInit(){}registerOnTouched(t){this.touches$.pipe(Object(s.a)(this)).subscribe(t)}registerOnChange(t){this.changes$.pipe(Object(s.a)(this)).subscribe(t)}writeValue(t){this.state=t,this.ending=this._wordsH.getEnding(this.state,["\u0433\u043e\u0441\u0442\u044c","\u0433\u043e\u0441\u0442\u044f","\u0433\u043e\u0441\u0442\u0435\u0439"]),this.changes$.next(t)}updateValue(t){t!==this.state&&this.writeValue(t)}increase(t){t.preventDefault(),this.updateValue(this.state+1)}decrease(t){t.preventDefault(),this.updateValue(this.state<=1?1:this.state-1)}ngOnDestroy(){}}},tkf6:function(t,e,i){"use strict";i.d(e,"a",function(){return n}),i("BkKC");class n{constructor(t){this.wordsH=t}transform(t,e){return t+" "+this.wordsH.getEnding(t,e)}}},u85w:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i("8LQ0"),s=i("SXH2"),r=i("RUZL");e.Noise=function(t){var e,i=255*this.noise(),n=t.data,s=n.length,r=i/2;for(e=0;e<s;e+=4)n[e+0]+=r-2*r*Math.random(),n[e+1]+=r-2*r*Math.random(),n[e+2]+=r-2*r*Math.random()},n.Factory.addGetterSetter(s.Node,"noise",.2,r.getNumberValidator(),n.Factory.afterSetFilter)},vLE5:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i("8LQ0"),s=i("SXH2"),r=i("RUZL");function o(t,e,i,n,s){var r=i-e,o=s-n;return 0===r?n+o/2:0===o?n:o*((t-e)/r)+n}e.Enhance=function(t){var e,i,n,s,r=t.data,a=r.length,l=r[0],h=l,c=r[1],u=c,d=r[2],p=d,f=this.enhance();if(0!==f){for(s=0;s<a;s+=4)(e=r[s+0])<l?l=e:e>h&&(h=e),(i=r[s+1])<c?c=i:i>u&&(u=i),(n=r[s+2])<d?d=n:n>p&&(p=n);var g,_,m,b,v,y,w,S,x;for(h===l&&(h=255,l=0),u===c&&(u=255,c=0),p===d&&(p=255,d=0),f>0?(_=h+f*(255-h),m=l-f*(l-0),v=u+f*(255-u),y=c-f*(c-0),S=p+f*(255-p),x=d-f*(d-0)):(_=h+f*(h-(g=.5*(h+l))),m=l+f*(l-g),v=u+f*(u-(b=.5*(u+c))),y=c+f*(c-b),S=p+f*(p-(w=.5*(p+d))),x=d+f*(d-w)),s=0;s<a;s+=4)r[s+0]=o(r[s+0],l,h,m,_),r[s+1]=o(r[s+1],c,u,y,v),r[s+2]=o(r[s+2],d,p,x,S)}},n.Factory.addGetterSetter(s.Node,"enhance",0,r.getNumberValidator(),n.Factory.afterSetFilter)},ve60:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i("8LQ0"),s=i("SXH2"),r=i("RUZL");function o(){this.r=0,this.g=0,this.b=0,this.a=0,this.next=null}var a=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259],l=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24];e.Blur=function(t){var e=Math.round(this.blurRadius());e>0&&function(t,e){var i,n,s,r,h,c,u,d,p,f,g,_,m,b,v,y,w,S,x,C,k,O,P,E,T=t.data,R=t.width,M=t.height,A=e+e+1,I=R-1,D=M-1,F=e+1,L=F*(F+1)/2,G=new o,N=null,j=G,V=null,B=null,U=a[e],z=l[e];for(s=1;s<A;s++)j=j.next=new o,s===F&&(N=j);for(j.next=G,u=c=0,n=0;n<M;n++){for(y=w=S=x=d=p=f=g=0,_=F*(C=T[c]),m=F*(k=T[c+1]),b=F*(O=T[c+2]),v=F*(P=T[c+3]),d+=L*C,p+=L*k,f+=L*O,g+=L*P,j=G,s=0;s<F;s++)j.r=C,j.g=k,j.b=O,j.a=P,j=j.next;for(s=1;s<F;s++)d+=(j.r=C=T[r=c+((I<s?I:s)<<2)])*(E=F-s),p+=(j.g=k=T[r+1])*E,f+=(j.b=O=T[r+2])*E,g+=(j.a=P=T[r+3])*E,y+=C,w+=k,S+=O,x+=P,j=j.next;for(V=G,B=N,i=0;i<R;i++)T[c+3]=P=g*U>>z,0!==P?(T[c]=(d*U>>z)*(P=255/P),T[c+1]=(p*U>>z)*P,T[c+2]=(f*U>>z)*P):T[c]=T[c+1]=T[c+2]=0,d-=_,p-=m,f-=b,g-=v,_-=V.r,m-=V.g,b-=V.b,v-=V.a,r=u+((r=i+e+1)<I?r:I)<<2,d+=y+=V.r=T[r],p+=w+=V.g=T[r+1],f+=S+=V.b=T[r+2],g+=x+=V.a=T[r+3],V=V.next,_+=C=B.r,m+=k=B.g,b+=O=B.b,v+=P=B.a,y-=C,w-=k,S-=O,x-=P,B=B.next,c+=4;u+=R}for(i=0;i<R;i++){for(w=S=x=y=p=f=g=d=0,_=F*(C=T[c=i<<2]),m=F*(k=T[c+1]),b=F*(O=T[c+2]),v=F*(P=T[c+3]),d+=L*C,p+=L*k,f+=L*O,g+=L*P,j=G,s=0;s<F;s++)j.r=C,j.g=k,j.b=O,j.a=P,j=j.next;for(h=R,s=1;s<=e;s++)d+=(j.r=C=T[c=h+i<<2])*(E=F-s),p+=(j.g=k=T[c+1])*E,f+=(j.b=O=T[c+2])*E,g+=(j.a=P=T[c+3])*E,y+=C,w+=k,S+=O,x+=P,j=j.next,s<D&&(h+=R);for(c=i,V=G,B=N,n=0;n<M;n++)T[3+(r=c<<2)]=P=g*U>>z,P>0?(T[r]=(d*U>>z)*(P=255/P),T[r+1]=(p*U>>z)*P,T[r+2]=(f*U>>z)*P):T[r]=T[r+1]=T[r+2]=0,d-=_,p-=m,f-=b,g-=v,_-=V.r,m-=V.g,b-=V.b,v-=V.a,r=i+((r=n+F)<D?r:D)*R<<2,d+=y+=V.r=T[r],p+=w+=V.g=T[r+1],f+=S+=V.b=T[r+2],g+=x+=V.a=T[r+3],V=V.next,_+=C=B.r,m+=k=B.g,b+=O=B.b,v+=P=B.a,y-=C,w-=k,S-=O,x-=P,B=B.next,c+=R}}(t,e)},n.Factory.addGetterSetter(s.Node,"blurRadius",0,r.getNumberValidator(),n.Factory.afterSetFilter)},vxG3:function(t,e,i){var n=i("mrSG").__extends;Object.defineProperty(e,"__esModule",{value:!0});var s=i("nLhi"),r=i("8LQ0"),o=i("/OYL"),a=i("RUZL"),l=i("13ei"),h=2*Math.PI,c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype._sceneFunc=function(t){t.beginPath(),t.arc(0,0,this.innerRadius(),0,h,!1),t.moveTo(this.outerRadius(),0),t.arc(0,0,this.outerRadius(),h,0,!0),t.closePath(),t.fillStrokeShape(this)},e.prototype.getWidth=function(){return 2*this.outerRadius()},e.prototype.getHeight=function(){return 2*this.outerRadius()},e.prototype.setWidth=function(t){this.outerRadius(t/2)},e.prototype.setHeight=function(t){this.outerRadius(t/2)},e}(o.Shape);e.Ring=c,c.prototype.className="Ring",c.prototype._centroid=!0,c.prototype._attrsAffectingSize=["innerRadius","outerRadius"],l._registerNode(c),r.Factory.addGetterSetter(c,"innerRadius",0,a.getNumberValidator()),r.Factory.addGetterSetter(c,"outerRadius",0,a.getNumberValidator()),s.Collection.mapMethods(c)},wEV8:function(t,e,i){"use strict";var n=i("8Y7J"),s=i("s7LF");i("pMsS"),i.d(e,"a",function(){return r}),i.d(e,"b",function(){return o});var r=n.sb({encapsulation:0,styles:[[""]],data:{}});function o(t){return n.Qb(0,[(t()(),n.ub(0,0,null,null,9,"div",[["class","pt-3 pb-3"]],null,null,null,null,null)),(t()(),n.ub(1,0,null,null,1,"div",[["class","mb-2 pb-1 caption-medium"]],null,null,null,null,null)),(t()(),n.Ob(-1,null,["\u041f\u043e\u0436\u0435\u043b\u0430\u043d\u0438\u044f"])),(t()(),n.ub(3,0,null,null,6,"div",[],null,null,null,null,null)),(t()(),n.ub(4,0,null,null,5,"textarea",[["class","form-control"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(t,e,i){var s=!0,r=t.component;return"input"===e&&(s=!1!==n.Gb(t,5)._handleInput(i.target.value)&&s),"blur"===e&&(s=!1!==n.Gb(t,5).onTouched()&&s),"compositionstart"===e&&(s=!1!==n.Gb(t,5)._compositionStart()&&s),"compositionend"===e&&(s=!1!==n.Gb(t,5)._compositionEnd(i.target.value)&&s),"ngModelChange"===e&&(s=!1!==(r.state=i)&&s),"ngModelChange"===e&&(s=!1!==r.updateValue(r.state)&&s),s},null,null)),n.tb(5,16384,null,0,s.c,[n.D,n.k,[2,s.a]],null,null),n.Lb(1024,null,s.j,function(t){return[t]},[s.c]),n.tb(7,671744,null,0,s.o,[[8,null],[8,null],[8,null],[6,s.j]],{model:[0,"model"]},{update:"ngModelChange"}),n.Lb(2048,null,s.k,null,[s.o]),n.tb(9,16384,null,0,s.l,[[4,s.k]],null,null)],function(t,e){t(e,7,0,e.component.state)},function(t,e){t(e,4,0,n.Gb(e,9).ngClassUntouched,n.Gb(e,9).ngClassTouched,n.Gb(e,9).ngClassPristine,n.Gb(e,9).ngClassDirty,n.Gb(e,9).ngClassValid,n.Gb(e,9).ngClassInvalid,n.Gb(e,9).ngClassPending)})}},"x0L+":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i("8LQ0"),s=i("SXH2"),r=i("RUZL");e.Contrast=function(t){var e,i=Math.pow((this.contrast()+100)/100,2),n=t.data,s=n.length,r=150,o=150,a=150;for(e=0;e<s;e+=4)r=n[e],o=n[e+1],a=n[e+2],r/=255,r-=.5,r*=i,r+=.5,o/=255,o-=.5,o*=i,o+=.5,a/=255,a-=.5,a*=i,a+=.5,o=(o*=255)<0?0:o>255?255:o,a=(a*=255)<0?0:a>255?255:a,n[e]=r=(r*=255)<0?0:r>255?255:r,n[e+1]=o,n[e+2]=a},n.Factory.addGetterSetter(s.Node,"contrast",0,r.getNumberValidator(),n.Factory.afterSetFilter)},xSfM:function(t,e,i){var n=i("mrSG").__extends;Object.defineProperty(e,"__esModule",{value:!0});var s=i("nLhi"),r=i("13ei"),o=["arc","arcTo","beginPath","bezierCurveTo","clearRect","clip","closePath","createLinearGradient","createPattern","createRadialGradient","drawImage","ellipse","fill","fillText","getImageData","createImageData","lineTo","moveTo","putImageData","quadraticCurveTo","rect","restore","rotate","save","scale","setLineDash","setTransform","stroke","strokeText","transform","translate"],a=function(){function t(t){this.canvas=t,this._context=t._canvas.getContext("2d"),r.Konva.enableTrace&&(this.traceArr=[],this._enableTrace())}return t.prototype.fillShape=function(t){t.getFillEnabled()&&this._fill(t)},t.prototype._fill=function(t){},t.prototype.strokeShape=function(t){t.getStrokeEnabled()&&this._stroke(t)},t.prototype._stroke=function(t){},t.prototype.fillStrokeShape=function(t){t.getFillEnabled()&&this._fill(t),t.getStrokeEnabled()&&this._stroke(t)},t.prototype.getTrace=function(t){var e,i,n,r,o=this.traceArr,a=o.length,l="";for(e=0;e<a;e++)(n=(i=o[e]).method)?(r=i.args,l+=n,t?l+="()":s.Util._isArray(r[0])?l+="(["+r.join(",")+"])":l+="("+r.join(",")+")"):(l+=i.property,t||(l+="="+i.val)),l+=";";return l},t.prototype.clearTrace=function(){this.traceArr=[]},t.prototype._trace=function(t){var e=this.traceArr;e.push(t),e.length>=100&&e.shift()},t.prototype.reset=function(){var t=this.getCanvas().getPixelRatio();this.setTransform(1*t,0,0,1*t,0,0)},t.prototype.getCanvas=function(){return this.canvas},t.prototype.clear=function(t){var e=this.getCanvas();t?this.clearRect(t.x||0,t.y||0,t.width||0,t.height||0):this.clearRect(0,0,e.getWidth()/e.pixelRatio,e.getHeight()/e.pixelRatio)},t.prototype._applyLineCap=function(t){var e=t.getLineCap();e&&this.setAttr("lineCap",e)},t.prototype._applyOpacity=function(t){var e=t.getAbsoluteOpacity();1!==e&&this.setAttr("globalAlpha",e)},t.prototype._applyLineJoin=function(t){var e=t.getLineJoin();e&&this.setAttr("lineJoin",e)},t.prototype.setAttr=function(t,e){this._context[t]=e},t.prototype.arc=function(t,e,i,n,s,r){this._context.arc(t,e,i,n,s,r)},t.prototype.arcTo=function(t,e,i,n,s,r){this._context.arc(t,e,i,n,s,r)},t.prototype.beginPath=function(){this._context.beginPath()},t.prototype.bezierCurveTo=function(t,e,i,n,s,r){this._context.bezierCurveTo(t,e,i,n,s,r)},t.prototype.clearRect=function(t,e,i,n){this._context.clearRect(t,e,i,n)},t.prototype.clip=function(){this._context.clip()},t.prototype.closePath=function(){this._context.closePath()},t.prototype.createImageData=function(t,e){var i=arguments;return 2===i.length?this._context.createImageData(t,e):1===i.length?this._context.createImageData(t):void 0},t.prototype.createLinearGradient=function(t,e,i,n){return this._context.createLinearGradient(t,e,i,n)},t.prototype.createPattern=function(t,e){return this._context.createPattern(t,e)},t.prototype.createRadialGradient=function(t,e,i,n,s,r){return this._context.createRadialGradient(t,e,i,n,s,r)},t.prototype.drawImage=function(t,e,i,n,s,r,o,a,l){var h=arguments,c=this._context;3===h.length?c.drawImage(t,e,i):5===h.length?c.drawImage(t,e,i,n,s):9===h.length&&c.drawImage(t,e,i,n,s,r,o,a,l)},t.prototype.ellipse=function(t,e,i,n,s,r,o,a){this._context.ellipse(t,e,i,n,s,r,o,a)},t.prototype.isPointInPath=function(t,e){return this._context.isPointInPath(t,e)},t.prototype.fill=function(){this._context.fill()},t.prototype.fillRect=function(t,e,i,n){this._context.fillRect(t,e,i,n)},t.prototype.strokeRect=function(t,e,i,n){this._context.strokeRect(t,e,i,n)},t.prototype.fillText=function(t,e,i){this._context.fillText(t,e,i)},t.prototype.measureText=function(t){return this._context.measureText(t)},t.prototype.getImageData=function(t,e,i,n){return this._context.getImageData(t,e,i,n)},t.prototype.lineTo=function(t,e){this._context.lineTo(t,e)},t.prototype.moveTo=function(t,e){this._context.moveTo(t,e)},t.prototype.rect=function(t,e,i,n){this._context.rect(t,e,i,n)},t.prototype.putImageData=function(t,e,i){this._context.putImageData(t,e,i)},t.prototype.quadraticCurveTo=function(t,e,i,n){this._context.quadraticCurveTo(t,e,i,n)},t.prototype.restore=function(){this._context.restore()},t.prototype.rotate=function(t){this._context.rotate(t)},t.prototype.save=function(){this._context.save()},t.prototype.scale=function(t,e){this._context.scale(t,e)},t.prototype.setLineDash=function(t){this._context.setLineDash?this._context.setLineDash(t):"mozDash"in this._context?this._context.mozDash=t:"webkitLineDash"in this._context&&(this._context.webkitLineDash=t)},t.prototype.getLineDash=function(){return this._context.getLineDash()},t.prototype.setTransform=function(t,e,i,n,s,r){this._context.setTransform(t,e,i,n,s,r)},t.prototype.stroke=function(){this._context.stroke()},t.prototype.strokeText=function(t,e,i,n){this._context.strokeText(t,e,i,n)},t.prototype.transform=function(t,e,i,n,s,r){this._context.transform(t,e,i,n,s,r)},t.prototype.translate=function(t,e){this._context.translate(t,e)},t.prototype._enableTrace=function(){var t,e,i=this,n=o.length,r=s.Util._simplifyArray,a=this.setAttr,l=function(t){var n,s=i[t];i[t]=function(){return e=r(Array.prototype.slice.call(arguments,0)),n=s.apply(i,arguments),i._trace({method:t,args:e}),n}};for(t=0;t<n;t++)l(o[t]);i.setAttr=function(){a.apply(i,arguments);var t=arguments[0],e=arguments[1];"shadowOffsetX"!==t&&"shadowOffsetY"!==t&&"shadowBlur"!==t||(e/=this.canvas.getPixelRatio()),i._trace({property:t,val:e})}},t.prototype._applyGlobalCompositeOperation=function(t){var e=t.getGlobalCompositeOperation();"source-over"!==e&&this.setAttr("globalCompositeOperation",e)},t}();e.Context=a,["fillStyle","strokeStyle","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","lineCap","lineDashOffset","lineJoin","lineWidth","miterLimit","font","textAlign","textBaseline","globalAlpha","globalCompositeOperation","imageSmoothingEnabled"].forEach(function(t){Object.defineProperty(a.prototype,t,{get:function(){return this._context[t]},set:function(e){this._context[t]=e}})}),e.SceneContext=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype._fillColor=function(t){var e=t.fill();this.setAttr("fillStyle",e),t._fillFunc(this)},e.prototype._fillPattern=function(t){var e=t.getFillPatternX(),i=t.getFillPatternY(),n=t.getFillPatternScaleX(),s=t.getFillPatternScaleY(),o=r.Konva.getAngle(t.getFillPatternRotation()),a=t.getFillPatternOffsetX(),l=t.getFillPatternOffsetY();(e||i)&&this.translate(e||0,i||0),o&&this.rotate(o),(n||s)&&this.scale(n,s),(a||l)&&this.translate(-1*a,-1*l),this.setAttr("fillStyle",t._getFillPattern()),t._fillFunc(this)},e.prototype._fillLinearGradient=function(t){var e=t._getLinearGradient();e&&(this.setAttr("fillStyle",e),t._fillFunc(this))},e.prototype._fillRadialGradient=function(t){var e=t._getRadialGradient();e&&(this.setAttr("fillStyle",e),t._fillFunc(this))},e.prototype._fill=function(t){var e=t.fill(),i=t.getFillPriority();if(e&&"color"===i)this._fillColor(t);else{var n=t.getFillPatternImage();if(n&&"pattern"===i)this._fillPattern(t);else{var s=t.getFillLinearGradientColorStops();if(s&&"linear-gradient"===i)this._fillLinearGradient(t);else{var r=t.getFillRadialGradientColorStops();r&&"radial-gradient"===i?this._fillRadialGradient(t):e?this._fillColor(t):n?this._fillPattern(t):s?this._fillLinearGradient(t):r&&this._fillRadialGradient(t)}}}},e.prototype._strokeLinearGradient=function(t){var e=t.getStrokeLinearGradientStartPoint(),i=t.getStrokeLinearGradientEndPoint(),n=t.getStrokeLinearGradientColorStops(),s=this.createLinearGradient(e.x,e.y,i.x,i.y);if(n){for(var r=0;r<n.length;r+=2)s.addColorStop(n[r],n[r+1]);this.setAttr("strokeStyle",s)}},e.prototype._stroke=function(t){var e=t.dash(),i=t.getStrokeScaleEnabled();if(t.hasStroke()){if(!i){this.save();var n=this.getCanvas().getPixelRatio();this.setTransform(n,0,0,n,0,0)}this._applyLineCap(t),e&&t.dashEnabled()&&(this.setLineDash(e),this.setAttr("lineDashOffset",t.dashOffset())),this.setAttr("lineWidth",t.strokeWidth()),t.getShadowForStrokeEnabled()||this.setAttr("shadowColor","rgba(0,0,0,0)"),t.getStrokeLinearGradientColorStops()?this._strokeLinearGradient(t):this.setAttr("strokeStyle",t.stroke()),t._strokeFunc(this),i||this.restore()}},e.prototype._applyShadow=function(t){var e=s.Util,i=e.get(t.getShadowRGBA(),"black"),n=e.get(t.getShadowBlur(),5),r=e.get(t.getShadowOffset(),{x:0,y:0}),o=t.getAbsoluteScale(),a=this.canvas.getPixelRatio(),l=o.x*a,h=o.y*a;this.setAttr("shadowColor",i),this.setAttr("shadowBlur",n*Math.min(Math.abs(l),Math.abs(h))),this.setAttr("shadowOffsetX",r.x*l),this.setAttr("shadowOffsetY",r.y*h)},e}(a),e.HitContext=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype._fill=function(t){this.save(),this.setAttr("fillStyle",t.colorKey),t._fillFuncHit(this),this.restore()},e.prototype._stroke=function(t){if(t.hasStroke()&&t.hitStrokeWidth()){var e=t.getStrokeScaleEnabled();if(!e){this.save();var i=this.getCanvas().getPixelRatio();this.setTransform(i,0,0,i,0,0)}this._applyLineCap(t);var n=t.hitStrokeWidth(),s="auto"===n?t.strokeWidth():n;this.setAttr("lineWidth",s),this.setAttr("strokeStyle",t.colorKey),t._strokeFuncHit(this),e||this.restore()}},e}(a)},"xjD+":function(t,e,i){"use strict";i.d(e,"a",function(){return u});var n=i("lJxs"),s=i("vkgz"),r=i("2Vo4"),o=i("IY7X"),a=i("RNJk"),l=i("wd/R"),h=i("8Y7J"),c=i("IheW");let u=(()=>{class t{constructor(t,e){this.http=t,this.notificationS=e,this.tables$=new r.a([])}getReservationDays(t){return this.http.post("",{method:"getWorkDates",month:t})}getReservationTime(t){return this.http.post("",{method:"getWorkTime",date:l(t).format("YYYY-MM-DD")})}getReservationTables(t){return this.http.post("",{method:"tablesSearch",num_guests:t.num_guests,timecode:t.timecode}).pipe(Object(n.a)(e=>e.items.map(e=>{const i=e.status.split(",");return Object.assign({},e,{isActive:"available"===i[1]&&"active"===i[0],status:"available"===i[1]&&"active"===i[0]?o.a.DEFAULT:o.a.BLOCKED,_numGuestsEnabled:e.num_persons>=t.num_guests})})),Object(s.a)(t=>{this.tables$.next(t)}))}makeReservation(t){return this.http.post("",Object.assign({method:"bookingAdd"},t)).pipe(Object(s.a)(()=>this.notificationS.open({title:"\u0421\u0442\u043e\u043b\u0438\u043a \u0437\u0430\u0431\u0440\u043e\u043d\u0438\u0440\u043e\u0432\u0430\u043d"})))}editReservation(t){return this.http.post("",Object.assign({method:"bookingEdit"},t)).pipe(Object(s.a)(()=>this.notificationS.open({title:"\u0411\u0440\u043e\u043d\u044c \u043e\u0442\u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0430"})))}getReservationDetails(t){return this.http.post("",{method:"bookingGetDetails",id:t})}}return t.ngInjectableDef=h.Ub({factory:function(){return new t(h.Vb(c.c),h.Vb(a.a))},token:t,providedIn:"root"}),t})()},yQk5:function(t,e,i){"use strict";i.d(e,"a",function(){return n});class n{}},zMNK:function(t,e,i){"use strict";i.d(e,"c",function(){return o}),i.d(e,"g",function(){return a}),i.d(e,"a",function(){return l}),i.d(e,"d",function(){return h}),i.d(e,"b",function(){return c}),i.d(e,"f",function(){return u}),i.d(e,"e",function(){return d});var n=i("8Y7J");function s(){throw Error("Host already has a portal attached")}class r{attach(t){return null==t&&function(){throw Error("Attempting to attach a portal to a null PortalOutlet")}(),t.hasAttached()&&s(),this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;null==t?function(){throw Error("Attempting to detach a portal that is not attached to a host")}():(this._attachedHost=null,t.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class o extends r{constructor(t,e,i,n){super(),this.component=t,this.viewContainerRef=e,this.injector=i,this.componentFactoryResolver=n}}class a extends r{constructor(t,e,i){super(),this.templateRef=t,this.viewContainerRef=e,this.context=i}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}}class l{constructor(){this._isDisposed=!1}hasAttached(){return!!this._attachedPortal}attach(t){return t||function(){throw Error("Must provide a portal to attach")}(),this.hasAttached()&&s(),this._isDisposed&&function(){throw Error("This PortalOutlet has already been disposed")}(),t instanceof o?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof a?(this._attachedPortal=t,this.attachTemplatePortal(t)):void function(){throw Error("Attempting to attach an unknown Portal type. BasePortalOutlet accepts either a ComponentPortal or a TemplatePortal.")}()}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class h extends l{constructor(t,e,i,n){super(),this.outletElement=t,this._componentFactoryResolver=e,this._appRef=i,this._defaultInjector=n}attachComponentPortal(t){const e=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component);let i;return t.viewContainerRef?(i=t.viewContainerRef.createComponent(e,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector),this.setDisposeFn(()=>i.destroy())):(i=e.create(t.injector||this._defaultInjector),this._appRef.attachView(i.hostView),this.setDisposeFn(()=>{this._appRef.detachView(i.hostView),i.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(i)),i}attachTemplatePortal(t){let e=t.viewContainerRef,i=e.createEmbeddedView(t.templateRef,t.context);return i.detectChanges(),i.rootNodes.forEach(t=>this.outletElement.appendChild(t)),this.setDisposeFn(()=>{let t=e.indexOf(i);-1!==t&&e.remove(t)}),i}dispose(){super.dispose(),null!=this.outletElement.parentNode&&this.outletElement.parentNode.removeChild(this.outletElement)}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}class c extends l{constructor(t,e){super(),this._componentFactoryResolver=t,this._viewContainerRef=e,this._isInitialized=!1,this.attached=new n.m}get portal(){return this._attachedPortal}set portal(t){(!this.hasAttached()||t||this._isInitialized)&&(this.hasAttached()&&super.detach(),t&&super.attach(t),this._attachedPortal=t)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(t){t.setAttachedHost(this);const e=null!=t.viewContainerRef?t.viewContainerRef:this._viewContainerRef,i=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component),n=e.createComponent(i,e.length,t.injector||e.injector);return super.setDisposeFn(()=>n.destroy()),this._attachedPortal=t,this._attachedRef=n,this.attached.emit(n),n}attachTemplatePortal(t){t.setAttachedHost(this);const e=this._viewContainerRef.createEmbeddedView(t.templateRef,t.context);return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=t,this._attachedRef=e,this.attached.emit(e),e}}class u{}class d{constructor(t,e){this._parentInjector=t,this._customTokens=e}get(t,e){const i=this._customTokens.get(t);return void 0!==i?i:this._parentInjector.get(t,e)}}},zgrA:function(t,e,i){"use strict";i.d(e,"a",function(){return r});var n=i("wd/R"),s=i("8Y7J");let r=(()=>{class t{constructor(){}generateCalendarArray(t){if(!t||!t.length)return[];const e=n.utc(t[0].value),i=[];let s=[];const r=t.length;if(s.length<e.weekday())for(;s.length<e.weekday();)s.unshift(null);for(let o=0;o<t.length;o++)0!==n.utc(t[o].value).weekday()?s.push(t[o]):(i.push(s),(s=[]).push(t[o])),(o+1===r||0===Math.abs(o-r)||0===Math.abs(o-r)&&1===s.length)&&i.push(s);return i}cutFromToday(t,e=14){return t.find((i,s)=>{if(n.utc(i.value).isSame(n.utc(),"day"))return t.splice(0,s-1),t.splice(e),!0}),t}}return t.ngInjectableDef=s.Ub({factory:function(){return new t},token:t,providedIn:"root"}),t})()},zym7:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Grayscale=function(t){var e,i,n=t.data,s=n.length;for(e=0;e<s;e+=4)n[e]=i=.34*n[e]+.5*n[e+1]+.16*n[e+2],n[e+1]=i,n[e+2]=i}}}]);